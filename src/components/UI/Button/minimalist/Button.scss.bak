// Canonical design system import - MUST BE FIRST
/**
 * Minimalist Button Theme Styles
 */

@use '../../../src/styles/design-system' as ds;
@import '../../../../styles/design-system/tokens/buttons';

.button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: var(--button-font-weight);
    border-radius: var(--button-border-radius);
    transition: var(--button-transition);
    outline: none;
    cursor: pointer;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    box-sizing: border-box;
    padding: 0.75rem 1.5rem;

    // Text element
    .button__text {
        position: relative;
        z-index: 1;
    }

    // Loading state
    &.button--loading {
        cursor: wait;
        opacity: 0.8;

        .button__spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1.5rem;
            height: 1.5rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        .button__text {
            visibility: hidden;
        }
    }

    // Size variants
    &.button--small {
        font-size: 0.875rem;
        padding: 0.5rem 1rem;
        min-height: 2.25rem;
    }

    &.button--medium {
        font-size: 1rem;
        padding: 0.625rem 1.25rem;
        min-height: 2.5rem;
    }

    &.button--large {
        font-size: 1.125rem;
        padding: 0.75rem 1.5rem;
        min-height: 3rem;
    }

    // Full width variant
    &.button--fullwidth {
        width: 100%;
    }

    // Style variants specific to Minimalist theme
    &.button--primary {
        background: var(--button-default-primary-gradient);
        color: var(--color-gray-900);
        box-shadow: var(--button-default-primary-shadow);

        &:hover,
        &:focus {
            background: var(--button-default-primary-gradient-hover);
            box-shadow: var(--button-default-primary-shadow-hover);
            transform: translateY(-2px);
        }

        &:active {
            transform: translateY(0);
            box-shadow: var(--button-default-primary-shadow);
        }
    }

    &.button--secondary {
        background-color: transparent;
        border: 2px solid var(--color-gray-300);
        color: var(--color-gray-300);

        &:hover,
        &:focus {
            background-color: rgba(var(--color-gray-300-rgb), 0.1);
        }

        &:active {
            background-color: rgba(var(--color-gray-300-rgb), 0.2);
        }
    }

    &.button--tertiary {
        background-color: transparent;
        color: var(--color-gray-300);

        &:hover,
        &:focus {
            background-color: rgba(var(--color-gray-300-rgb), 0.05);
        }

        &:active {
            background-color: rgba(var(--color-gray-300-rgb), 0.1);
        }
    }

    &.button--ghost {
        background-color: transparent;
        color: var(--color-gray-200);

        &:hover,
        &:focus {
            background-color: rgba(var(--color-gray-200-rgb), 0.05);
        }

        &:active {
            background-color: rgba(var(--color-gray-200-rgb), 0.1);
        }
    }

    &.button--gradient {
        background: linear-gradient(to right, var(--color-lime-300), var(--color-emerald-400));
        color: var(--color-gray-900);

        &:hover,
        &:focus {
            background: linear-gradient(to right, var(--color-lime-400), var(--color-emerald-500));
        }
    }

    // Disabled state
    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        pointer-events: none;
    }

    // Icon styling
    .button__icon {
        display: inline-flex;
        align-items: center;

        &--left {
            margin-right: 0.5rem;
        }

        &--right {
            margin-left: 0.5rem;
        }
    }

    // Apply journey-gradient-lime as a direct class
    &.journey-gradient-lime {
        background-image: linear-gradient(to right, var(--color-lime-300, #bef264), var(--color-emerald-400, #34d399));
        color: var(--color-gray-900);

        &:hover,
        &:focus {
            background-image: linear-gradient(to right, var(--color-lime-400, #a3e635), var(--color-emerald-500, #10b981));
        }
    }
}

// Keyframes for spinner
@keyframes spin {
    0% {
        transform: translate(-50%, -50%) rotate(0deg);
    }

    100% {
        transform: translate(-50%, -50%) rotate(360deg);
    }
}