/**
 * Core Button Component Styles
 * 
 * Contains base styles shared across all button themes
 */

// Import design system once
@use '../../../styles/design-system/index' as *;

// Build on top of the base .btn styles from design system
.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    position: relative;
    border: none;
    border-radius: var(--radius-md, 0.375rem);
    font-family: var(--font-sans, sans-serif);
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition-standard, all 0.3s ease);
    outline: none;
    white-space: nowrap;

    &:focus-visible {
        box-shadow: var(--shadow-focus-ring, 0 0 0 3px rgba(124, 58, 237, 0.5));
    }

    &:disabled {
        opacity: var(--opacity-disabled, 0.6);
        cursor: not-allowed;
    }

    // Size variants
    &--small {
        height: var(--size-btn-sm, 32px);
        padding: 0 var(--spacing-4, 1rem);
        font-size: var(--type-small, 0.875rem);
    }

    &--medium {
        height: var(--size-btn-md, 40px);
        padding: 0 var(--spacing-6, 1.5rem);
        font-size: var(--type-base, 1rem);
    }

    &--large {
        height: var(--size-btn-lg, 48px);
        padding: 0 var(--spacing-8, 2rem);
        font-size: var(--type-lg, 1.125rem);
    }

    // Fullwidth
    &--fullwidth {
        width: 100%;
    }

    // Loading state
    &--loading {
        color: transparent;

        .button__spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin-top: -10px;
            margin-left: -10px;
            border: 2px solid currentColor;
            border-top-color: transparent;
            border-radius: var(--radius-full, 9999px);
            animation: button-spin 0.8s linear infinite;
        }

        .button__icon {
            opacity: 0;
        }
    }

    // Icons
    &__icon {
        display: flex;
        align-items: center;
        justify-content: center;

        &--left {
            margin-right: var(--spacing-2, 0.5rem);
        }

        &--right {
            margin-left: var(--spacing-2, 0.5rem);
        }
    }

    &__text {
        display: inline-block;
    }
}

// Animation for loading spinner
@keyframes button-spin {
    to {
        transform: rotate(360deg);
    }
}

// Media query for reduced motion preference
@media (prefers-reduced-motion: reduce) {
    .button {
        transition: none;
    }

    .button--loading .button__spinner {
        animation-duration: 2s;
    }
}