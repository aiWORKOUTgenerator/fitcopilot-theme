import { Meta, Story, Controls, Primary } from '@storybook/addon-docs';
import Card from './Card';
import Media from '../Media/Media';

<Meta title="Components/Card" component={Card} />

# Card Component

The Card component is a versatile container that supports multiple variants, themes, and responsive layouts. It uses a discriminated union pattern to ensure type safety and proper prop validation.

## Base Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| theme | 'default' \| 'gym' \| 'sports' \| 'wellness' | 'default' | Theme variant to apply |
| size | 'sm' \| 'md' \| 'lg' | 'md' | Size variant of the card |
| layout | 'vertical' \| 'horizontal' | 'vertical' | Layout direction of the card |
| isLoading | boolean | false | Whether the card is in a loading state |
| error | string | undefined | Error message to display |
| className | string | undefined | Additional CSS class name |
| style | CSSProperties | undefined | Additional inline styles |
| children | ReactNode | undefined | Additional content |

## Variant-Specific Props

### Content Card
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| variant | 'content' | Yes | Identifies this as a content card |
| title | string | Yes | Card title |
| description | string | No | Card description |
| media | ReactNode | No | Media content (image, video, etc.) |

### Profile Card
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| variant | 'profile' | Yes | Identifies this as a profile card |
| name | string | Yes | User's name |
| bio | string | No | User's biography |
| avatarUrl | string | No | URL of user's avatar |
| media | ReactNode | No | Additional media content |

### Workout Card
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| variant | 'workout' | Yes | Identifies this as a workout card |
| workoutName | string | Yes | Name of the workout |
| difficulty | 'beginner' \| 'intermediate' \| 'advanced' | No | Workout difficulty level |
| duration | number | No | Workout duration in minutes |
| isBookmarked | boolean | No | Whether the workout is bookmarked |
| onBookmark | (id: string, isBookmarked: boolean) => void | No | Bookmark toggle handler |
| media | ReactNode | No | Workout media content |

### Program Card
| Prop | Type | Required | Description |
|------|------|----------|-------------|
| variant | 'program' | Yes | Identifies this as a program card |
| programName | string | Yes | Name of the program |
| level | string | No | Program level |
| summary | string | No | Program summary |
| media | ReactNode | No | Program media content |

## Theme Variants

The Card component supports multiple themes that can be applied using the `theme` prop:

### Default Theme
<Story name="DefaultTheme">
    <Card
        variant="content"
        title="Default Theme"
        description="This is a card with the default theme"
    />
</Story>

### Gym Theme
<Story name="GymTheme">
    <Card
        variant="content"
        title="Gym Theme"
        description="This is a card with the gym theme"
        theme="gym"
    />
</Story>

### Sports Theme
<Story name="SportsTheme">
    <Card
        variant="content"
        title="Sports Theme"
        description="This is a card with the sports theme"
        theme="sports"
    />
</Story>

### Wellness Theme
<Story name="WellnessTheme">
    <Card
        variant="content"
        title="Wellness Theme"
        description="This is a card with the wellness theme"
        theme="wellness"
    />
</Story>

## Responsive Behavior

The Card component supports responsive layouts through the `size` and `layout` props:

### Size Variants
<Story name="SizeVariants">
    <div style={{ display: 'flex', gap: '1rem' }}>
        <Card
            variant="content"
            title="Small Card"
            description="This is a small card"
            size="sm"
        />
        <Card
            variant="content"
            title="Medium Card"
            description="This is a medium card"
            size="md"
        />
        <Card
            variant="content"
            title="Large Card"
            description="This is a large card"
            size="lg"
        />
    </div>
</Story>

### Layout Variants
<Story name="LayoutVariants">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
        <Card
            variant="content"
            title="Vertical Layout"
            description="This is a card with vertical layout"
            layout="vertical"
        />
        <Card
            variant="content"
            title="Horizontal Layout"
            description="This is a card with horizontal layout"
            layout="horizontal"
        />
    </div>
</Story>

## Media Integration

The Card component can display various types of media content:

### Image Media
<Story name="ImageMedia">
    <Card
        variant="content"
        title="Image Card"
        description="This card contains an image"
        media={
            <Media
                variant="image"
                src="https://example.com/image.jpg"
                alt="Example Image"
            />
        }
    />
</Story>

### Video Media
<Story name="VideoMedia">
    <Card
        variant="content"
        title="Video Card"
        description="This card contains a video"
        media={
            <Media
                variant="video"
                src="https://example.com/video.mp4"
                poster="https://example.com/poster.jpg"
                controls
            />
        }
    />
</Story>

### Image Gallery
<Story name="ImageGallery">
    <Card
        variant="content"
        title="Gallery Card"
        description="This card contains an image gallery"
        media={
            <Media
                variant="imageGallery"
                images={[
                    { src: 'https://example.com/image1.jpg', alt: 'Image 1' },
                    { src: 'https://example.com/image2.jpg', alt: 'Image 2' }
                ]}
            />
        }
    />
</Story>

## Accessibility

The Card component follows accessibility best practices:

- Uses semantic HTML elements
- Includes proper ARIA attributes
- Supports keyboard navigation
- Provides alt text for images
- Maintains proper heading hierarchy

## Type Safety

The Card component uses TypeScript's discriminated union pattern to ensure type safety:

```typescript
type CardProps = ContentCardProps | ProfileCardProps | WorkoutCardProps | ProgramCardProps;
```

This ensures that:
- Each variant has its required props
- Props are properly typed
- Type guards are available for runtime validation

## Example Usage

```tsx
// Content Card
<Card
    variant="content"
    title="Example Content"
    description="This is an example content card"
    theme="gym"
    size="lg"
    layout="vertical"
/>

// Profile Card
<Card
    variant="profile"
    name="John Doe"
    bio="Fitness enthusiast"
    avatarUrl="avatar.jpg"
    theme="sports"
/>

// Workout Card
<Card
    variant="workout"
    workoutName="Morning Workout"
    difficulty="intermediate"
    duration={30}
    isBookmarked={true}
    onBookmark={(id, isBookmarked) => console.log(id, isBookmarked)}
    theme="wellness"
/>

// Program Card
<Card
    variant="program"
    programName="Fitness Program"
    level="Advanced"
    summary="12-week fitness program"
    theme="default"
    layout="horizontal"
/>
``` 