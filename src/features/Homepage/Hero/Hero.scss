// Canonical design system import - MUST BE FIRST
@import '../../../styles/design-system/index';

// Import hero theme variables
@import './hero-theme-variables.scss';

// src/features/Homepage/Hero/Hero.scss

// Main section styling 
.hero-section {
  position: var(--pos-hero-element-relative);
  background-color: var(--hero-bg-primary);

  &::before {
    content: var(--content-hero-empty);
    position: var(--pos-hero-element-absolute);
    top: var(--pos-hero-top-0);
    left: var(--pos-hero-left-0);
    right: var(--pos-hero-right-0);
    bottom: var(--pos-hero-bottom-0);
    background-image:
      linear-gradient(var(--hero-accent-color) var(--size-hero-border-width-primary), var(--color-hero-transparent) var(--size-hero-border-width-primary)),
      linear-gradient(var(--angle-hero-gradient), var(--hero-accent-color) var(--size-hero-border-width-primary), var(--color-hero-transparent) var(--size-hero-border-width-primary));
    background-size: var(--size-hero-grid-pattern) var(--size-hero-grid-pattern);
    background-position: var(--pos-hero-bg-x) var(--pos-hero-bg-y);
    z-index: var(--z-hero-behind);
    pointer-events: var(--pointer-hero-none);
  }
}

/* Grid pattern */
.bg-grid-pattern {
  background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 30px 30px;
}

/* Citron text pulsing animation - optimized */
.citron-text {
  color: #ddff0e;
  font-weight: 600;
  animation: pulseCitron 3s ease-in-out infinite;
  will-change: opacity, text-shadow;
}

@keyframes pulseCitron {

  0%,
  100% {
    opacity: 0.8;
    text-shadow: 0 0 0 rgba(221, 255, 14, 0);
  }

  50% {
    opacity: 1;
    text-shadow: 0 0 6px rgba(221, 255, 14, 0.4);
  }
}

.hero-floating-icon {
  position: var(--pos-hero-element-absolute);
  opacity: var(--opacity-hero-icon);
  filter: drop-shadow(var(--shadow-sm));
  animation: float var(--duration-hero-float-base) infinite var(--ease-in-out);
  z-index: var(--z-hero-floating);

  &:hover {
    z-index: var(--z-hero-hover);
  }

  // Different animation timing for odd/even icons
  &:nth-child(odd) {
    animation-duration: var(--duration-hero-float-odd);
  }

  &:nth-child(even) {
    animation-duration: var(--duration-hero-float-even);
    animation-delay: var(--duration-hero-animation-delay);
  }

  svg {
    fill: var(--color-hero-current);
    width: var(--width-hero-full);
    height: var(--height-hero-full);
    transition: transform var(--transition-fast);
  }

  &:hover {
    opacity: var(--opacity-hero-icon-hover);

    svg {
      transform: scale(var(--scale-hero-icon-hover));
    }
  }
}

/* Floating icons styling - optimized */
.floating-icon {
  position: absolute;
  opacity: 0.15;
  filter: drop-shadow(0 0 6px rgba(163, 230, 53, 0.3));
  transform-origin: center;
  z-index: 5;
  will-change: transform;
}

.floating-icon svg {
  color: #a3e635;
  fill: rgba(163, 230, 53, 0.08);
  stroke-width: 1.75;
}

.floating-icon:nth-child(odd) {
  animation-direction: alternate;
}

.floating-icon:nth-child(even) {
  animation-direction: alternate-reverse;
}

/* Float animation for floating icons */
@keyframes float {
  0% {
    transform: translateY(0) rotate(0deg) scale(1);
  }

  50% {
    transform: translateY(-15px) rotate(3deg) scale(1.03);
  }

  100% {
    transform: translateY(0) rotate(0deg) scale(1);
  }
}

/* Gradient animation */
@keyframes gradientMove {
  0% {
    background-position: var(--pos-hero-gradient-start);
  }

  50% {
    background-position: var(--pos-hero-gradient-mid);
  }

  100% {
    background-position: var(--pos-hero-gradient-end);
  }
}

// Content card styling
.hero-section {
  .content-card {
    background-color: var(--hero-bg-card);
    backdrop-filter: blur(var(--size-hero-backdrop-blur));
    border: 1px solid var(--hero-border-color);
    border-radius: var(--radius-xl);
    padding: var(--spacing-8);
    box-shadow: var(--shadow-xl);
    margin-bottom: var(--spacing-6);
  }

  // Hero heading
  .hero-heading {
    color: var(--hero-text-primary);
    font-size: var(--type-hero-heading);
    font-weight: var(--weight-bold);
    margin-bottom: var(--spacing-4);
  }

  // Text gradient
  .text-gradient {
    background-size: var(--size-hero-gradient-x) var(--size-hero-gradient-y);
    animation: gradientMove var(--duration-hero-gradient) var(--ease-hero-gradient) infinite;
    background-image: linear-gradient(var(--angle-hero-gradient), var(--hero-accent-gradient-from), var(--hero-accent-gradient-to)) !important;
  }

  // Divider
  .divider {
    width: var(--size-divider-width);
    height: var(--size-divider-height);
    margin: 0 auto var(--spacing-6) auto;
    border-radius: var(--radius-full);
    background-image: linear-gradient(var(--angle-hero-gradient), var(--hero-accent-gradient-from), var(--hero-accent-gradient-to)) !important;
  }

  // Hero description
  .hero-description {
    color: var(--hero-text-secondary);
    margin-bottom: var(--spacing-10);
    max-width: var(--max-w-2xl);
    margin-left: auto;
    margin-right: auto;
    font-size: var(--type-hero-description);
    line-height: var(--line-hero-description);
  }

  // Accent text
  .accent-text {
    color: var(--hero-accent-color);
  }

  // Button container
  .cta-container {
    display: flex;
    flex-direction: column;
    gap: var(--size-hero-gap-buttons);
    margin-bottom: var(--size-hero-margin-buttons);

    @media (min-width: 640px) {
      flex-direction: row;
    }
  }
}

/* Tooltip container positioning */
.tooltip-container {
  position: absolute;
  width: 100%;
  top: calc(100% + 15px);
  left: 0;
  display: flex;
  justify-content: center;
  z-index: 100;
  pointer-events: none;
}

/* Tooltip styling - optimized shadow */
.tooltip {
  position: relative;
  background: #1f2937;
  /* bg-gray-800 */
  border-radius: 8px;
  padding: 12px;
  font-size: 14px;
  line-height: 1.4;
  max-width: 260px;
  width: 264px;
  color: #d1d5db;
  /* text-gray-300 */
  box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.3);
  border: none;
  opacity: 0;
  transform: translateY(8px);
  visibility: hidden;
  transition: all 0.3s ease;
  will-change: transform, opacity;
}

/* Tooltip heading */
.tooltip-title {
  font-size: 14px;
  font-weight: 500;
  color: #a3e635;
  /* text-lime-300 */
  margin-bottom: 4px;
}

/* Tooltip arrow */
.tooltip::before {
  content: '';
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  border-width: 6px;
  border-style: solid;
  border-color: transparent transparent #1f2937 transparent;
}

/* Tooltip show/hide states */
.tooltip.show {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.tooltip.hide {
  opacity: 0;
  visibility: hidden;
  transform: translateY(8px);
}

/* Tooltip content */
.tooltip-content {
  display: flex;
  align-items: flex-start;
  margin-bottom: 8px;
}

/* Icon container */
.tooltip-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 8px;
  flex-shrink: 0;
  margin-top: 2px;
}

/* Text container */
.tooltip-text {
  flex: 1;
}

/* Arrow icon - optimized animation */
.arrow-icon {
  display: inline-block;
  animation: bounce 1.5s ease-in-out infinite;
  will-change: transform;
  margin-left: 4px;
}

/* Button optimizations */
.hero-button {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  will-change: transform, box-shadow;
  display: var(--display-hero-inline-flex);
  align-items: var(--align-hero-center);
  justify-content: var(--justify-hero-center);
  padding: var(--size-hero-button-padding);
  border-radius: var(--radius-full);
  font-weight: var(--weight-hero-button);
  text-align: var(--text-align-hero-center);
  min-width: var(--size-hero-button-min-width);

  &.primary {
    background: linear-gradient(var(--angle-hero-gradient), var(--color-lime), var(--color-lime-dark));
    color: var(--color-hero-button-primary-text);
    position: var(--pos-hero-element-relative);
    z-index: var(--z-hero-base);

    &:hover {
      background: linear-gradient(var(--angle-hero-gradient), var(--color-lime-light), var(--color-lime-medium));
      transform: translateY(var(--scale-hero-button-hover-y));
      box-shadow: var(--shadow-hero-button-hover);
    }
  }

  &.secondary {
    background-color: var(--color-hero-button-secondary-bg);
    color: var(--color-text-inverse);
    border: var(--size-hero-border-width-secondary) solid var(--color-hero-button-secondary-border);

    &:hover {
      background-color: var(--color-hero-button-secondary-hover-bg);
      transform: translateY(var(--scale-hero-button-hover-y));
      box-shadow: var(--shadow-hero-secondary-button-hover);
    }
  }
}

/* Shadow optimizations */
.shadow-optimized {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
}

.shadow-optimized-hover {
  box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.2), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
}

.shadow-lime {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -4px rgba(132, 204, 22, 0.1);
}

/* Custom shadow styles */
.shadow-optimized {
  box-shadow: var(--shadow-hero-optimized);
}

.shadow-optimized-hover {
  box-shadow: var(--shadow-hero-optimized-hover);
}

/* Sign in link */
a.inline-flex.items-center.text-gray-400 {
  font-size: var(--type-hero-signin);
  margin-top: var(--spacing-4);
  color: var(--color-hero-signin-text);

  &:hover {
    color: var(--color-lime);
  }
}

/* Feature Pills */
.flex.flex-wrap.justify-center.gap-3.mt-8 {
  margin-top: var(--size-hero-margin-feature-pills) !important;
}

.bg-gray-800\/50 {
  background-color: var(--color-hero-feature-pill-bg) !important;
  border: var(--size-hero-border-width-primary) solid var(--color-hero-feature-pill-border) !important;
}

// Legacy selectors for backward compatibility
.bg-gray-800\/30 {
  background-color: var(--hero-bg-card) !important;
  backdrop-filter: blur(var(--size-hero-backdrop-blur)) !important;
}

.bg-gradient-to-r.from-lime-300.to-emerald-400 {
  background-image: linear-gradient(var(--angle-hero-gradient), var(--hero-accent-gradient-from), var(--hero-accent-gradient-to)) !important;
}

.w-24.h-1 {
  margin-bottom: var(--spacing-6) !important;
  background-image: linear-gradient(var(--angle-hero-gradient), var(--hero-accent-gradient-from), var(--hero-accent-gradient-to)) !important;
}

.mb-10 {
  margin-bottom: var(--spacing-12) !important;
}

.flex.flex-col.sm\:flex-row.gap-6 {
  gap: var(--size-hero-gap-buttons) !important;
  margin-bottom: var(--size-hero-margin-buttons) !important;
}

// Helper classes
.hero-logo {
  height: 150px;
  width: auto;
  display: block;
  margin: 0 auto;
}

// Divider under heading
.divider {
  width: 96px;
  height: 4px;
  background: linear-gradient(to right, #bef264, #34d399);
  margin: 0 auto 1.5rem auto;
  border-radius: 9999px;
}

// Feature pill styles
.feature-pill {
  background-color: rgba(31, 41, 55, 0.5);
  backdrop-filter: blur(4px);
  padding: 0.5rem 1rem;
  border-radius: 9999px;
  font-size: 0.95rem;
  color: #d1d5db;
  border: 1px solid rgba(55, 65, 81, 0.5);
  display: flex;
  align-items: center;
  margin: 0 0.5rem 0.5rem 0;
}

.feature-pill .icon {
  color: #a3e635;
  margin-right: 0.5rem;
}

// Hero video styles
.hero-video {
  border-radius: 1rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1);
  border: 1px solid var(--color-ui-border-light);
  overflow: hidden;

  // Override some default video player styles to match Hero aesthetics
  .control-button {
    background-color: var(--color-accent-400-alpha-70);

    &:hover {
      background-color: var(--color-accent-400);
    }
  }

  // Enhanced gradient for progress bar to match Hero
  .video-progress-bar {
    background: linear-gradient(to right, var(--color-lime-300), var(--color-emerald-400));
  }

  // Responsive adjustments
  @media (max-width: 768px) {
    margin-top: 2rem;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .citron-text {
    animation: none !important;
  }

  .floating-icon {
    animation: none !important;
  }

  .tooltip {
    transition: none !important;
  }

  .tooltip.show {
    opacity: 1;
    visibility: visible;
    transform: none;
  }

  .arrow-icon {
    animation: none !important;
  }

  .hero-button {
    transition: none !important;
  }

  .floating-icon {
    animation: var(--animation-hero-none);
  }

  .text-gradient {
    animation: var(--animation-hero-none);
  }
}