[{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/Homepage.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/Homepage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/DemoNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/DesignSystemDemo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/ExampleComponent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/Layout/Header/Header.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/Layout/Header/Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/Layout/Page/Page.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/Layout/Page/Page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/Layout/Section/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/OptimizedImage/OptimizedImage.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":73,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1726,1729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1726,1729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef, useState } from 'react';\nimport './OptimizedImage.scss';\n\n/**\n * Image format options\n */\nexport type ImageFormat = 'webp' | 'avif' | 'jpeg' | 'png' | 'original';\n\n/**\n * Responsive image sizes\n */\nexport interface ResponsiveImage {\n    /** Original source URL */\n    src: string;\n\n    /** Low-quality image placeholder (data URI or URL) */\n    lqip?: string;\n\n    /** Width descriptor for the image */\n    width?: number;\n\n    /** Height descriptor for the image */\n    height?: number;\n\n    /** Responsive srcset string or source URLs */\n    srcset?: string | Array<{ src: string; width: number }>;\n\n    /** Sizes attribute for responsive images */\n    sizes?: string;\n\n    /** Alternative formats (webp, avif) */\n    formats?: Array<{ format: ImageFormat; srcset: string }>;\n\n    /** Media query for specific viewport sizes */\n    media?: string;\n}\n\n/**\n * OptimizedImage props\n */\nexport interface OptimizedImageProps {\n    /** Primary image source URL */\n    src: string;\n\n    /** Alternative text for the image */\n    alt: string;\n\n    /** Optional responsive image configuration */\n    responsive?: ResponsiveImage;\n\n    /** Optional CSS class name */\n    className?: string;\n\n    /** Whether to use a fade-in effect */\n    fadeIn?: boolean;\n\n    /** Whether to lazy load the image */\n    lazy?: boolean;\n\n    /** Function to call when image loads successfully */\n    onLoad?: () => void;\n\n    /** Function to call when image fails to load */\n    onError?: () => void;\n\n    /** When true, will add priority loading hints */\n    priority?: boolean;\n\n    /** Optional inline style overrides */\n    style?: React.CSSProperties;\n\n    /** Additional image attributes */\n    [key: string]: any;\n}\n\n/**\n * Optimized image component with responsive loading, LQIP, and modern formats\n * \n * @example\n * // Basic usage\n * <OptimizedImage src=\"/images/hero.jpg\" alt=\"Hero image\" />\n * \n * @example\n * // Advanced responsive usage\n * <OptimizedImage \n *   src=\"/images/hero.jpg\" \n *   alt=\"Hero image\"\n *   responsive={{\n *     lqip: \"data:image/jpeg;base64,/9j...\",\n *     srcset: \"/images/hero-400.jpg 400w, /images/hero-800.jpg 800w\",\n *     sizes: \"(max-width: 768px) 100vw, 50vw\",\n *     formats: [\n *       { format: 'webp', srcset: \"/images/hero-400.webp 400w, /images/hero-800.webp 800w\" }\n *     ]\n *   }}\n *   fadeIn\n * />\n */\nconst OptimizedImage: React.FC<OptimizedImageProps> = ({\n    src,\n    alt,\n    responsive,\n    className = '',\n    fadeIn = true,\n    lazy = true,\n    onLoad,\n    onError,\n    priority = false,\n    style,\n    ...props\n}) => {\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [error, setError] = useState(false);\n    const imgRef = useRef<HTMLImageElement>(null);\n\n    // Extract responsive properties with fallbacks\n    const {\n        lqip,\n        srcset,\n        sizes,\n        formats = [],\n        width,\n        height\n    } = responsive || {};\n\n    // Generate srcset string from array if needed\n    const getSrcsetString = (srcsetData: string | Array<{ src: string; width: number }> | undefined): string => {\n        if (!srcsetData) return '';\n        if (typeof srcsetData === 'string') return srcsetData;\n\n        return srcsetData.map(item => `${item.src} ${item.width}w`).join(', ');\n    };\n\n    // Handle image load\n    const handleLoad = () => {\n        setIsLoaded(true);\n        onLoad?.();\n    };\n\n    // Handle image error\n    const handleError = () => {\n        setError(true);\n        onError?.();\n    };\n\n    // Check if image is in viewport on mount for eager loading prioritized images\n    useEffect(() => {\n        if (priority && imgRef.current) {\n            // For priority images, preload them immediately\n            const img = new Image();\n            img.src = src;\n        }\n    }, [src, priority]);\n\n    // Calculate aspect ratio for proper sizing\n    const aspectRatio = width && height ? { aspectRatio: `${width}/${height}` } : {};\n\n    // Combine styles\n    const combinedStyles: React.CSSProperties = {\n        ...aspectRatio,\n        ...style,\n    };\n\n    // Combine classes\n    const imageClasses = [\n        'optimized-image',\n        fadeIn ? 'optimized-image--fade' : '',\n        isLoaded ? 'optimized-image--loaded' : '',\n        error ? 'optimized-image--error' : '',\n        className,\n    ].filter(Boolean).join(' ');\n\n    // If we have responsive image data with multiple formats, use picture\n    if (formats.length > 0) {\n        return (\n            <picture>\n                {/* Modern format sources */}\n                {formats.map((format, index) => (\n                    <source\n                        key={`${format.format}-${index}`}\n                        type={`image/${format.format}`}\n                        srcSet={format.srcset}\n                        sizes={sizes}\n                    />\n                ))}\n\n                {/* Base format (fallback for all browsers) */}\n                <img\n                    ref={imgRef}\n                    src={src}\n                    alt={alt}\n                    srcSet={getSrcsetString(srcset)}\n                    sizes={sizes}\n                    loading={priority ? 'eager' : lazy ? 'lazy' : 'eager'}\n                    onLoad={handleLoad}\n                    onError={handleError}\n                    className={imageClasses}\n                    style={{\n                        ...combinedStyles,\n                        backgroundColor: (lqip && !isLoaded) ? 'transparent' : undefined,\n                    }}\n                    width={width}\n                    height={height}\n                    {...props}\n                />\n\n                {/* LQIP overlay that fades out when main image loads */}\n                {lqip && !isLoaded && !error && (\n                    <img\n                        src={lqip}\n                        alt=\"\"\n                        aria-hidden=\"true\"\n                        className=\"optimized-image__lqip\"\n                        style={combinedStyles}\n                    />\n                )}\n            </picture>\n        );\n    }\n\n    // Simple image without formats\n    return (\n        <div className=\"optimized-image-container\" style={aspectRatio}>\n            {lqip && !isLoaded && !error && (\n                <img\n                    src={lqip}\n                    alt=\"\"\n                    aria-hidden=\"true\"\n                    className=\"optimized-image__lqip\"\n                    style={combinedStyles}\n                />\n            )}\n\n            <img\n                ref={imgRef}\n                src={src}\n                alt={alt}\n                srcSet={getSrcsetString(srcset)}\n                sizes={sizes}\n                loading={priority ? 'eager' : lazy ? 'lazy' : 'eager'}\n                onLoad={handleLoad}\n                onError={handleError}\n                className={imageClasses}\n                style={combinedStyles}\n                width={width}\n                height={height}\n                {...props}\n            />\n\n            {error && (\n                <div className=\"optimized-image__error\">\n                    <span>Failed to load image</span>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default OptimizedImage; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/OptimizedImage/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/__tests__/Button.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/__tests__/Button.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/button-variants.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/classic/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/context.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/default/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/gym/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/hero/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/minimalist/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/modern/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/sports/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Button/wellness/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Card/Card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Card/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Error/ErrorMessage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Error/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Loading/Loading.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Loading/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/PricingCard/PricingCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/PricingCard/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/PricingCard/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/ThemeSwitcher/ThemeSwitcher.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/ThemeSwitcher/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/Tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/TooltipExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/__tests__/ThemeContext.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/__tests__/Tooltip.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/context.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/debug-tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/examples/DefaultTooltipExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/examples/HeroTooltipExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/examples/PricingTooltipExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/examples/TooltipExamples.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/examples/TooltipShowcase.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/hooks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/hooks/useTooltip.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/hooks/useTooltipContent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/variants/default/Tooltip.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":75,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2194,2197],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2194,2197],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import classNames from 'classnames';\nimport React, { memo, useCallback, useEffect, useRef } from 'react';\nimport { useTooltip } from '../../hooks/useTooltip';\nimport { TooltipProps } from '../../types';\nimport './Tooltip.scss';\n\n/**\n * Default Tooltip component\n */\nconst Tooltip: React.FC<TooltipProps> = ({\n    children,\n    content,\n    title,\n    titleColor,\n    icon,\n    position = 'bottom',\n    width,\n    showOnHover = true,\n    showOnFocus = true,\n    delay = 0,\n    className,\n    initialVisible = false,\n    isVisible: controlledIsVisible,\n    accentColor,\n    id,\n}) => {\n    const tooltipRef = useRef<HTMLDivElement>(null);\n    const { isVisible, show, hide } = useTooltip({\n        delay,\n        initialVisible\n    });\n\n    // Support both controlled and uncontrolled modes\n    const visible = controlledIsVisible !== undefined ? controlledIsVisible : isVisible;\n\n    // Update visibility based on controlled prop\n    useEffect(() => {\n        if (controlledIsVisible !== undefined) {\n            if (controlledIsVisible) {\n                show();\n            } else {\n                hide();\n            }\n        }\n    }, [controlledIsVisible, show, hide]);\n\n    // Memoized event handlers to prevent unnecessary re-renders\n    const handleMouseEnter = useCallback(() => {\n        if (showOnHover && controlledIsVisible === undefined) {\n            show();\n        }\n    }, [showOnHover, controlledIsVisible, show]);\n\n    const handleMouseLeave = useCallback(() => {\n        if (showOnHover && controlledIsVisible === undefined) {\n            hide();\n        }\n    }, [showOnHover, controlledIsVisible, hide]);\n\n    const handleFocus = useCallback(() => {\n        if (showOnFocus && controlledIsVisible === undefined) {\n            show();\n        }\n    }, [showOnFocus, controlledIsVisible, show]);\n\n    const handleBlur = useCallback(() => {\n        if (showOnFocus && controlledIsVisible === undefined) {\n            hide();\n        }\n    }, [showOnFocus, controlledIsVisible, hide]);\n\n    // Style object for dynamic properties\n    const tooltipStyle: React.CSSProperties = {\n        ...(width && { width }),\n        ...(accentColor && { '--accent-color': accentColor } as any),\n    };\n\n    // Get position classes\n    const tooltipContentClasses = classNames(\n        'tooltip-content',\n        `tooltip-${position}`,\n        { 'visible': visible },\n        className\n    );\n\n    return (\n        <div className=\"tooltip-wrapper\">\n            <div\n                className=\"tooltip-trigger\"\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n            >\n                {children}\n            </div>\n\n            <div\n                ref={tooltipRef}\n                className={tooltipContentClasses}\n                role=\"tooltip\"\n                id={id}\n                aria-hidden={!visible}\n                style={tooltipStyle}\n            >\n                <div className=\"tooltip-inner\">\n                    {(icon || title) && (\n                        <div className=\"tooltip-header\">\n                            {icon && <div className=\"tooltip-icon\">{icon}</div>}\n                            {title && <div className={`tooltip-title ${titleColor || ''}`}>{title}</div>}\n                        </div>\n                    )}\n                    <div className=\"tooltip-body\">\n                        {typeof content === 'object' && React.isValidElement(content) ?\n                            content :\n                            <div className=\"tooltip-content-text\">{content}</div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n// Custom prop comparison function for React.memo optimization\nconst arePropsEqual = (prevProps: TooltipProps, nextProps: TooltipProps) => {\n    // Always re-render if visibility state changes\n    if (prevProps.isVisible !== nextProps.isVisible) return false;\n\n    // Check for content changes\n    if (prevProps.content !== nextProps.content) return false;\n    if (prevProps.title !== nextProps.title) return false;\n\n    // Children changes should always trigger re-render\n    if (prevProps.children !== nextProps.children) return false;\n\n    // Check styling props\n    if (prevProps.position !== nextProps.position) return false;\n    if (prevProps.width !== nextProps.width) return false;\n    if (prevProps.accentColor !== nextProps.accentColor) return false;\n    if (prevProps.titleColor !== nextProps.titleColor) return false;\n\n    // If we get here, props are considered equal\n    return true;\n};\n\n// Export memoized version of the tooltip component\nexport default memo(Tooltip, arePropsEqual); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/variants/hero/Tooltip.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":79,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":79,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2101,2104],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2101,2104],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import classNames from 'classnames';\nimport React, { useEffect, useRef } from 'react';\nimport { useTooltip } from '../../hooks/useTooltip';\nimport { TooltipProps } from '../../types';\nimport './Tooltip.scss';\n\n/**\n * Hero Tooltip component\n * \n * Special tooltip styling for the Hero section\n * Supports both controlled and uncontrolled visibility\n */\nconst Tooltip: React.FC<TooltipProps> = ({\n    children,\n    content,\n    title,\n    titleColor,\n    icon,\n    position = 'bottom',\n    width,\n    showOnHover = true,\n    showOnFocus = true,\n    delay = 0,\n    className,\n    initialVisible = false,\n    isVisible: controlledIsVisible,\n    accentColor,\n    id,\n}) => {\n    const tooltipRef = useRef<HTMLDivElement>(null);\n    const { isVisible, show, hide } = useTooltip({\n        delay,\n        initialVisible\n    });\n\n    // Support both controlled and uncontrolled modes\n    const visible = controlledIsVisible !== undefined ? controlledIsVisible : isVisible;\n\n    // Update visibility based on controlled prop\n    useEffect(() => {\n        if (controlledIsVisible !== undefined) {\n            if (controlledIsVisible) {\n                show();\n            } else {\n                hide();\n            }\n        }\n    }, [controlledIsVisible, show, hide]);\n\n    // Handle mouse events only in uncontrolled mode\n    const handleMouseEnter = () => {\n        if (showOnHover && controlledIsVisible === undefined) {\n            show();\n        }\n    };\n\n    const handleMouseLeave = () => {\n        if (showOnHover && controlledIsVisible === undefined) {\n            hide();\n        }\n    };\n\n    // Handle focus events only in uncontrolled mode\n    const handleFocus = () => {\n        if (showOnFocus && controlledIsVisible === undefined) {\n            show();\n        }\n    };\n\n    const handleBlur = () => {\n        if (showOnFocus && controlledIsVisible === undefined) {\n            hide();\n        }\n    };\n\n    // Style object for dynamic properties\n    const tooltipStyle: React.CSSProperties = {\n        ...(width && { width }),\n        ...(accentColor && { '--accent-color': accentColor } as any),\n    };\n\n    // Get position classes\n    const tooltipContentClasses = classNames(\n        'tooltip-content',\n        `tooltip-${position}`,\n        { 'visible': visible },\n        className\n    );\n\n    return (\n        <div className=\"tooltip-wrapper tooltip-theme-hero\">\n            <div\n                className=\"tooltip-trigger\"\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n            >\n                {children}\n            </div>\n\n            <div\n                ref={tooltipRef}\n                className={tooltipContentClasses}\n                role=\"tooltip\"\n                id={id}\n                aria-hidden={!visible}\n                style={tooltipStyle}\n            >\n                <div className=\"tooltip-inner\">\n                    {(icon || title) && (\n                        <div className=\"tooltip-header\">\n                            {icon && <div className=\"tooltip-icon\">{icon}</div>}\n                            {title && <div className={`tooltip-title ${titleColor || ''}`}>{title}</div>}\n                        </div>\n                    )}\n                    <div className=\"tooltip-body\">\n                        {content}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Tooltip; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/Tooltip/variants/pricing/Tooltip.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":80,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2142,2145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2142,2145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import classNames from 'classnames';\nimport React, { useEffect, useRef } from 'react';\nimport { useTooltip } from '../../hooks/useTooltip';\nimport { TooltipProps } from '../../types';\nimport './Tooltip.scss';\n\n/**\n * Pricing Tooltip variant\n * \n * Enhanced tooltip styling for the Pricing section\n * Adds special styling for feature comparisons and pricing-specific metadata\n */\nconst Tooltip: React.FC<TooltipProps> = ({\n    children,\n    content,\n    title,\n    titleColor,\n    icon,\n    position = 'bottom',\n    width,\n    showOnHover = true,\n    showOnFocus = true,\n    delay = 0,\n    className,\n    initialVisible = false,\n    isVisible: controlledIsVisible,\n    accentColor,\n    id,\n    planType,\n}) => {\n    const tooltipRef = useRef<HTMLDivElement>(null);\n    const { isVisible, show, hide } = useTooltip({\n        delay,\n        initialVisible\n    });\n\n    // Support both controlled and uncontrolled modes\n    const visible = controlledIsVisible !== undefined ? controlledIsVisible : isVisible;\n\n    // Update visibility based on controlled prop\n    useEffect(() => {\n        if (controlledIsVisible !== undefined) {\n            if (controlledIsVisible) {\n                show();\n            } else {\n                hide();\n            }\n        }\n    }, [controlledIsVisible, show, hide]);\n\n    // Handle mouse events only in uncontrolled mode\n    const handleMouseEnter = () => {\n        if (showOnHover && controlledIsVisible === undefined) {\n            show();\n        }\n    };\n\n    const handleMouseLeave = () => {\n        if (showOnHover && controlledIsVisible === undefined) {\n            hide();\n        }\n    };\n\n    // Handle focus events only in uncontrolled mode\n    const handleFocus = () => {\n        if (showOnFocus && controlledIsVisible === undefined) {\n            show();\n        }\n    };\n\n    const handleBlur = () => {\n        if (showOnFocus && controlledIsVisible === undefined) {\n            hide();\n        }\n    };\n\n    // Style object for dynamic properties\n    const tooltipStyle: React.CSSProperties = {\n        ...(width && { width }),\n        ...(accentColor && { '--accent-color': accentColor } as any),\n    };\n\n    // Get position classes\n    const tooltipContentClasses = classNames(\n        'tooltip-content',\n        `tooltip-${position}`,\n        { 'visible': visible },\n        className\n    );\n\n    // Determine plan type for specific styling\n    const plan = planType || (accentColor && accentColor.includes('59, 130, 246') ? 'basic' :\n        accentColor && accentColor.includes('132, 204, 22') ? 'pro' :\n            accentColor && accentColor.includes('139, 92, 246') ? 'elite' : undefined);\n\n    return (\n        <div className=\"tooltip-wrapper tooltip-theme-pricing\" data-plan={plan}>\n            <div\n                className=\"tooltip-trigger\"\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n            >\n                {children}\n            </div>\n\n            <div\n                ref={tooltipRef}\n                className={tooltipContentClasses}\n                role=\"tooltip\"\n                id={id}\n                aria-hidden={!visible}\n                style={tooltipStyle}\n            >\n                <div className=\"tooltip-inner\">\n                    {(icon || title) && (\n                        <div className=\"tooltip-header\">\n                            {icon && <div className=\"tooltip-icon\">{icon}</div>}\n                            {title && <div className={`tooltip-title ${titleColor || ''}`}>{title}</div>}\n                        </div>\n                    )}\n                    <div className=\"tooltip-body\">\n                        {typeof content === 'object' && React.isValidElement(content) ?\n                            content :\n                            <div className=\"tooltip-content-text\">{content}</div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Tooltip; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/UI/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/shared/GlobalBackground.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/shared/Section.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/components/shared/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/context/AppContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/ButtonDebug.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/ButtonImplementation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/ButtonPropsTracing.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[692,695],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[692,695],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport Button from '../components/UI/Button/Button';\nimport logger from '../utils/logger';\n\n// Create component-specific logger\nconst tracingLogger = logger.addContext('ButtonPropsTracing');\n\n// Type copied from the original Button component\ninterface ButtonProps {\n    variant?: 'primary' | 'secondary' | 'tertiary';\n    size?: 'small' | 'medium' | 'large';\n    themeContext?: string;\n    fullWidth?: boolean;\n    leftIcon?: React.ReactNode;\n    rightIcon?: React.ReactNode;\n    className?: string;\n    children: React.ReactNode;\n    onClick?: () => void;\n    disabled?: boolean;\n    type?: 'button' | 'submit' | 'reset';\n    loading?: boolean;\n    [key: string]: any; // Allow any other props\n}\n\n/**\n * Wrapper component that logs all Button props before passing them through\n */\nexport const TracedButton: React.FC<ButtonProps> = (props) => {\n    // Log props using structured logger\n    tracingLogger.group('Button Props Tracing', () => {\n        tracingLogger.debug('Props received:', { ...props });\n\n        // Analyze themeContext\n        if (props.themeContext) {\n            tracingLogger.debug('themeContext value:', props.themeContext);\n            tracingLogger.debug('Expected class:', `button--${props.themeContext}`);\n        } else {\n            tracingLogger.warn('No themeContext provided');\n        }\n\n        // Log CSS class composition \n        const expectedClasses = [\n            'button',\n            `button--${props.variant || 'primary'}`,\n            `button--${props.size || 'medium'}`,\n            props.themeContext && `button--${props.themeContext}`,\n            props.fullWidth && 'button--fullwidth',\n            props.className\n        ].filter(Boolean).join(' ');\n\n        tracingLogger.debug('Expected final class string:', expectedClasses);\n    });\n\n    // Pass all props to the original Button\n    return <Button {...props} data-traced=\"true\" />;\n};\n\n/**\n * Demo component with various button configurations for testing\n */\nexport const ButtonPropsTracing: React.FC = () => {\n    return (\n        <div className=\"p-6 bg-gray-100\">\n            <h2 className=\"text-2xl font-bold mb-6\">Button Props Tracing</h2>\n\n            <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold mb-4\">Standard Buttons</h3>\n                <div className=\"flex flex-wrap gap-4\">\n                    <TracedButton variant=\"primary\" size=\"medium\">\n                        Primary Button\n                    </TracedButton>\n\n                    <TracedButton variant=\"secondary\" size=\"medium\">\n                        Secondary Button\n                    </TracedButton>\n\n                    <TracedButton variant=\"tertiary\" size=\"medium\">\n                        Tertiary Button\n                    </TracedButton>\n                </div>\n            </div>\n\n            <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold mb-4\">Size Variants</h3>\n                <div className=\"flex flex-wrap gap-4\">\n                    <TracedButton variant=\"primary\" size=\"small\">\n                        Small Button\n                    </TracedButton>\n\n                    <TracedButton variant=\"primary\" size=\"medium\">\n                        Medium Button\n                    </TracedButton>\n\n                    <TracedButton variant=\"primary\" size=\"large\">\n                        Large Button\n                    </TracedButton>\n                </div>\n            </div>\n\n            <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold mb-4\">Theme Context Variants</h3>\n                <div className=\"flex flex-wrap gap-4\">\n                    <TracedButton variant=\"primary\" size=\"medium\" themeContext=\"personal-training\">\n                        Personal Training\n                    </TracedButton>\n\n                    <TracedButton variant=\"primary\" size=\"medium\" themeContext=\"hero\">\n                        Hero Context\n                    </TracedButton>\n\n                    <TracedButton variant=\"primary\" size=\"medium\" themeContext=\"features\">\n                        Features Context\n                    </TracedButton>\n                </div>\n            </div>\n\n            <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold mb-4\">Additional Props</h3>\n                <div className=\"flex flex-wrap gap-4\">\n                    <TracedButton\n                        variant=\"primary\"\n                        size=\"medium\"\n                        themeContext=\"personal-training\"\n                        fullWidth\n                        className=\"additional-test-class\"\n                    >\n                        Full Width + Custom Class\n                    </TracedButton>\n\n                    <TracedButton\n                        variant=\"primary\"\n                        size=\"medium\"\n                        disabled\n                    >\n                        Disabled Button\n                    </TracedButton>\n\n                    <TracedButton\n                        variant=\"primary\"\n                        size=\"medium\"\n                        loading\n                    >\n                        Loading Button\n                    </TracedButton>\n                </div>\n            </div>\n\n            <div>\n                <p className=\"text-gray-700\">Check the console for detailed props tracing information.</p>\n            </div>\n        </div>\n    );\n};\n\nexport default ButtonPropsTracing; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/ButtonStyleAudit.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/ButtonVariantsDemo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/CSSVarInspector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/ClassNameDebug.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":94,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":97,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1971,1974],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1971,1974],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect } from 'react';\nimport logger from '../utils/logger';\n\n// Create component-specific logger\nconst classNameLogger = logger.addContext('ClassNameDebug');\n\n/**\n * Debug class name generation to understand how different methods produce different results\n */\nexport const debugClassNames = (\n    variant = 'primary',\n    context?: string,\n    size = 'medium',\n    additionalClasses?: string\n) => {\n    // Method 1: Template literals with conditional\n    const method1 = `button button--${variant} button--${size} ${context ? `button--${context}` : ''} ${additionalClasses || ''}`.trim().replace(/\\s+/g, ' ');\n\n    // Method 2: Array filter and join\n    const method2 = [\n        'button',\n        `button--${variant}`,\n        `button--${size}`,\n        context && `button--${context}`,\n        additionalClasses\n    ].filter(Boolean).join(' ');\n\n    // Method 3: React's classnames library simulation\n    const classNames = (...classes: (string | boolean | undefined)[]) => classes.filter(Boolean).join(' ');\n    const method3 = classNames(\n        'button',\n        `button--${variant}`,\n        `button--${size}`,\n        context && `button--${context}`,\n        additionalClasses\n    );\n\n    return { method1, method2, method3 };\n};\n\nexport const ClassNameDebug: React.FC = () => {\n    useEffect(() => {\n        // Test basic examples\n        classNameLogger.group('Class Name Generation Tests', () => {\n            classNameLogger.debug('Default (primary, medium):', debugClassNames());\n            classNameLogger.debug('With context:', debugClassNames('primary', 'personal-training'));\n            classNameLogger.debug('With extra classes:', debugClassNames('primary', 'personal-training', 'medium', 'my-extra-class'));\n            classNameLogger.debug('With undefined context:', debugClassNames('primary', undefined, 'medium', 'my-extra-class'));\n            classNameLogger.debug('With falsy context:', debugClassNames('primary', false as any, 'medium', 'my-extra-class'));\n        });\n\n        // Compare to existing button component's class name generation\n        classNameLogger.group('Button Component Class Pattern Analysis', () => {\n            // Example derived from Button.tsx\n            const getButtonClasses = (\n                variant: string = 'primary',\n                size: string = 'medium',\n                themeContext?: string,\n                className?: string,\n                fullWidth?: boolean\n            ) => {\n                return [\n                    'button',\n                    `button--${variant}`,\n                    `button--${size}`,\n                    themeContext && `button--${themeContext}`,\n                    fullWidth && 'button--fullwidth',\n                    className\n                ].filter(Boolean).join(' ');\n            };\n\n            classNameLogger.debug('Button primary:', getButtonClasses('primary', 'medium'));\n            classNameLogger.debug('Button personal-training:', getButtonClasses('primary', 'medium', 'personal-training'));\n            classNameLogger.debug('Button full-width:', getButtonClasses('primary', 'medium', 'personal-training', '', true));\n            classNameLogger.debug('Button with extra class:', getButtonClasses('primary', 'medium', 'personal-training', 'extra-class'));\n        });\n    }, []);\n\n    return (\n        <div className=\"p-6 bg-gray-100\">\n            <h2 className=\"text-2xl font-bold mb-4\">Class Name Generation Analysis</h2>\n\n            <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold mb-2\">Current Implementation</h3>\n                <pre className=\"bg-white p-4 rounded shadow overflow-auto\">\n                    {`\n// From Button.tsx\nconst buttonClasses = [\n  'button',\n  \\`button--\\${variant}\\`,\n  \\`button--\\${size}\\`,\n  themeContext && \\`button--\\${themeContext}\\`,\n  fullWidth && 'button--fullwidth',\n  className\n].filter(Boolean).join(' ');\n          `}\n                </pre>\n            </div>\n\n            <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold mb-2\">Test Cases</h3>\n                <table className=\"w-full bg-white rounded shadow\">\n                    <thead>\n                        <tr className=\"border-b\">\n                            <th className=\"p-2 text-left\">Test Case</th>\n                            <th className=\"p-2 text-left\">Result</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr className=\"border-b\">\n                            <td className=\"p-2\">Default (primary, medium)</td>\n                            <td className=\"p-2 font-mono text-sm\">{debugClassNames().method2}</td>\n                        </tr>\n                        <tr className=\"border-b\">\n                            <td className=\"p-2\">With themeContext=\"personal-training\"</td>\n                            <td className=\"p-2 font-mono text-sm\">{debugClassNames('primary', 'personal-training').method2}</td>\n                        </tr>\n                        <tr className=\"border-b\">\n                            <td className=\"p-2\">With extra classes</td>\n                            <td className=\"p-2 font-mono text-sm\">{debugClassNames('primary', 'personal-training', 'medium', 'my-extra-class').method2}</td>\n                        </tr>\n                        <tr className=\"border-b\">\n                            <td className=\"p-2\">With undefined context</td>\n                            <td className=\"p-2 font-mono text-sm\">{debugClassNames('primary', undefined, 'medium', 'my-extra-class').method2}</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n\n            <div>\n                <p className=\"text-gray-700\">\n                    Check the console for more detailed class name generation analysis.\n                </p>\n            </div>\n        </div>\n    );\n};\n\nexport default ClassNameDebug; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/DebugRunner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/Implementation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/TestPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/debug/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/Features.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/Features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/components/FeatureCard.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/components/FeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/components/FeatureCardDemos.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/components/FloatingIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/components/VideoPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/default/Features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/boutique/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/registration/RegistrationFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/registration/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/sports/Features.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Features/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/Footer.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/components/FooterLinkGroup.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/components/FooterLinkGroup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Footer/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/Hero.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/FloatingIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/FloatingIcons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/FloatingIcons/FloatingIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/FloatingIcons/FloatingIcons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/FloatingIcons/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/HeroButton.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/VideoPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/boutique/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/registration/RegistrationHero.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_isSubmitting' is assigned a value but never used.","line":20,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_handleFirstNameChange' is assigned a value but never used.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":33},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_handleEmailChange' is assigned a value but never used.","line":31,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_handleSubmit' is assigned a value but never used.","line":38,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":24}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Dumbbell, Flame, Heart } from 'lucide-react';\nimport React, { useState } from 'react';\nimport { InputChangeEvent } from '../../../../../types/events';\nimport { FloatingIcons } from '../../components/FloatingIcons';\nimport '../../Hero.scss';\nimport { HeroProps } from '../../types';\nimport './RegistrationHero.scss';\n\n/**\n * Splash page Hero component for the AI Workout Generator registration flow\n */\nconst RegistrationHero: React.FC<HeroProps> = ({\n    _loginLink = \"https://aigymengine.com/react-login\",\n    _logoUrl = '/wp-content/themes/fitcopilot/assets/media/images/logo.png',\n}) => {\n    // Form state - prefixed with underscore as they're not yet used in this simplified view\n    const [_firstName, _setFirstName] = useState('');\n    const [_email, _setEmail] = useState('');\n    const [_errors, _setErrors] = useState<{ firstName?: string; email?: string }>({});\n    const [_isSubmitting, _setIsSubmitting] = useState(false);\n\n    // Note: These handlers are defined but unused in this simplified mock component\n    // In a real implementation, they would be connected to form inputs\n    const _handleFirstNameChange = (_e: InputChangeEvent) => {\n        _setFirstName(_e.target.value);\n        if (_errors.firstName) {\n            _setErrors(_prev => ({ ..._prev, firstName: undefined }));\n        }\n    };\n\n    const _handleEmailChange = (_e: InputChangeEvent) => {\n        _setEmail(_e.target.value);\n        if (_errors.email) {\n            _setErrors(_prev => ({ ..._prev, email: undefined }));\n        }\n    };\n\n    const _handleSubmit = (_e: React.FormEvent) => {\n        _e.preventDefault();\n        const _newErrors: { firstName?: string; email?: string } = {};\n\n        // Validate first name\n        if (!_firstName.trim()) {\n            _newErrors.firstName = 'First name is required';\n        }\n\n        // Validate email\n        if (!_email) {\n            _newErrors.email = 'Email is required';\n        } else if (!/\\S+@\\S+\\.\\S+/.test(_email)) {\n            _newErrors.email = 'Please enter a valid email address';\n        }\n\n        // If there are errors, update state and don't proceed\n        if (Object.keys(_newErrors).length > 0) {\n            _setErrors(_newErrors);\n            return;\n        }\n\n        // Show loading state\n        _setIsSubmitting(true);\n\n        // Simulate saving form data\n        setTimeout(() => {\n            // Save data to localStorage for use in Features section\n            localStorage.setItem('registration_firstName', _firstName);\n            localStorage.setItem('registration_email', _email);\n\n            // Scroll to Features section\n            const _featuresSection = document.getElementById('features-section');\n            if (_featuresSection) {\n                _featuresSection.scrollIntoView({ behavior: 'smooth' });\n            }\n\n            _setIsSubmitting(false);\n        }, 600);\n    };\n\n    return (\n        <section\n            className=\"w-full min-h-screen flex items-center justify-center py-20 px-4 relative overflow-hidden bg-gray-900\"\n            aria-labelledby=\"registration-hero-heading\"\n        >\n            {/* Floating fitness icons - decorative */}\n            <FloatingIcons variant=\"registration\" />\n\n            <div className=\"max-w-4xl mx-auto relative z-20 text-center\">\n                {/* Content Card with Backdrop Blur */}\n                <div className=\"bg-gray-800/30 backdrop-blur-lg rounded-3xl p-8 shadow-xl border border-gray-700 mb-6\">\n                    <h1\n                        id=\"registration-hero-heading\"\n                        className=\"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 text-white\"\n                    >\n                        Create Your <span className=\"bg-gradient-to-r from-lime-300 to-emerald-400 text-transparent bg-clip-text\">AI Workout Generator</span> Account\n                    </h1>\n\n                    <div className=\"w-24 h-1 bg-gradient-to-r from-lime-300 to-emerald-400 mx-auto mb-6 rounded-full\"></div>\n\n                    <p\n                        className=\"text-gray-300 mb-10 max-w-2xl mx-auto text-base md:text-xl\"\n                    >\n                        Join thousands of fitness enthusiasts who use <span className=\"citron-text\">AI Workout Generator</span> to reach their fitness goals faster.\n                    </p>\n\n                    {/* Features Pills */}\n                    <div className=\"flex flex-wrap justify-center gap-3 mt-8 mb-8\">\n                        <div className=\"bg-gray-800/50 backdrop-blur-sm px-4 py-2 rounded-full text-sm text-gray-300 border border-gray-700/50 flex items-center\">\n                            <Dumbbell size={14} className=\"text-lime-300 mr-2\" />\n                            <span>Personalized Workouts</span>\n                        </div>\n                        <div className=\"bg-gray-800/50 backdrop-blur-sm px-4 py-2 rounded-full text-sm text-gray-300 border border-gray-700/50 flex items-center\">\n                            <Flame size={14} className=\"text-lime-300 mr-2\" />\n                            <span>AI-Optimized Routines</span>\n                        </div>\n                        <div className=\"bg-gray-800/50 backdrop-blur-sm px-4 py-2 rounded-full text-sm text-gray-300 border border-gray-700/50 flex items-center\">\n                            <Heart size={14} className=\"text-lime-300 mr-2\" />\n                            <span>Expert Guidance</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    );\n};\n\nRegistrationHero.displayName = 'RegistrationHero';\n\nexport default RegistrationHero; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/registration/hooks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/registration/hooks/useRegistrationForm.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/registration/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/registration/types.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":80,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":80,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1623,1626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1623,1626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Registration form data structure\n */\nexport interface RegistrationFormData {\n    /** User's email address */\n    email: string;\n\n    /** User's full name */\n    name: string;\n\n    /** Selected fitness goal */\n    fitnessGoal: string;\n\n    /** Current step in the form process */\n    step: number;\n}\n\n/**\n * Available fitness goals for registration\n */\nexport enum FitnessGoal {\n    WEIGHT_LOSS = 'weight-loss',\n    MUSCLE_GAIN = 'muscle-gain',\n    ENDURANCE = 'endurance',\n    FLEXIBILITY = 'flexibility'\n}\n\n/**\n * Form validation errors\n */\nexport interface FormErrors {\n    [key: string]: string;\n}\n\n/**\n * Props for the form step component\n */\nexport interface FormStepProps {\n    /** Current step number */\n    step: number;\n\n    /** Form data object */\n    formData: RegistrationFormData;\n\n    /** Validation errors object */\n    errors: FormErrors;\n\n    /** Handler for form field changes */\n    onChange: (field: keyof RegistrationFormData, value: string) => void;\n\n    /** Handler for next step button */\n    onNext: () => void;\n\n    /** Handler for previous step button */\n    onPrev: () => void;\n}\n\n/**\n * Props for the progress indicator component\n */\nexport interface ProgressIndicatorProps {\n    /** Current step number */\n    currentStep: number;\n\n    /** Total number of steps */\n    totalSteps: number;\n}\n\n/**\n * Registration form submission result\n */\nexport interface RegistrationResult {\n    /** Whether registration was successful */\n    success: boolean;\n\n    /** User ID or error message */\n    message: string;\n\n    /** Any additional data returned from the registration process */\n    data?: any;\n} ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/sports/Hero.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FloatingIconData' is defined but never used.","line":62,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Hero/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Homepage.stories.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'MockDataDecorator' is assigned a value but never used.","line":149,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":149,"endColumn":24},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'mockRestore' is assigned a value but never used.","line":157,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":157,"endColumn":18}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Meta, StoryObj } from '@storybook/react';\nimport React from 'react';\nimport * as WordPressHooks from '../../hooks/useWordPress';\nimport { WordPressData } from '../../types/wordpress';\nimport Homepage from './Homepage';\n\n// Mock data that follows the WordPressData interface\nconst mockWordPressData: WordPressData = {\n  siteLinks: {\n    registration: 'https://builder.fitcopilot.ai/register',\n    login: 'https://builder.fitcopilot.ai/login'\n  },\n  assets: {\n    logo: 'https://placehold.co/150x50/CCFF00/000000?text=FitCopilot'\n  },\n  features: [\n    {\n      id: 1,\n      title: 'AI Workout Generation',\n      description: 'Create personalized workouts tailored to your goals, equipment, and fitness level in seconds.',\n      icon: 'https://placehold.co/64x64/CCFF00/000000?text=AI'\n    },\n    {\n      id: 2,\n      title: 'Exercise Library',\n      description: 'Access thousands of exercises with detailed form instructions and video demonstrations.',\n      icon: 'https://placehold.co/64x64/CCFF00/000000?text=EX'\n    },\n    {\n      id: 3,\n      title: 'Progress Tracking',\n      description: 'Track your workouts, log results, and visualize your progress over time with detailed analytics.',\n      icon: 'https://placehold.co/64x64/CCFF00/000000?text=PT'\n    }\n  ],\n  journey: [\n    {\n      id: 1,\n      title: 'Define Your Goals',\n      description: 'Tell us your fitness goals, experience level, and available equipment.',\n      step: 1,\n      number: 1,\n      image: 'https://placehold.co/300x200/CCFF00/000000?text=Step+1'\n    },\n    {\n      id: 2,\n      title: 'Generate Your Workout',\n      description: 'Our AI creates a personalized workout plan tailored to your requirements.',\n      step: 2,\n      number: 2,\n      image: 'https://placehold.co/300x200/CCFF00/000000?text=Step+2'\n    },\n    {\n      id: 3,\n      title: 'Track Your Progress',\n      description: 'Follow your workout plan and track your progress over time.',\n      step: 3,\n      number: 3,\n      image: 'https://placehold.co/300x200/CCFF00/000000?text=Step+3'\n    }\n  ],\n  testimonials: [\n    {\n      id: 1,\n      name: 'Sarah Johnson',\n      role: 'Fitness Enthusiast',\n      content: 'FitCopilot has completely transformed my workouts. The personalized plans keep me motivated and I\\'ve seen amazing progress.',\n      quote: 'FitCopilot has completely transformed my workouts.',\n      avatar: 'https://placehold.co/100x100/CCFF00/000000?text=SJ',\n      rating: 5\n    },\n    {\n      id: 2,\n      name: 'Mike Reynolds',\n      role: 'Personal Trainer',\n      content: 'I use FitCopilot with all my clients. The AI generates excellent workout plans that I can easily customize.',\n      quote: 'The AI generates excellent workout plans that I can easily customize.',\n      avatar: 'https://placehold.co/100x100/CCFF00/000000?text=MR',\n      rating: 5\n    },\n    {\n      id: 3,\n      name: 'Emma Chen',\n      role: 'Remote Worker',\n      content: 'Working from home made it hard to stay active, but FitCopilot creates great home workouts with minimal equipment.',\n      quote: 'FitCopilot creates great home workouts with minimal equipment.',\n      avatar: 'https://placehold.co/100x100/CCFF00/000000?text=EC',\n      rating: 4\n    }\n  ],\n  pricing: [\n    {\n      id: 1,\n      title: 'Basic',\n      name: 'Basic',\n      description: 'Perfect for getting started with AI workouts',\n      price: '0',\n      period: 'forever',\n      features: [\n        { id: 1, text: '5 AI workouts per month', included: true },\n        { id: 2, text: 'Basic exercise library', included: true },\n        { id: 3, text: 'Progress tracking', included: true },\n        { id: 4, text: 'Advanced analytics', included: false }\n      ],\n      ctaText: 'Get Started',\n      ctaLink: 'https://builder.fitcopilot.ai/register'\n    },\n    {\n      id: 2,\n      title: 'Pro',\n      name: 'Pro',\n      description: 'Advanced features for dedicated fitness enthusiasts',\n      price: '9.99',\n      period: 'month',\n      features: [\n        { id: 1, text: 'Unlimited AI workouts', included: true },\n        { id: 2, text: 'Full exercise library', included: true },\n        { id: 3, text: 'Advanced analytics', included: true }\n      ],\n      ctaText: 'Upgrade Now',\n      ctaLink: 'https://builder.fitcopilot.ai/register?plan=pro',\n      isPopular: true,\n      popular: true\n    }\n  ],\n  footerLinks: [\n    {\n      id: 1,\n      title: 'Company',\n      links: [\n        { id: 1, title: 'About Us', url: '#about' },\n        { id: 2, title: 'Contact', url: '#contact' },\n        { id: 3, title: 'Careers', url: '#careers' }\n      ]\n    },\n    {\n      id: 2,\n      title: 'Resources',\n      links: [\n        { id: 4, title: 'Blog', url: '#blog' },\n        { id: 5, title: 'FAQ', url: '#faq' },\n        { id: 6, title: 'Help Center', url: '#help' }\n      ]\n    }\n  ]\n};\n\n// Create mock data context provider for the story by mocking the useWordPress hook\nconst MockDataDecorator = (Story: React.ComponentType) => {\n  // Mock the useWordPress hook to return our mock data\n  jest.spyOn(WordPressHooks, 'useWordPress').mockImplementation(() => mockWordPressData);\n\n  return <Story />;\n};\n\n// Restore the mock after the story\nconst mockRestore = () => {\n  jest.restoreAllMocks();\n};\n\nconst meta: Meta<typeof Homepage> = {\n  title: 'features/Homepage',\n  component: Homepage,\n  decorators: [(Story) => <div className=\"storybook-mock\">{Story()}</div>],\n  parameters: {\n    layout: 'fullscreen',\n    backgrounds: {\n      default: 'dark',\n    },\n    docs: {\n      description: {\n        component: 'The main Homepage component that composes all homepage sections into a complete page. This component fetches and distributes data to child components and handles global animations and styling.'\n      }\n    }\n  }\n};\n\nexport default meta;\ntype Story = StoryObj<typeof Homepage>;\n\n// Override the Story rendering to inject our mocked data properly\nexport const Default: Story = {\n  decorators: [\n    (Story) => {\n      // @ts-expect-error - Temporarily override the hook for Storybook\n      jest.spyOn(WordPressHooks, 'useWordPress').mockImplementation(() => mockWordPressData);\n      return <Story />;\n    }\n  ],\n  parameters: {\n    docs: {\n      description: {\n        story: 'The complete homepage showcasing all sections: Hero, Features, Journey, Testimonials, Pricing, and Footer. Data is provided through mocked hooks to simulate WordPress integration.'\n      }\n    }\n  }\n};\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Homepage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/Journey.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/Journey.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'FloatingIcon' is assigned a value but never used.","line":53,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":269,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":269,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'sectionProps' is assigned a value but never used.","line":298,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":298,"endColumn":21}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n  Activity,\n  Apple,\n  BarChart2,\n  Bike,\n  Calendar,\n  Clock,\n  Coffee,\n  Cpu,\n  Dumbbell,\n  FileText,\n  Flame,\n  Footprints,\n  Heart,\n  Layers,\n  Lightbulb,\n  Medal,\n  Microscope,\n  Package,\n  PieChart,\n  Settings,\n  Target,\n  Timer,\n  TrendingUp,\n  Trophy,\n  Zap\n} from 'lucide-react';\nimport React from 'react';\nimport './_tokens.scss';\nimport { JourneyCTA, JourneyStep, SectionHeader } from './components';\nimport { useReducedMotion } from './hooks/useReducedMotion';\nimport './journey-animations.scss';\nimport './journey-utility-classes.scss';\nimport './Journey.scss';\nimport {\n  JourneyProps,\n  JourneyStep as JourneyStepType\n} from './types';\nimport { useJourneyStore } from './utils/journeyState';\nimport { getIconColorClass, getStepGradientClass } from './utils/tokenUtils';\n\n/**\n * FloatingIcon component for Journey background\n */\ninterface FloatingIconProps {\n  children: React.ReactNode;\n  delay: number;\n  speed: number;\n  left: number;\n  top: number;\n}\n\nconst FloatingIcon: React.FC<FloatingIconProps> = ({\n  children,\n  delay,\n  speed,\n  left,\n  top\n}) => {\n  return (\n    <div\n      className=\"journey-floating-icon\"\n      style={{\n        left: `${left}%`,\n        top: `${top}%`,\n        animation: `float ${speed}s ease-in-out infinite ${delay}s`\n      }}\n      aria-hidden=\"true\"\n    >\n      {children}\n    </div>\n  );\n};\n\n/**\n * FloatingIcons component for Journey background decoration\n */\nconst FloatingIcons: React.FC<{ variant?: string }> = ({ variant: _variant = 'default' }) => {\n  // Floating icons data - adjusted positioning for container context\n  const floatingIcons = [\n    { Icon: Dumbbell, size: 24, left: 5, top: 12, delay: 0, speed: 8 },\n    { Icon: Timer, size: 28, left: 18, top: 65, delay: 1.5, speed: 10 },\n    { Icon: Medal, size: 22, left: 28, top: 32, delay: 0.8, speed: 12 },\n    { Icon: Flame, size: 30, left: 85, top: 18, delay: 2, speed: 9 },\n    { Icon: Heart, size: 20, left: 88, top: 70, delay: 1, speed: 11 },\n    { Icon: Apple, size: 20, left: 8, top: 85, delay: 2.5, speed: 10 },\n    { Icon: Coffee, size: 18, left: 75, top: 8, delay: 0.5, speed: 7 },\n    { Icon: Footprints, size: 26, left: 65, top: 88, delay: 1.8, speed: 9 },\n    { Icon: Trophy, size: 22, left: 55, top: 15, delay: 2.2, speed: 11 },\n    { Icon: Bike, size: 32, left: 10, top: 45, delay: 1.2, speed: 8 },\n    { Icon: TrendingUp, size: 28, left: 35, top: 75, delay: 0.3, speed: 10 },\n    { Icon: Calendar, size: 24, left: 45, top: 45, delay: 2.8, speed: 7 },\n    { Icon: PieChart, size: 26, left: 90, top: 40, delay: 0.7, speed: 12 }\n  ];\n\n  return (\n    <div className=\"journey-floating-icons\">\n      {floatingIcons.map(({ Icon, size, left, top, delay, speed }, index) => (\n        <div\n          key={index}\n          className=\"journey-floating-icon\"\n          style={{\n            left: `${left}%`,\n            top: `${top}%`,\n            animationDelay: `${delay}s`,\n            animationDuration: `${speed}s`\n          }}\n        >\n          <Icon size={size} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\n/**\n * Journey component - Shows the user journey/process flow with expandable steps\n */\nconst Journey: React.FC<JourneyProps> = ({\n  journey = [],\n  variant: _variant = 'default'\n}) => {\n  const prefersReducedMotion = useReducedMotion();\n  const { expandedStep, setExpandedStep } = useJourneyStore();\n\n  // Define detailed journey steps if not provided\n  const journeySteps = journey.length > 0 ? journey : [\n    {\n      id: 1,\n      number: 1,\n      title: \"Define Your Goals\",\n      description: \"Tell us what you want to achieve - strength, muscle gain, fat loss, or general fitness.\",\n      icon: <Target size={40} className=\"text-gray-900\" />,\n      delay: 100,\n      accentColor: getStepGradientClass(1),\n      ctaText: \"Set Your Goals\",\n      detailedFeatures: [\n        {\n          title: \"Strength Building\",\n          description: \"Focus on compound movements and progressive overload for maximum strength gains.\",\n          icon: <Dumbbell size={24} className={getIconColorClass(1)} />\n        },\n        {\n          title: \"Fat Loss\",\n          description: \"Optimize caloric deficit with the right mix of HIIT and steady-state cardio.\",\n          icon: <Flame size={24} className={getIconColorClass(1)} />\n        },\n        {\n          title: \"Muscle Growth\",\n          description: \"Hypertrophy-focused programs with proper volume and intensity distribution.\",\n          icon: <Zap size={24} className={getIconColorClass(1)} />\n        },\n        {\n          title: \"General Fitness\",\n          description: \"Well-rounded programs balancing strength, endurance, and mobility.\",\n          icon: <Activity size={24} className={getIconColorClass(1)} />\n        }\n      ]\n    },\n    {\n      id: 2,\n      number: 2,\n      title: \"Customize Your Experience\",\n      description: \"Specify your experience level, available equipment, and time constraints.\",\n      icon: <Settings size={40} className=\"text-gray-900\" />,\n      delay: 200,\n      accentColor: getStepGradientClass(2),\n      ctaText: \"Personalize\",\n      detailedFeatures: [\n        {\n          title: \"Equipment Selection\",\n          description: \"From minimal home setups to full gym access - we adapt to what you have.\",\n          icon: <Dumbbell size={24} className={getIconColorClass(2)} />\n        },\n        {\n          title: \"Time Management\",\n          description: \"Short on time? Our AI optimizes workouts from 15 minutes to 90+ minutes.\",\n          icon: <Clock size={24} className={getIconColorClass(2)} />\n        },\n        {\n          title: \"Experience Level\",\n          description: \"Whether you're a beginner or advanced, we scale appropriately for your level.\",\n          icon: <Layers size={24} className={getIconColorClass(2)} />\n        },\n        {\n          title: \"Training Frequency\",\n          description: \"Flexible scheduling from 2-6 days per week based on your availability.\",\n          icon: <Calendar size={24} className={getIconColorClass(2)} />\n        }\n      ]\n    },\n    {\n      id: 3,\n      number: 3,\n      title: \"Receive Your Personalized Plan\",\n      description: \"Our AI generates a tailored workout program specific to your needs and capabilities.\",\n      icon: <Package size={40} className=\"text-gray-900\" />,\n      delay: 300,\n      accentColor: getStepGradientClass(3),\n      ctaText: \"See Sample Plan\",\n      detailedFeatures: [\n        {\n          title: \"AI-Powered Design\",\n          description: \"Advanced algorithms create the optimal exercise selection and progression.\",\n          icon: <Cpu size={24} className={getIconColorClass(3)} />\n        },\n        {\n          title: \"Scientific Approach\",\n          description: \"Evidence-based programming following proven training principles.\",\n          icon: <Microscope size={24} className={getIconColorClass(3)} />\n        },\n        {\n          title: \"Adaptive Progression\",\n          description: \"Your plan evolves as you progress, ensuring continued results.\",\n          icon: <TrendingUp size={24} className={getIconColorClass(3)} />\n        },\n        {\n          title: \"Detailed Instructions\",\n          description: \"Clear guidance on execution, tempo, and form for each exercise.\",\n          icon: <FileText size={24} className={getIconColorClass(3)} />\n        }\n      ]\n    },\n    {\n      id: 4,\n      number: 4,\n      title: \"Track Your Progress\",\n      description: \"Log your workouts, track your metrics, and watch your progress over time.\",\n      icon: <BarChart2 size={40} className=\"text-gray-900\" />,\n      delay: 400,\n      accentColor: getStepGradientClass(4),\n      ctaText: \"View Analytics\",\n      detailedFeatures: [\n        {\n          title: \"Visual Analytics\",\n          description: \"Interactive charts showing your strength progression and volume over time.\",\n          icon: <PieChart size={24} className={getIconColorClass(4)} />\n        },\n        {\n          title: \"Achievement System\",\n          description: \"Unlock badges and achievements as you hit milestones in your fitness journey.\",\n          icon: <Trophy size={24} className={getIconColorClass(4)} />\n        },\n        {\n          title: \"Body Composition\",\n          description: \"Track weight, measurements, and body composition changes visually.\",\n          icon: <Activity size={24} className={getIconColorClass(4)} />\n        },\n        {\n          title: \"Smart Insights\",\n          description: \"AI-powered observations about your performance patterns and suggestions.\",\n          icon: <Lightbulb size={24} className={getIconColorClass(4)} />\n        }\n      ]\n    }\n  ];\n\n  // Get the timeline color class based on the first step's color\n  const getTimelineColorClass = (steps: typeof journeySteps): string => {\n    if (!steps || steps.length === 0) return 'timeline-lime';\n\n    const firstStepColor = steps[0]?.accentColor;\n    if (!firstStepColor) return 'timeline-lime';\n\n    try {\n      if (firstStepColor?.includes('cyan')) return 'timeline-cyan';\n      if (firstStepColor?.includes('violet')) return 'timeline-violet';\n      if (firstStepColor?.includes('amber')) return 'timeline-amber';\n    } catch (e) {\n      // If includes method fails, return default\n      return 'timeline-lime';\n    }\n\n    return 'timeline-lime';\n  };\n\n  const timelineColorClass = getTimelineColorClass(journeySteps);\n\n  const handleStepClick = (index: number) => {\n    if (expandedStep === index) {\n      setExpandedStep(null);\n    } else {\n      setExpandedStep(index);\n\n      // Scroll to the expanded step with a slight delay for animation\n      if (!prefersReducedMotion) {\n        setTimeout(() => {\n          const stepElement = document.querySelector(`#journey-step-${index}`);\n          if (stepElement) {\n            stepElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }\n        }, 100);\n      }\n    }\n  };\n\n  // Create variant-specific props for the Section component\n  const sectionProps = {\n    id: \"how-it-works\",\n    className: \"journey-section\",\n    backgroundColor: \"secondary\" as const,\n    backgroundVariant: \"grid\" as const,\n    spacing: \"lg\" as const,\n    seamless: true,\n    variant: _variant\n  };\n\n  return (\n    <section\n      className=\"w-full py-16 md:pt-8 md:pb-24 px-4 bg-journey-bg relative overflow-hidden\"\n      data-theme={_variant !== 'default' ? _variant : undefined}\n    >\n      {/* Create a visual connector from Features to Journey */}\n      <div className=\"absolute top-0 left-0 right-0 h-24 bg-gradient-to-b from-background-primary to-transparent z-0\"></div>\n\n      <div className=\"max-w-6xl mx-auto relative z-10\">\n        {/* Section Header */}\n        <SectionHeader\n          title={<>Your Fitness <span className=\"bg-gradient-to-r from-lime-300 to-emerald-400 text-transparent bg-clip-text\">Journey</span></>}\n          description=\"Four simple steps to transform your fitness routine with AI-powered workouts\"\n          variant={_variant}\n        />\n\n        {/* Journey Steps - Wrapped in a cohesive container */}\n        <div\n          className=\"journey-steps mt-16\"\n          data-aos={prefersReducedMotion ? undefined : 'fade-up'}\n          data-aos-delay={prefersReducedMotion ? undefined : '100'}\n        >\n          <div className=\"journey-container rounded-3xl bg-journey-bg-alt p-6 md:p-10 relative overflow-hidden border journey-border\">\n            {/* Add floating icons as the background */}\n            <FloatingIcons variant={_variant} />\n\n            <div className={`journey-timeline ${timelineColorClass}`}>\n              {journeySteps.map((step: JourneyStepType, index: number) => (\n                <div\n                  key={step.id}\n                  className=\"journey-step-container\"\n                  id={`journey-step-${index}`}\n                >\n                  <JourneyStep\n                    step={step}\n                    index={index}\n                    isExpanded={expandedStep === index}\n                    onToggle={() => handleStepClick(index)}\n                    isLast={index === journeySteps.length - 1}\n                    variant={_variant}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Main CTA */}\n        <div\n          className=\"text-center mt-16\"\n          data-aos={prefersReducedMotion ? undefined : 'fade-up'}\n          data-aos-delay={prefersReducedMotion ? undefined : '500'}\n        >\n          <JourneyCTA\n            text=\"Start Your Journey Now\"\n            href=\"https://aigymengine.com/workout-generator-registration\"\n            buttonVariant=\"gradient\"\n            gradientColor=\"lime\"\n            buttonSize=\"large\"\n            showIcon={true}\n            variant={_variant}\n          />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Journey; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/JourneyCTA.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/JourneyFeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/JourneyStep.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/JourneyStep.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":87,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":87,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'prefersReducedMotion' is assigned a value but never used.","line":194,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":194,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isExpanded' is defined but never used. Allowed unused args must match /^_/u.","line":232,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":232,"endColumn":13}],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getHoverTextColor' is assigned a value but never used.","line":21,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":21,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getExpandButtonStyle' is assigned a value but never used.","line":37,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":37,"endColumn":27,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getGradientClass' is assigned a value but never used.","line":57,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":57,"endColumn":23,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getTimelineColorClass' is assigned a value but never used.","line":76,"column":7,"nodeType":null,"messageId":"unusedVar","endLine":76,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ChevronRight } from 'lucide-react';\nimport React from 'react';\nimport { useReducedMotion } from '../hooks/useReducedMotion';\nimport {\n  DetailedFeature,\n  ExpandedContentProps,\n  JourneyStepProps,\n  StepCTAProps,\n  VariantKey,\n  isVariant\n} from '../types';\n// Import from utils/tokenUtils instead of redefining functions\nimport { getConnectorColorClass, getGlowEffectClass, getStepCTAUrl, getStepGradientClass } from '../utils/tokenUtils';\nimport { JourneyFeatureCard } from './index';\n\n/**\n * Get variant-specific hover text color for step title using type narrowing\n * @deprecated Will be used in future theming customizations\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getHoverTextColor = (variant: VariantKey): string => {\n  if (isVariant(variant, 'gym') ||\n    isVariant(variant, 'sports') ||\n    isVariant(variant, 'wellness') ||\n    isVariant(variant, 'modern')) {\n    return 'hover-text-journey-accent';\n  }\n\n  return 'hover-text-journey-accent';\n};\n\n/**\n * Get variant-specific expand button styling with proper type narrowing\n * @deprecated Will be used in upcoming UI enhancements\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getExpandButtonStyle = (variant: VariantKey): string => {\n  if (isVariant(variant, 'gym')) {\n    return 'border-lime-400/30 bg-lime-400/10 text-lime-400';\n  } else if (isVariant(variant, 'sports')) {\n    return 'border-cyan-400/30 bg-cyan-400/10 text-cyan-400';\n  } else if (isVariant(variant, 'wellness')) {\n    return 'border-violet-400/30 bg-violet-400/10 text-violet-400';\n  } else if (isVariant(variant, 'modern')) {\n    return 'border-amber-400/30 bg-amber-400/10 text-amber-400';\n  }\n\n  // Default\n  return 'border-[#CCFF00]/30 bg-[#CCFF00]/10 text-[#CCFF00]';\n};\n\n/**\n * Returns the appropriate gradient class for the variant\n * @deprecated Will be used in future theme controls\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getGradientClass = (variant: VariantKey): string => {\n  if (isVariant(variant, 'gym')) {\n    return 'journey-gradient-violet';\n  } else if (isVariant(variant, 'sports')) {\n    return 'journey-gradient-cyan';\n  } else if (isVariant(variant, 'wellness')) {\n    return 'journey-gradient-teal';\n  } else if (isVariant(variant, 'modern')) {\n    return 'journey-gradient-amber';\n  }\n\n  return 'journey-gradient-lime';\n};\n\n/**\n * Get the appropriate timeline color class based on step accent color\n * @deprecated Will be used in custom timeline styling\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst getTimelineColorClass = (accentColor?: string): string => {\n  if (!accentColor) return 'timeline-lime'; // Default\n\n  try {\n    if (accentColor.includes('cyan')) {\n      return 'timeline-cyan';\n    } else if (accentColor.includes('violet')) {\n      return 'timeline-violet';\n    } else if (accentColor.includes('amber')) {\n      return 'timeline-amber';\n    }\n  } catch (e) {\n    // If includes method fails, return default\n    return 'timeline-lime';\n  }\n\n  // Default to lime\n  return 'timeline-lime';\n};\n\n/**\n * JourneyStep - Renders a single step in the journey process\n */\nconst JourneyStep: React.FC<JourneyStepProps> = ({\n  step,\n  index,\n  isExpanded,\n  onToggle,\n  isLast,\n  variant\n}) => {\n  const _prefersReducedMotion = useReducedMotion();\n\n  // Get appropriate classes from our token utility\n  const stepGradientClass = getStepGradientClass(step.number);\n  const glowEffectClass = getGlowEffectClass(step.number);\n  const connectorClass = getConnectorColorClass(step.number);\n\n  return (\n    <>\n      {/* Main Step Card */}\n      <div\n        className={`\n          relative p-4 md:p-6 rounded-xl journey-bg-card z-10\n          border ${isExpanded ? 'journey-border-active' : 'journey-border'}\n          transition-medium cursor-pointer group ${glowEffectClass}\n        `}\n        onClick={onToggle}\n        role=\"button\"\n        tabIndex={0}\n        aria-expanded={isExpanded}\n        aria-controls={`step-content-${index}`}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            onToggle();\n          }\n        }}\n        data-theme={variant !== 'default' ? variant : undefined}\n        data-aos={_prefersReducedMotion ? undefined : 'fade-up'}\n        data-aos-delay={_prefersReducedMotion ? undefined : step.delay?.toString()}\n      >\n        <div className=\"flex flex-col md:flex-row items-start md:items-center gap-4\">\n          {/* Step Icon & Number */}\n          <div className=\"relative\">\n            <div className={`w-16 h-16 rounded-xl ${stepGradientClass} flex items-center justify-center group-hover:scale-105 transition-transform duration-300`}>\n              {step.icon}\n              <div className={`absolute inset-0 rounded-xl ${stepGradientClass} opacity-15 blur-[1px] group-hover:opacity-25 transition-opacity`} aria-hidden=\"true\"></div>\n            </div>\n\n            {/* Step number */}\n            <div className=\"absolute -top-3 -left-3 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold journey-gradient-lime text-gray-900\">\n              {index + 1}\n            </div>\n          </div>\n\n          {/* Step Information */}\n          <div className=\"flex-1\">\n            <h3 className=\"text-xl md:text-2xl font-bold mb-2 journey-text-heading group-hover:journey-text-heading-hover transition-colors flex items-center\">\n              {step.title}\n            </h3>\n            <p className=\"journey-text-description group-hover:journey-text-description-hover transition-colors md:pr-8\">\n              {step.description}\n            </p>\n          </div>\n\n          {/* Expand/Collapse Button */}\n          <div className={`p-2 rounded-full journey-accent-border-30 journey-accent-bg-10 transition-all duration-300 ${isExpanded ? 'rotate-90' : ''}`} aria-hidden=\"true\">\n            <ChevronRight size={20} className=\"journey-text-accent\" />\n          </div>\n        </div>\n      </div>\n\n      {/* Progress connector - Now outside the card to connect with the timeline */}\n      {!isLast && (\n        <div className={`journey-step-connector ${connectorClass}`} aria-hidden=\"true\"></div>\n      )}\n\n      {/* Expanded Content */}\n      <ExpandedContent\n        step={step}\n        index={index}\n        isExpanded={isExpanded}\n        variant={variant}\n      />\n    </>\n  );\n};\n\n/**\n * ExpandedContent - Renders the detailed features when a step is expanded\n */\nconst ExpandedContent: React.FC<ExpandedContentProps> = ({\n  step,\n  index,\n  isExpanded,\n  variant\n}) => {\n  const prefersReducedMotion = useReducedMotion();\n\n  // Don't render content at all when collapsed to save memory and prevent space issues\n  if (!isExpanded) {\n    return null;\n  }\n\n  return (\n    <div\n      id={`step-content-${index}`}\n      className=\"mt-2 rounded-xl journey-bg-card journey-border z-10 relative overflow-hidden p-4 md:p-6 animate-fade-in\"\n      data-theme={variant !== 'default' ? variant : undefined}\n    >\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n        {step.detailedFeatures?.map((feature: DetailedFeature, featureIndex: number) => (\n          <JourneyFeatureCard\n            key={featureIndex}\n            feature={feature}\n            variant={variant}\n          />\n        ))}\n      </div>\n\n      {/* CTA Section */}\n      <StepCTA\n        step={step}\n        isExpanded={true}\n        variant={variant}\n      />\n    </div>\n  );\n};\n\n/**\n * StepCTA - Renders the call-to-action button for expanded steps\n */\nconst StepCTA: React.FC<StepCTAProps> = ({\n  step,\n  isExpanded,\n  variant\n}) => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const ctaUrl = getStepCTAUrl(step.title || '');\n\n  return (\n    <div className=\"text-center\">\n      <a\n        href={ctaUrl}\n        className=\"journey-button inline-flex items-center px-6 py-2 rounded-full text-sm font-medium\"\n        aria-label={`${step.ctaText} for ${step.title}`}\n        data-theme={variant !== 'default' ? variant : undefined}\n      >\n        {step.ctaText}\n        <ChevronRight size={16} className=\"ml-2\" aria-hidden=\"true\" />\n      </a>\n    </div>\n  );\n};\n\nexport default JourneyStep; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/SectionHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/VideoPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/examples/ButtonExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/examples/JourneyCTAExamples.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/examples/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/hooks/useReducedMotion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/utils/breakpoints.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/utils/journeyState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/utils/tokenUtils.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'VariantKey' is defined but never used.","line":6,"column":6,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":95,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":95,"endColumn":15}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Journey Component Token Utilities\n * Functions to handle token-based styling for different steps and variants\n */\n\ntype VariantKey = 'default' | 'gym' | 'sports' | 'wellness' | 'modern' | 'classic' | 'minimalist';\ntype StepNumber = 1 | 2 | 3 | 4;\ntype StepColorFamily = 'lime' | 'cyan' | 'violet' | 'amber';\n\n/**\n * Maps step numbers to their color families\n */\nconst stepColorMap: Record<StepNumber, StepColorFamily> = {\n    1: 'lime',\n    2: 'cyan',\n    3: 'violet',\n    4: 'amber'\n};\n\n/**\n * Get the color family for a step number\n */\nexport const getStepColorFamily = (stepNumber: number): StepColorFamily => {\n    return stepColorMap[stepNumber as StepNumber] || 'lime';\n};\n\n/**\n * Get the gradient class name for a step\n */\nexport const getStepGradientClass = (stepNumber: number): string => {\n    const colorFamily = getStepColorFamily(stepNumber);\n    return `journey-gradient-${colorFamily}`;\n};\n\n/**\n * Get the connector color class for a step\n */\nexport const getConnectorColorClass = (stepNumber: number): string => {\n    const colorFamily = getStepColorFamily(stepNumber);\n    return `journey-connector-${colorFamily}`;\n};\n\n/**\n * Get the glow effect class for a step\n */\nexport const getGlowEffectClass = (stepNumber: number): string => {\n    const colorFamily = getStepColorFamily(stepNumber);\n    return `journey-${colorFamily}-glow`;\n};\n\n/**\n * Get the icon color class for a specific step\n */\nexport const getIconColorClass = (stepNumber: number): string => {\n    return `journey-icon-step-${stepNumber}`;\n};\n\n/**\n * Get a CSS variable for a specific step's property\n */\nexport const getStepToken = (stepNumber: number, property: 'start' | 'end'): string => {\n    return `var(--journey-step-${stepNumber}-${property})`;\n};\n\n/**\n * Get appropriate CTA text based on step number\n */\nexport const getStepCTAText = (stepNumber: number): string => {\n    switch (stepNumber) {\n        case 1:\n            return 'Set Your Goals';\n        case 2:\n            return 'Personalize';\n        case 3:\n            return 'See Sample Plan';\n        case 4:\n            return 'View Analytics';\n        default:\n            return 'Learn More';\n    }\n};\n\n/**\n * Get the CTA URL based on step title\n */\nexport const getStepCTAUrl = (stepTitle: string): string => {\n    if (!stepTitle) {\n        return 'https://aigymengine.com/workout-generator-registration';\n    }\n\n    try {\n        if (stepTitle.includes('Personalized Plan')) {\n            return 'http://builder.fitcopilot.ai';\n        }\n    } catch (e) {\n        // If includes method fails, return default\n        return 'https://aigymengine.com/workout-generator-registration';\n    }\n\n    return 'https://aigymengine.com/workout-generator-registration';\n};\n\n/**\n * Utility to determine if animation should be applied based on reduced motion preference\n */\nexport const getAnimationClass = (className: string, prefersReducedMotion: boolean): string => {\n    return prefersReducedMotion ? '' : className;\n};\n\nexport default {\n    getStepColorFamily,\n    getStepGradientClass,\n    getConnectorColorClass,\n    getGlowEffectClass,\n    getIconColorClass,\n    getStepToken,\n    getStepCTAText,\n    getStepCTAUrl,\n    getAnimationClass\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/utils/variantHelpers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/boutique/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/modern/Journey.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getAccentColorForStep' is defined but never used.","line":199,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":199,"endColumn":35}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n    Activity,\n    BarChart2,\n    Calendar,\n    Clock,\n    Cpu,\n    Dumbbell,\n    FileText,\n    Flame,\n    Layers,\n    Lightbulb,\n    Microscope,\n    Package,\n    PieChart,\n    Settings,\n    Target,\n    TrendingUp,\n    Trophy,\n    Zap\n} from 'lucide-react';\nimport React, { useState } from 'react';\nimport { JourneyCTA, JourneyStep, SectionHeader } from '../../components';\nimport SPACING from '../../constants';\nimport '../../Journey.scss';\nimport { JourneyProps } from '../../types';\n\n/**\n * ModernJourney component - A variant of the Journey component with a modern design aesthetic\n */\nexport const ModernJourney: React.FC<JourneyProps> = ({ journey = [] }) => {\n    const [expandedStep, setExpandedStep] = useState<number | null>(null);\n\n    // Modern variant uses a custom color scheme and styling\n    const modernAccentColors = {\n        1: \"from-blue-300 to-indigo-400\",\n        2: \"from-indigo-300 to-purple-400\",\n        3: \"from-purple-300 to-pink-400\",\n        4: \"from-pink-300 to-rose-400\"\n    };\n\n    // Define detailed journey steps with modern styling\n    const journeySteps = journey.length > 0 ? journey.map(step => ({\n        id: step.id,\n        title: step.title,\n        description: step.description,\n        number: step.number,\n        // Default values for the new properties if not provided from props\n        icon: getIconForStep(step.number),\n        delay: step.number * 100,\n        accentColor: modernAccentColors[step.number as keyof typeof modernAccentColors] || \"from-blue-300 to-indigo-400\",\n        ctaText: getCTATextForStep(step.number),\n        detailedFeatures: getDetailedFeaturesForStep(step.number)\n    })) : [\n        {\n            id: 1,\n            title: \"Define Your Goals\",\n            description: \"Tell us what you want to achieve - strength, muscle gain, fat loss, or general fitness.\",\n            icon: <Target size={40} className=\"text-gray-900\" />,\n            delay: 100,\n            accentColor: \"from-blue-300 to-indigo-400\",\n            ctaText: \"Set Your Goals\",\n            detailedFeatures: [\n                {\n                    title: \"Strength Building\",\n                    description: \"Focus on compound movements and progressive overload for maximum strength gains.\",\n                    icon: <Dumbbell size={24} className=\"text-blue-200\" />\n                },\n                {\n                    title: \"Fat Loss\",\n                    description: \"Optimize caloric deficit with the right mix of HIIT and steady-state cardio.\",\n                    icon: <Flame size={24} className=\"text-blue-200\" />\n                },\n                {\n                    title: \"Muscle Growth\",\n                    description: \"Hypertrophy-focused programs with proper volume and intensity distribution.\",\n                    icon: <Zap size={24} className=\"text-blue-200\" />\n                },\n                {\n                    title: \"General Fitness\",\n                    description: \"Well-rounded programs balancing strength, endurance, and mobility.\",\n                    icon: <Activity size={24} className=\"text-blue-200\" />\n                }\n            ]\n        },\n        {\n            id: 2,\n            title: \"Customize Your Experience\",\n            description: \"Specify your experience level, available equipment, and time constraints.\",\n            icon: <Settings size={40} className=\"text-gray-900\" />,\n            delay: 200,\n            accentColor: \"from-indigo-300 to-purple-400\",\n            ctaText: \"Personalize\",\n            detailedFeatures: [\n                {\n                    title: \"Equipment Selection\",\n                    description: \"From minimal home setups to full gym access - we adapt to what you have.\",\n                    icon: <Dumbbell size={24} className=\"text-indigo-200\" />\n                },\n                {\n                    title: \"Time Management\",\n                    description: \"Short on time? Our AI optimizes workouts from 15 minutes to 90+ minutes.\",\n                    icon: <Clock size={24} className=\"text-indigo-200\" />\n                },\n                {\n                    title: \"Experience Level\",\n                    description: \"Whether you're a beginner or advanced, we scale appropriately for your level.\",\n                    icon: <Layers size={24} className=\"text-indigo-200\" />\n                },\n                {\n                    title: \"Training Frequency\",\n                    description: \"Flexible scheduling from 2-6 days per week based on your availability.\",\n                    icon: <Calendar size={24} className=\"text-indigo-200\" />\n                }\n            ]\n        },\n        {\n            id: 3,\n            title: \"Receive Your Personalized Plan\",\n            description: \"Our AI generates a tailored workout program specific to your needs and capabilities.\",\n            icon: <Package size={40} className=\"text-gray-900\" />,\n            delay: 300,\n            accentColor: \"from-purple-300 to-pink-400\",\n            ctaText: \"See Sample Plan\",\n            detailedFeatures: [\n                {\n                    title: \"AI-Powered Design\",\n                    description: \"Advanced algorithms create the optimal exercise selection and progression.\",\n                    icon: <Cpu size={24} className=\"text-purple-200\" />\n                },\n                {\n                    title: \"Scientific Approach\",\n                    description: \"Evidence-based programming following proven training principles.\",\n                    icon: <Microscope size={24} className=\"text-purple-200\" />\n                },\n                {\n                    title: \"Adaptive Progression\",\n                    description: \"Your plan evolves as you progress, ensuring continued results.\",\n                    icon: <TrendingUp size={24} className=\"text-purple-200\" />\n                },\n                {\n                    title: \"Detailed Instructions\",\n                    description: \"Clear guidance on execution, tempo, and form for each exercise.\",\n                    icon: <FileText size={24} className=\"text-purple-200\" />\n                }\n            ]\n        },\n        {\n            id: 4,\n            title: \"Track Your Progress\",\n            description: \"Log your workouts, track your metrics, and watch your progress over time.\",\n            icon: <BarChart2 size={40} className=\"text-gray-900\" />,\n            delay: 400,\n            accentColor: \"from-pink-300 to-rose-400\",\n            ctaText: \"View Analytics\",\n            detailedFeatures: [\n                {\n                    title: \"Visual Analytics\",\n                    description: \"Interactive charts showing your strength progression and volume over time.\",\n                    icon: <PieChart size={24} className=\"text-pink-200\" />\n                },\n                {\n                    title: \"Achievement System\",\n                    description: \"Unlock badges and achievements as you hit milestones in your fitness journey.\",\n                    icon: <Trophy size={24} className=\"text-pink-200\" />\n                },\n                {\n                    title: \"Body Composition\",\n                    description: \"Track weight, measurements, and body composition changes visually.\",\n                    icon: <Activity size={24} className=\"text-pink-200\" />\n                },\n                {\n                    title: \"Smart Insights\",\n                    description: \"AI-powered observations about your performance patterns and suggestions.\",\n                    icon: <Lightbulb size={24} className=\"text-pink-200\" />\n                }\n            ]\n        }\n    ];\n\n    const toggleStep = (index: number) => {\n        if (expandedStep === index) {\n            setExpandedStep(null);\n        } else {\n            setExpandedStep(index);\n        }\n    };\n\n    // Helper functions to provide defaults\n    function getIconForStep(stepNumber: number) {\n        switch (stepNumber) {\n            case 1: return <Target size={40} className=\"text-gray-900\" />;\n            case 2: return <Settings size={40} className=\"text-gray-900\" />;\n            case 3: return <Package size={40} className=\"text-gray-900\" />;\n            case 4: return <BarChart2 size={40} className=\"text-gray-900\" />;\n            default: return <Target size={40} className=\"text-gray-900\" />;\n        }\n    }\n\n    function getAccentColorForStep(stepNumber: number) {\n        return modernAccentColors[stepNumber as keyof typeof modernAccentColors] || \"from-blue-300 to-indigo-400\";\n    }\n\n    function getCTATextForStep(stepNumber: number) {\n        switch (stepNumber) {\n            case 1: return \"Set Your Goals\";\n            case 2: return \"Personalize\";\n            case 3: return \"See Sample Plan\";\n            case 4: return \"View Analytics\";\n            default: return \"Learn More\";\n        }\n    }\n\n    function getDetailedFeaturesForStep(stepNumber: number) {\n        // Use the same features as the default but with different icon colors based on the modern theme\n        const iconColorClass = stepNumber === 1 ? \"text-blue-200\" :\n            stepNumber === 2 ? \"text-indigo-200\" :\n                stepNumber === 3 ? \"text-purple-200\" :\n                    \"text-pink-200\";\n\n        const baseFeatures = {\n            1: [\n                {\n                    title: \"Strength Building\",\n                    description: \"Focus on compound movements and progressive overload for maximum strength gains.\",\n                    icon: <Dumbbell size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Fat Loss\",\n                    description: \"Optimize caloric deficit with the right mix of HIIT and steady-state cardio.\",\n                    icon: <Flame size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Muscle Growth\",\n                    description: \"Hypertrophy-focused programs with proper volume and intensity distribution.\",\n                    icon: <Zap size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"General Fitness\",\n                    description: \"Well-rounded programs balancing strength, endurance, and mobility.\",\n                    icon: <Activity size={24} className={iconColorClass} />\n                }\n            ],\n            2: [\n                {\n                    title: \"Equipment Selection\",\n                    description: \"From minimal home setups to full gym access - we adapt to what you have.\",\n                    icon: <Dumbbell size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Time Management\",\n                    description: \"Short on time? Our AI optimizes workouts from 15 minutes to 90+ minutes.\",\n                    icon: <Clock size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Experience Level\",\n                    description: \"Whether you're a beginner or advanced, we scale appropriately for your level.\",\n                    icon: <Layers size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Training Frequency\",\n                    description: \"Flexible scheduling from 2-6 days per week based on your availability.\",\n                    icon: <Calendar size={24} className={iconColorClass} />\n                }\n            ],\n            3: [\n                {\n                    title: \"AI-Powered Design\",\n                    description: \"Advanced algorithms create the optimal exercise selection and progression.\",\n                    icon: <Cpu size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Scientific Approach\",\n                    description: \"Evidence-based programming following proven training principles.\",\n                    icon: <Microscope size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Adaptive Progression\",\n                    description: \"Your plan evolves as you progress, ensuring continued results.\",\n                    icon: <TrendingUp size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Detailed Instructions\",\n                    description: \"Clear guidance on execution, tempo, and form for each exercise.\",\n                    icon: <FileText size={24} className={iconColorClass} />\n                }\n            ],\n            4: [\n                {\n                    title: \"Visual Analytics\",\n                    description: \"Interactive charts showing your strength progression and volume over time.\",\n                    icon: <PieChart size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Achievement System\",\n                    description: \"Unlock badges and achievements as you hit milestones in your fitness journey.\",\n                    icon: <Trophy size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Body Composition\",\n                    description: \"Track weight, measurements, and body composition changes visually.\",\n                    icon: <Activity size={24} className={iconColorClass} />\n                },\n                {\n                    title: \"Smart Insights\",\n                    description: \"AI-powered observations about your performance patterns and suggestions.\",\n                    icon: <Lightbulb size={24} className={iconColorClass} />\n                }\n            ]\n        };\n\n        return baseFeatures[stepNumber as keyof typeof baseFeatures] || [];\n    }\n\n    return (\n        <section className={`journey-section ${SPACING.PADDING.SECTION} bg-[#0C1428]`} id=\"how-it-works\">\n            <div className={SPACING.LAYOUT.SECTION_CONTAINER}>\n                <SectionHeader\n                    title={<>How We <span className=\"text-[#8B5CF6]\">Design</span> Your Fitness</>}\n                    description=\"Our AI-powered system creates personalized workout programs tailored to your specific goals and needs.\"\n                />\n\n                <div className=\"space-y-6 mt-12\">\n                    {journeySteps.map((step, index) => (\n                        <JourneyStep\n                            key={step.id}\n                            step={step}\n                            index={index}\n                            isExpanded={expandedStep === index}\n                            onToggle={() => toggleStep(index)}\n                            isLast={index === journeySteps.length - 1}\n                        />\n                    ))}\n                </div>\n\n                <JourneyCTA\n                    text=\"Start Your Fitness Journey\"\n                    href=\"https://builder.fitcopilot.ai\"\n                />\n            </div>\n        </section>\n    );\n};\n\nexport default ModernJourney; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/sports/Journey.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getAccentColorForStep' is defined but never used.","line":199,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":199,"endColumn":35}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n    Activity,\n    BarChart2,\n    Calendar,\n    Clock,\n    Cpu,\n    Dumbbell,\n    FileText,\n    Flame,\n    Layers,\n    Lightbulb,\n    Microscope,\n    Package,\n    PieChart,\n    Settings,\n    Target,\n    TrendingUp,\n    Trophy,\n    Zap\n} from 'lucide-react';\nimport React, { useState } from 'react';\nimport { JourneyCTA, JourneyStep, SectionHeader } from '../../components';\nimport SPACING from '../../constants';\nimport '../../Journey.scss';\nimport { JourneyProps } from '../../types';\n\n/**\n * SportsJourney component - A sports-focused variant of the Journey component\n */\nexport const SportsJourney: React.FC<JourneyProps> = ({ journey = [] }) => {\n    const [expandedStep, setExpandedStep] = useState<number | null>(null);\n\n    // Sports variant uses a vibrant sport-focused color scheme\n    const sportsAccentColors = {\n        1: \"from-red-400 to-orange-500\",\n        2: \"from-orange-400 to-amber-500\",\n        3: \"from-yellow-400 to-lime-500\",\n        4: \"from-lime-400 to-green-500\"\n    };\n\n    // Define detailed journey steps with sports styling\n    const journeySteps = journey.length > 0 ? journey.map(step => ({\n        id: step.id,\n        title: step.title,\n        description: step.description,\n        number: step.number,\n        // Default values for the new properties if not provided from props\n        icon: getIconForStep(step.number),\n        delay: step.number * 100,\n        accentColor: sportsAccentColors[step.number as keyof typeof sportsAccentColors] || \"from-red-400 to-orange-500\",\n        ctaText: getCTATextForStep(step.number),\n        detailedFeatures: getDetailedFeaturesForStep(step.number)\n    })) : [\n        {\n            id: 1,\n            title: \"Set Performance Goals\",\n            description: \"Define your athletic targets - strength, speed, endurance, or sport-specific skills.\",\n            icon: <Target size={40} className=\"text-gray-900\" />,\n            delay: 100,\n            accentColor: \"from-red-400 to-orange-500\",\n            ctaText: \"Set Your Goals\",\n            detailedFeatures: [\n                {\n                    title: \"Strength & Power\",\n                    description: \"Build explosive strength for better athletic performance with specialized training.\",\n                    icon: <Dumbbell size={24} className=\"text-red-200\" />\n                },\n                {\n                    title: \"Speed & Agility\",\n                    description: \"Develop quickness and change-of-direction skills essential for sports performance.\",\n                    icon: <Flame size={24} className=\"text-red-200\" />\n                },\n                {\n                    title: \"Endurance Building\",\n                    description: \"Improve cardiovascular capacity for sustained performance throughout competition.\",\n                    icon: <Zap size={24} className=\"text-red-200\" />\n                },\n                {\n                    title: \"Sport-Specific Skills\",\n                    description: \"Enhance the specific athletic abilities required for your chosen sport.\",\n                    icon: <Activity size={24} className=\"text-red-200\" />\n                }\n            ]\n        },\n        {\n            id: 2,\n            title: \"Configure Training Parameters\",\n            description: \"Specify your current fitness level, available equipment, and training schedule.\",\n            icon: <Settings size={40} className=\"text-gray-900\" />,\n            delay: 200,\n            accentColor: \"from-orange-400 to-amber-500\",\n            ctaText: \"Customize\",\n            detailedFeatures: [\n                {\n                    title: \"Equipment Availability\",\n                    description: \"From gym access to minimal home equipment - we adapt your training program accordingly.\",\n                    icon: <Dumbbell size={24} className=\"text-orange-200\" />\n                },\n                {\n                    title: \"Schedule Integration\",\n                    description: \"Fit training around your sport practice schedule to maximize recovery and adaptation.\",\n                    icon: <Clock size={24} className=\"text-orange-200\" />\n                },\n                {\n                    title: \"Athletic Level\",\n                    description: \"Training matched to your current athletic development stage for optimal progression.\",\n                    icon: <Layers size={24} className=\"text-orange-200\" />\n                },\n                {\n                    title: \"Season Planning\",\n                    description: \"Periodized training based on your competition schedule and season phases.\",\n                    icon: <Calendar size={24} className=\"text-orange-200\" />\n                }\n            ]\n        },\n        {\n            id: 3,\n            title: \"Receive Your Athletic Program\",\n            description: \"Our sports-focused AI generates a tailored training program for your athletic development.\",\n            icon: <Package size={40} className=\"text-gray-900\" />,\n            delay: 300,\n            accentColor: \"from-yellow-400 to-lime-500\",\n            ctaText: \"View Program\",\n            detailedFeatures: [\n                {\n                    title: \"Sports Science Algorithms\",\n                    description: \"Advanced training algorithms based on cutting-edge sports performance research.\",\n                    icon: <Cpu size={24} className=\"text-yellow-600\" />\n                },\n                {\n                    title: \"Evidence-Based Methods\",\n                    description: \"Training protocols validated by sports science research and elite coaching practices.\",\n                    icon: <Microscope size={24} className=\"text-yellow-600\" />\n                },\n                {\n                    title: \"Progressive Overload\",\n                    description: \"Systematic progression to continuously challenge your athletic capacities.\",\n                    icon: <TrendingUp size={24} className=\"text-yellow-600\" />\n                },\n                {\n                    title: \"Technique Guidance\",\n                    description: \"Detailed movement instructions to maximize effectiveness and prevent injury.\",\n                    icon: <FileText size={24} className=\"text-yellow-600\" />\n                }\n            ]\n        },\n        {\n            id: 4,\n            title: \"Monitor Athletic Progress\",\n            description: \"Track performance metrics, athletic improvements, and progress toward sport-specific goals.\",\n            icon: <BarChart2 size={40} className=\"text-gray-900\" />,\n            delay: 400,\n            accentColor: \"from-lime-400 to-green-500\",\n            ctaText: \"Track Performance\",\n            detailedFeatures: [\n                {\n                    title: \"Performance Analytics\",\n                    description: \"Visualize improvements in key performance indicators relevant to your sport.\",\n                    icon: <PieChart size={24} className=\"text-lime-700\" />\n                },\n                {\n                    title: \"Competition Readiness\",\n                    description: \"Track your progress toward peak performance for important competitions.\",\n                    icon: <Trophy size={24} className=\"text-lime-700\" />\n                },\n                {\n                    title: \"Physical Testing\",\n                    description: \"Regular assessment of strength, speed, and sport-specific performance metrics.\",\n                    icon: <Activity size={24} className=\"text-lime-700\" />\n                },\n                {\n                    title: \"Performance Insights\",\n                    description: \"AI-generated observations about your athletic development and improvement areas.\",\n                    icon: <Lightbulb size={24} className=\"text-lime-700\" />\n                }\n            ]\n        }\n    ];\n\n    const toggleStep = (index: number) => {\n        if (expandedStep === index) {\n            setExpandedStep(null);\n        } else {\n            setExpandedStep(index);\n        }\n    };\n\n    // Helper functions to provide defaults\n    function getIconForStep(stepNumber: number) {\n        switch (stepNumber) {\n            case 1: return <Target size={40} className=\"text-gray-900\" />;\n            case 2: return <Settings size={40} className=\"text-gray-900\" />;\n            case 3: return <Package size={40} className=\"text-gray-900\" />;\n            case 4: return <BarChart2 size={40} className=\"text-gray-900\" />;\n            default: return <Target size={40} className=\"text-gray-900\" />;\n        }\n    }\n\n    function getAccentColorForStep(stepNumber: number) {\n        return sportsAccentColors[stepNumber as keyof typeof sportsAccentColors] || \"from-red-400 to-orange-500\";\n    }\n\n    function getCTATextForStep(stepNumber: number) {\n        switch (stepNumber) {\n            case 1: return \"Set Goals\";\n            case 2: return \"Customize\";\n            case 3: return \"View Program\";\n            case 4: return \"Track Performance\";\n            default: return \"Learn More\";\n        }\n    }\n\n    function getDetailedFeaturesForStep(stepNumber: number) {\n        // Different feature content with sports-specific terminology and focus\n        switch (stepNumber) {\n            case 1:\n                return [\n                    {\n                        title: \"Strength & Power\",\n                        description: \"Build explosive strength for better athletic performance with specialized training.\",\n                        icon: <Dumbbell size={24} className=\"text-red-200\" />\n                    },\n                    {\n                        title: \"Speed & Agility\",\n                        description: \"Develop quickness and change-of-direction skills essential for sports performance.\",\n                        icon: <Flame size={24} className=\"text-red-200\" />\n                    },\n                    {\n                        title: \"Endurance Building\",\n                        description: \"Improve cardiovascular capacity for sustained performance throughout competition.\",\n                        icon: <Zap size={24} className=\"text-red-200\" />\n                    },\n                    {\n                        title: \"Sport-Specific Skills\",\n                        description: \"Enhance the specific athletic abilities required for your chosen sport.\",\n                        icon: <Activity size={24} className=\"text-red-200\" />\n                    }\n                ];\n            case 2:\n                return [\n                    {\n                        title: \"Equipment Availability\",\n                        description: \"From gym access to minimal home equipment - we adapt your training program accordingly.\",\n                        icon: <Dumbbell size={24} className=\"text-orange-200\" />\n                    },\n                    {\n                        title: \"Schedule Integration\",\n                        description: \"Fit training around your sport practice schedule to maximize recovery and adaptation.\",\n                        icon: <Clock size={24} className=\"text-orange-200\" />\n                    },\n                    {\n                        title: \"Athletic Level\",\n                        description: \"Training matched to your current athletic development stage for optimal progression.\",\n                        icon: <Layers size={24} className=\"text-orange-200\" />\n                    },\n                    {\n                        title: \"Season Planning\",\n                        description: \"Periodized training based on your competition schedule and season phases.\",\n                        icon: <Calendar size={24} className=\"text-orange-200\" />\n                    }\n                ];\n            case 3:\n                return [\n                    {\n                        title: \"Sports Science Algorithms\",\n                        description: \"Advanced training algorithms based on cutting-edge sports performance research.\",\n                        icon: <Cpu size={24} className=\"text-yellow-600\" />\n                    },\n                    {\n                        title: \"Evidence-Based Methods\",\n                        description: \"Training protocols validated by sports science research and elite coaching practices.\",\n                        icon: <Microscope size={24} className=\"text-yellow-600\" />\n                    },\n                    {\n                        title: \"Progressive Overload\",\n                        description: \"Systematic progression to continuously challenge your athletic capacities.\",\n                        icon: <TrendingUp size={24} className=\"text-yellow-600\" />\n                    },\n                    {\n                        title: \"Technique Guidance\",\n                        description: \"Detailed movement instructions to maximize effectiveness and prevent injury.\",\n                        icon: <FileText size={24} className=\"text-yellow-600\" />\n                    }\n                ];\n            case 4:\n                return [\n                    {\n                        title: \"Performance Analytics\",\n                        description: \"Visualize improvements in key performance indicators relevant to your sport.\",\n                        icon: <PieChart size={24} className=\"text-lime-700\" />\n                    },\n                    {\n                        title: \"Competition Readiness\",\n                        description: \"Track your progress toward peak performance for important competitions.\",\n                        icon: <Trophy size={24} className=\"text-lime-700\" />\n                    },\n                    {\n                        title: \"Physical Testing\",\n                        description: \"Regular assessment of strength, speed, and sport-specific performance metrics.\",\n                        icon: <Activity size={24} className=\"text-lime-700\" />\n                    },\n                    {\n                        title: \"Performance Insights\",\n                        description: \"AI-generated observations about your athletic development and improvement areas.\",\n                        icon: <Lightbulb size={24} className=\"text-lime-700\" />\n                    }\n                ];\n            default:\n                return [];\n        }\n    }\n\n    return (\n        <section className={`journey-section ${SPACING.PADDING.SECTION} bg-[#071d14]`} id=\"how-it-works\">\n            <div className={SPACING.LAYOUT.SECTION_CONTAINER}>\n                <SectionHeader\n                    title={<>The <span className=\"text-[#84cc16]\">Athlete's</span> Journey</>}\n                    description=\"Follow these steps to build your personalized sports performance program using our AI training technology.\"\n                />\n\n                <div className=\"space-y-6 mt-12\">\n                    {journeySteps.map((step, index) => (\n                        <JourneyStep\n                            key={step.id}\n                            step={step}\n                            index={index}\n                            isExpanded={expandedStep === index}\n                            onToggle={() => toggleStep(index)}\n                            isLast={index === journeySteps.length - 1}\n                        />\n                    ))}\n                </div>\n\n                <JourneyCTA\n                    text=\"Build Your Athletic Program\"\n                    href=\"https://builder.fitcopilot.ai\"\n                />\n            </div>\n        </section>\n    );\n};\n\nexport default SportsJourney; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Journey/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/PersonalTraining.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/PersonalTraining.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/components/MediaContainer/MediaContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/components/MediaContainer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/components/VideoPlayer/VideoPlayer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'setErrorDetails' is assigned a value but never used.","line":278,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":278,"endColumn":45}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Pause, Play } from 'lucide-react';\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\nimport { ErrorMessage, Loading } from '../../../../../components/UI';\nimport logger from '../../../../../utils/logger';\nimport './VideoPlayer.scss';\n\n// Create a component-specific logger\nconst videoLogger = logger.addContext('VideoPlayer');\n\n/**\n * Interface representing a video source with URL and content type\n * \n * @interface VideoSource\n * @property {string} src - URL of the video source\n * @property {string} type - MIME type of the video (e.g., 'video/mp4')\n * @property {string} [quality] - Quality label for the source (e.g., '720p', '1080p')\n * @property {number} [size] - File size in bytes for bandwidth estimation\n */\nexport interface VideoSource {\n    /**\n     * Video source URL\n     */\n    src: string;\n\n    /**\n     * Video type\n     */\n    type: string;\n\n    /**\n     * Quality label (e.g., '360p', '720p', '1080p')\n     */\n    quality?: string;\n\n    /**\n     * File size in bytes for bandwidth considerations\n     */\n    size?: number;\n\n    /**\n     * Whether this is preferred for mobile devices\n     */\n    mobileOptimized?: boolean;\n}\n\n/**\n * Props for the VideoPlayer component\n * \n * @interface VideoPlayerProps\n */\nexport interface VideoPlayerProps {\n    /**\n     * Primary video source URL\n     * @required\n     */\n    src: string;\n\n    /**\n     * Optional fallback sources if primary source fails to load\n     * Can be a single string URL or an array of VideoSource objects\n     */\n    fallbackSrc?: string | VideoSource[];\n\n    /**\n     * Multiple quality options for the video\n     * If provided, the component will choose the best quality based on network conditions\n     */\n    qualitySources?: VideoSource[];\n\n    /**\n     * Poster image to display before video plays\n     * Strongly recommended for better user experience\n     */\n    poster?: string;\n\n    /**\n     * Whether to show controls overlay\n     * @default true\n     */\n    controls?: boolean;\n\n    /**\n     * Whether video should loop when it reaches the end\n     * @default true\n     */\n    loop?: boolean;\n\n    /**\n     * Whether video should be muted\n     * Required for autoplay in most browsers\n     * @default true\n     */\n    muted?: boolean;\n\n    /**\n     * Whether to play automatically when component mounts\n     * Note: Most browsers require muted=true for autoplay to work\n     * @default false\n     */\n    autoPlay?: boolean;\n\n    /**\n     * Whether to autoplay when the video comes into view\n     * @default true\n     */\n    autoPlayOnScroll?: boolean;\n\n    /**\n     * Optional CSS class name to apply to container\n     */\n    className?: string;\n\n    /**\n     * Accessibility label for the video\n     * Important for screen readers\n     * @default 'Video content'\n     */\n    ariaLabel?: string;\n\n    /**\n     * Aspect ratio of the video container\n     * Format: 'width/height' (e.g., '16/9', '4/3', '1/1')\n     * @default '16/9'\n     */\n    aspectRatio?: string;\n\n    /**\n     * Theme variant for styling video controls\n     * @default 'default'\n     */\n    theme?: 'default' | 'gym' | 'sports' | 'wellness';\n\n    /**\n     * Connection speed preference for choosing quality\n     * If undefined, will auto-detect\n     */\n    connectionPreference?: 'low' | 'medium' | 'high' | 'auto';\n\n    /**\n     * Callback when video encounters an error\n     */\n    onError?: (error: Event) => void;\n\n    /**\n     * Action to take when video errors\n     */\n    errorAction?: {\n        label: string;\n        handler: () => void;\n    };\n}\n\n/**\n * Utility function to check if a URL is from a streaming service\n * \n * @param url - The URL to check\n * @returns Whether the URL is from a streaming service\n */\nconst isStreamingServiceUrl = (url: string): boolean => {\n    // Check for common streaming services\n    const streamingDomains = [\n        'youtube.com', 'youtu.be',\n        'vimeo.com',\n        'wistia.com',\n        'dailymotion.com',\n        'facebook.com/watch',\n        'twitch.tv'\n    ];\n\n    try {\n        const urlObj = new URL(url);\n        return streamingDomains.some(domain => urlObj.hostname.includes(domain));\n    } catch {\n        return false; // Invalid URL\n    }\n};\n\n/**\n * Utility function to convert YouTube URLs to embedded format\n * \n * @param url - The YouTube URL to convert\n * @param autoPlay - Whether to autoplay the video\n * @returns Embedded YouTube URL\n */\nconst getYouTubeEmbedUrl = (url: string, autoPlay: boolean): string => {\n    // If already an embed URL, possibly add autoplay\n    if (url.includes('youtube.com/embed/')) {\n        const hasAutoplay = url.includes('autoplay=1');\n        if (autoPlay && !hasAutoplay) {\n            return url.includes('?') ? `${url}&autoplay=1` : `${url}?autoplay=1`;\n        } else if (!autoPlay && hasAutoplay) {\n            return url.replace('autoplay=1', 'autoplay=0');\n        }\n        return url;\n    }\n\n    // Handle various YouTube URL formats\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    const match = url.match(regExp);\n\n    if (match && match[2].length === 11) {\n        // Valid YouTube ID\n        const videoId = match[2];\n        return `https://www.youtube.com/embed/${videoId}${autoPlay ? '?autoplay=1' : ''}`;\n    }\n\n    // If not matched, return original\n    return url;\n};\n\n/**\n * VideoPlayer component for displaying video content with custom controls\n * \n * Features:\n * - Multiple video source support with fallbacks\n * - Custom play/pause controls with elegant overlay\n * - Progress bar with time display\n * - Loading state with spinner\n * - Error handling with user feedback\n * - Design system integration\n * - Accessibility support\n * - Responsive design\n * - Reduced motion support\n * - Autoplay on scroll into view\n * - Support for external streaming services (YouTube, etc.)\n * - Responsive quality selection based on network conditions\n * \n * @component\n * @example\n * // Basic usage\n * <VideoPlayer src=\"/path/to/video.mp4\" />\n * \n * @example\n * // Advanced usage with responsive quality\n * <VideoPlayer \n *   ref={videoRef}\n *   src=\"/path/to/video.mp4\"\n *   qualitySources={[\n *     { src: \"/path/to/video-360p.mp4\", type: \"video/mp4\", quality: \"360p\", size: 5242880, mobileOptimized: true },\n *     { src: \"/path/to/video-720p.mp4\", type: \"video/mp4\", quality: \"720p\", size: 15728640 },\n *     { src: \"/path/to/video-1080p.mp4\", type: \"video/mp4\", quality: \"1080p\", size: 31457280 }\n *   ]}\n *   poster=\"/path/to/poster.jpg\"\n *   controls={true}\n *   muted={true}\n *   autoPlay={false}\n *   autoPlayOnScroll={true}\n *   ariaLabel=\"Training demonstration video\"\n *   aspectRatio=\"16/9\"\n *   theme=\"gym\"\n *   connectionPreference=\"auto\"\n * />\n */\nconst VideoPlayer = forwardRef<HTMLVideoElement, VideoPlayerProps>(\n    ({\n        src,\n        fallbackSrc,\n        qualitySources,\n        poster,\n        controls = true,\n        loop = true,\n        muted = true,\n        autoPlay = false,\n        autoPlayOnScroll = true,\n        className = '',\n        ariaLabel = 'Video content',\n        aspectRatio = '16/9',\n        theme = 'default',\n        connectionPreference = 'auto',\n        onError,\n        errorAction\n    }, ref) => {\n        const [isPlaying, setIsPlaying] = useState(false);\n        const [currentTime, setCurrentTime] = useState(0);\n        const [duration, setDuration] = useState(0);\n        const [isLoading, setIsLoading] = useState(true);\n        const [hasError, setHasError] = useState(false);\n        const [errorDetails, setErrorDetails] = useState<string | undefined>(undefined);\n        const [sources, setSources] = useState<VideoSource[]>([]);\n        const [selectedQuality, setSelectedQuality] = useState<string | undefined>(undefined);\n        const [isInView, setIsInView] = useState(false);\n        const [connectionSpeed, setConnectionSpeed] = useState<'low' | 'medium' | 'high'>('medium');\n        const progressRef = useRef<HTMLDivElement>(null);\n        const containerRef = useRef<HTMLDivElement>(null);\n        const internalVideoRef = useRef<HTMLVideoElement>(null);\n\n        // Check if source is from streaming service\n        const isStreaming = isStreamingServiceUrl(src);\n\n        // Get appropriate embed URL for streaming services\n        const streamingUrl = isStreaming && src.includes('youtube') ? getYouTubeEmbedUrl(src, autoPlay) : src;\n\n        // Use passed ref or internal ref\n        const videoRef = (ref as React.RefObject<HTMLVideoElement>) || internalVideoRef;\n\n        // Detect connection speed for quality selection\n        useEffect(() => {\n            // Skip detection if streaming or connection preference is explicitly set\n            if (isStreaming || connectionPreference !== 'auto') {\n                if (connectionPreference !== 'auto') {\n                    setConnectionSpeed(connectionPreference);\n                }\n                return;\n            }\n\n            const checkConnectionSpeed = async () => {\n                try {\n                    const startTime = Date.now();\n                    const response = await fetch('/connectivity-test.json', {\n                        method: 'GET',\n                        cache: 'no-cache'\n                    });\n                    if (!response.ok) throw new Error('Network response was not ok');\n                    await response.json();\n                    const endTime = Date.now();\n                    const duration = endTime - startTime;\n\n                    // Determine connection speed based on response time\n                    if (duration < 100) {\n                        setConnectionSpeed('high');\n                    } else if (duration < 500) {\n                        setConnectionSpeed('medium');\n                    } else {\n                        setConnectionSpeed('low');\n                    }\n                } catch (error) {\n                    videoLogger.warn('Connection speed test failed', { error });\n                    setConnectionSpeed('medium'); // Default to medium on error\n                }\n            };\n\n            // Run the speed test\n            checkConnectionSpeed();\n        }, [isStreaming, connectionPreference]);\n\n        // Process sources and select appropriate quality\n        useEffect(() => {\n            if (isStreaming) return;\n\n            let allSources: VideoSource[] = [];\n            let quality: string | undefined = undefined;\n\n            // Process quality sources if provided\n            if (qualitySources && qualitySources.length > 0) {\n                allSources = [...qualitySources];\n\n                // Select appropriate quality based on connection speed\n                const isMobile = window.innerWidth < 768;\n\n                if (isMobile) {\n                    // Prefer mobile-optimized source if available\n                    const mobileSource = qualitySources.find(s => s.mobileOptimized);\n                    if (mobileSource) {\n                        quality = mobileSource.quality;\n                    } else {\n                        // Otherwise select based on connection\n                        switch (connectionSpeed) {\n                            case 'low':\n                                quality = qualitySources\n                                    .sort((a, b) => (a.size || 0) - (b.size || 0))[0]?.quality;\n                                break;\n                            case 'medium':\n                                // Middle quality\n                                quality = qualitySources[Math.floor(qualitySources.length / 2)]?.quality;\n                                break;\n                            case 'high':\n                                quality = qualitySources\n                                    .sort((a, b) => (b.size || 0) - (a.size || 0))[0]?.quality;\n                                break;\n                        }\n                    }\n                } else {\n                    // Desktop - select based on connection\n                    // Define midIndex outside the switch to avoid lexical declaration issues\n                    let midIndex = 0;\n\n                    switch (connectionSpeed) {\n                        case 'low':\n                            quality = qualitySources\n                                .sort((a, b) => (a.size || 0) - (b.size || 0))[0]?.quality;\n                            break;\n                        case 'medium':\n                            // Middle quality or slightly higher\n                            midIndex = Math.min(\n                                Math.floor(qualitySources.length / 2) + 1,\n                                qualitySources.length - 1\n                            );\n                            quality = qualitySources[midIndex]?.quality;\n                            break;\n                        case 'high':\n                            quality = qualitySources\n                                .sort((a, b) => (b.size || 0) - (a.size || 0))[0]?.quality;\n                            break;\n                    }\n                }\n\n                setSelectedQuality(quality);\n            } else {\n                // Add primary source\n                allSources.push({\n                    src: src,\n                    type: getVideoTypeFromUrl(src)\n                });\n\n                // Add fallback sources\n                if (fallbackSrc) {\n                    if (typeof fallbackSrc === 'string') {\n                        allSources.push({\n                            src: fallbackSrc,\n                            type: getVideoTypeFromUrl(fallbackSrc)\n                        });\n                    } else if (Array.isArray(fallbackSrc)) {\n                        allSources.push(...fallbackSrc);\n                    }\n                }\n            }\n\n            setSources(allSources);\n        }, [src, fallbackSrc, qualitySources, isStreaming, connectionSpeed]);\n\n        // Set up Intersection Observer for autoplay on scroll\n        useEffect(() => {\n            if (!autoPlayOnScroll || !containerRef.current) return;\n\n            const handleIntersection = (entries: IntersectionObserverEntry[]) => {\n                const [entry] = entries;\n                setIsInView(entry.isIntersecting);\n            };\n\n            const options = {\n                root: null, // viewport\n                rootMargin: '0px',\n                threshold: 0.5 // 50% of the element is visible\n            };\n\n            const observer = new IntersectionObserver(handleIntersection, options);\n            const currentContainer = containerRef.current;\n            observer.observe(currentContainer);\n\n            return () => {\n                if (currentContainer) {\n                    observer.unobserve(currentContainer);\n                }\n                observer.disconnect();\n            };\n        }, [autoPlayOnScroll, isStreaming]);\n\n        // Handle autoplay on scroll\n        useEffect(() => {\n            if (!autoPlayOnScroll || !videoRef.current || hasError || isStreaming) return;\n\n            if (isInView) {\n                videoRef.current.currentTime = 0; // Always start from the beginning\n                videoRef.current.play().catch(e => {\n                    videoLogger.error(\"Video autoplay failed\", { error: e });\n                });\n            } else if (videoRef.current.played.length > 0) {\n                videoRef.current.pause();\n                videoRef.current.currentTime = 0; // Reset to first frame when out of view\n            }\n        }, [isInView, autoPlayOnScroll, hasError, isStreaming, videoRef]);\n\n        // Helper to determine video type from URL\n        const getVideoTypeFromUrl = (url: string): string => {\n            const extension = url.split('.').pop()?.toLowerCase();\n            switch (extension) {\n                case 'mp4':\n                    return 'video/mp4';\n                case 'webm':\n                    return 'video/webm';\n                case 'ogv':\n                    return 'video/ogg';\n                default:\n                    return 'video/mp4';\n            }\n        };\n\n        // Format time as MM:SS\n        const formatTime = (timeInSeconds: number) => {\n            const minutes = Math.floor(timeInSeconds / 60);\n            const seconds = Math.floor(timeInSeconds % 60);\n            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n        };\n\n        // Handle play/pause toggle\n        const handlePlayPause = () => {\n            if (!videoRef.current || hasError) return;\n\n            if (isPlaying) {\n                videoRef.current.pause();\n            } else {\n                videoRef.current.play().catch(error => {\n                    videoLogger.error(\"Video playback failed\", { error });\n                    setHasError(true);\n                });\n            }\n        };\n\n        // Handle retry after error\n        const handleRetry = () => {\n            setHasError(false);\n            setIsLoading(true);\n\n            if (videoRef.current) {\n                videoRef.current.load();\n\n                // Try playing again\n                setTimeout(() => {\n                    if (videoRef.current) {\n                        videoRef.current.play().catch(error => {\n                            videoLogger.error(\"Video retry failed\", { error });\n                            setHasError(true);\n                            setIsLoading(false);\n                        });\n                    }\n                }, 1000);\n            }\n        };\n\n        // Update play state when video state changes\n        useEffect(() => {\n            const video = videoRef.current;\n            if (!video) return;\n\n            const handlePlay = () => setIsPlaying(true);\n            const handlePause = () => setIsPlaying(false);\n            const handleTimeUpdate = () => setCurrentTime(video.currentTime);\n            const handleDurationChange = () => setDuration(video.duration);\n            const handleLoadedData = () => {\n                setIsLoading(false);\n                setHasError(false);\n\n                // Ensure the first frame is shown\n                if (!isPlaying && !autoPlay) {\n                    video.currentTime = 0.1; // Small offset to show the first actual frame\n                    setTimeout(() => {\n                        if (video && !isPlaying) {\n                            video.currentTime = 0;\n                        }\n                    }, 100);\n                }\n            };\n            const handleError = (e: Event) => {\n                videoLogger.error(\"Video error\", { event: e });\n                setHasError(true);\n                setIsLoading(false);\n\n                if (onError) {\n                    onError(e);\n                }\n            };\n\n            video.addEventListener('play', handlePlay);\n            video.addEventListener('pause', handlePause);\n            video.addEventListener('timeupdate', handleTimeUpdate);\n            video.addEventListener('durationchange', handleDurationChange);\n            video.addEventListener('loadeddata', handleLoadedData);\n            video.addEventListener('error', handleError);\n\n            // Auto play if specified\n            if (autoPlay && !hasError) {\n                video.play().catch(e => {\n                    videoLogger.error(\"Video autoplay failed\", { error: e });\n                    setHasError(true);\n                });\n            }\n\n            return () => {\n                video.removeEventListener('play', handlePlay);\n                video.removeEventListener('pause', handlePause);\n                video.removeEventListener('timeupdate', handleTimeUpdate);\n                video.removeEventListener('durationchange', handleDurationChange);\n                video.removeEventListener('loadeddata', handleLoadedData);\n                video.removeEventListener('error', handleError);\n            };\n        }, [autoPlay, hasError, isPlaying, autoPlayOnScroll, isStreaming, onError, videoRef]);\n\n        // Update progress bar width based on current time\n        useEffect(() => {\n            if (progressRef.current && duration > 0 && !isStreaming) {\n                const progressPercentage = (currentTime / duration) * 100;\n                progressRef.current.style.width = `${progressPercentage}%`;\n            }\n        }, [currentTime, duration, isStreaming]);\n\n        // Filter sources based on selected quality\n        const getActiveSources = () => {\n            if (!selectedQuality || !qualitySources) {\n                return sources;\n            }\n\n            // Place the selected quality source first, followed by other sources as fallbacks\n            return [\n                ...sources.filter(s => s.quality === selectedQuality),\n                ...sources.filter(s => s.quality !== selectedQuality)\n            ];\n        };\n\n        // Get dynamic styles based on theme\n        const getThemeClass = () => {\n            switch (theme) {\n                case 'gym':\n                    return 'theme-gym';\n                case 'sports':\n                    return 'theme-sports';\n                case 'wellness':\n                    return 'theme-wellness';\n                default:\n                    return '';\n            }\n        };\n\n        return (\n            <div\n                className={`video-container ${className} ${isInView && isPlaying && autoPlayOnScroll ? 'autoplaying' : ''} ${isStreaming ? 'streaming-video' : ''} ${getThemeClass()}`}\n                ref={containerRef}\n                style={{ aspectRatio }}\n            >\n                {/* Streaming video (iframe) */}\n                {isStreaming ? (\n                    <div className=\"video-wrapper\">\n                        <iframe\n                            src={streamingUrl}\n                            title={ariaLabel}\n                            frameBorder=\"0\"\n                            className=\"streaming-frame\"\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                            allowFullScreen\n                        ></iframe>\n                    </div>\n                ) : (\n                    <>\n                        {/* Local video with sources */}\n                        <div className=\"video-wrapper\" style={{ paddingBottom: aspectRatio === '16/9' ? '56.25%' : aspectRatio === '4/3' ? '75%' : aspectRatio === '1/1' ? '100%' : '56.25%' }}>\n                            <video\n                                ref={videoRef}\n                                poster={poster}\n                                loop={loop}\n                                muted={muted}\n                                playsInline\n                                preload=\"metadata\"\n                                onClick={controls ? handlePlayPause : undefined}\n                                aria-label={ariaLabel}\n                            >\n                                {/* Render active sources */}\n                                {getActiveSources().map((source, index) => (\n                                    <source key={index} src={source.src} type={source.type} />\n                                ))}\n                                {/* Fallback text for browsers that don't support video */}\n                                Your browser does not support HTML video playback.\n                            </video>\n\n                            {/* Loading indicator */}\n                            {isLoading && !hasError && (\n                                <div className=\"video-overlay loading-state\">\n                                    <Loading\n                                        size=\"medium\"\n                                        variant=\"accent\"\n                                        label=\"Loading video\"\n                                    />\n                                </div>\n                            )}\n\n                            {/* Error indicator */}\n                            {hasError && (\n                                <div className=\"video-overlay error-state\">\n                                    <ErrorMessage\n                                        message=\"Unable to load video\"\n                                        details={errorDetails}\n                                        action={\n                                            errorAction ? {\n                                                label: errorAction.label,\n                                                onClick: errorAction.handler\n                                            } : {\n                                                label: \"Try Again\",\n                                                onClick: handleRetry\n                                            }\n                                        }\n                                        className=\"video-error-message\"\n                                    />\n                                </div>\n                            )}\n\n                            {/* Play/pause overlay */}\n                            {controls && !hasError && (\n                                <div\n                                    className={`video-overlay controls-overlay transition-opacity duration-300\n                                        ${isPlaying ? 'opacity-0 hover:opacity-100' : 'opacity-100'}`}\n                                >\n                                    <button\n                                        className=\"control-button\"\n                                        onClick={handlePlayPause}\n                                        aria-label={isPlaying ? \"Pause video\" : \"Play video\"}\n                                    >\n                                        {isPlaying ? (\n                                            <Pause size={24} />\n                                        ) : (\n                                            <Play size={24} className=\"ml-1\" />\n                                        )}\n                                    </button>\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Video progress bar (only for local videos) */}\n                        {!hasError && (\n                            <div className=\"video-controls-container mt-3\">\n                                <div className=\"video-progress\">\n                                    <div ref={progressRef} className=\"video-progress-bar\"></div>\n                                </div>\n\n                                {/* Time display */}\n                                <div className=\"time-display\">\n                                    <span>{formatTime(currentTime)}</span>\n                                    <span>{formatTime(duration)}</span>\n                                </div>\n\n                                {/* Quality indicator - shows when multiple qualities are available */}\n                                {selectedQuality && (\n                                    <div className=\"quality-indicator\">\n                                        <span className=\"quality-label\">{selectedQuality}</span>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        );\n    }\n);\n\nVideoPlayer.displayName = 'VideoPlayer';\n\nexport default VideoPlayer; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/sports/PersonalTraining.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/PersonalTraining/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/Pricing.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/Pricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/components/PricingCard.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/components/PricingCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/boutique/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Pricing/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/Testimonials.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/Testimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/components/TestimonialCard.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/components/TestimonialCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Testimonials/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/BenefitsList/BenefitsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/BenefitsList/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/BenefitsList/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/MainCTA/MainCTA.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/MainCTA/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/MainCTA/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/ProgramCard/ProgramCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/ProgramCard/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/ProgramCard/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/ProgramsList/ProgramsList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/ProgramsList/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/ProgramsList/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/SectionHeader/SectionHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/SectionHeader/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/data/defaultData.ts","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: '>' expected.","line":12,"column":17,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { ProgramType } from '../types';\n\n/**\n * Default data for training programs\n */\nexport const DEFAULT_PROGRAMS: ProgramType[] = [\n    {\n        title: \"Strength Building\",\n        description: \"Focus on compound movements and progressive overload for maximum strength gains.\",\n        icon: (\n            <svg xmlns= \"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"program-icon\" >\n            <path d=\"M6 18a6 6 0 0 1-6-6V7c0-1.66 1.34-3 3-3h0c1.66 0 3 1.34 3 3h0c0-1.66 1.34-3 3-3h0c1.66 0 3 1.34 3 3h0c0-1.66 1.34-3 3-3h0c1.66 0 3 1.34 3 3v5a6 6 0 0 1-6 6h-6Z\"> </path>\n                < path d=\"M6 10h12\" > </path>\n                </svg>\n        ),\nbenefits: [\n    \"Scientifically proven strength progression\",\n    \"Focus on fundamental movement patterns\",\n    \"Optimal progressive overload protocols\",\n    \"Strategic deload periods for recovery\"\n],\n    programType: \"strength\"\n    },\n{\n    title: \"Fat Loss\",\n        description: \"Combination of HIIT, metabolic conditioning, and strategic nutrition for effective fat loss.\",\n            icon: (\n                <svg xmlns= \"http://www.w3.org/2000/svg\" width = \"24\" height = \"24\" viewBox = \"0 0 24 24\" fill = \"none\" stroke = \"currentColor\" strokeWidth = \"2\" strokeLinecap = \"round\" strokeLinejoin = \"round\" className = \"program-icon\" >\n                    <rect width=\"20\" height = \"14\" x = \"2\" y = \"5\" rx = \"2\" > </rect>\n                        < line x1 = \"2\" x2 = \"22\" y1 = \"10\" y2 = \"10\" > </line>\n                            </svg>\n        ),\n    benefits: [\n        \"Metabolic conditioning protocols\",\n        \"Nutritional guidance and meal templates\",\n        \"Progressive cardiovascular training\",\n        \"Body composition tracking tools\"\n    ],\n        programType: \"fatLoss\"\n},\n{\n    title: \"General Fitness\",\n        description: \"Well-rounded approach to improve all aspects of fitness with balanced programming.\",\n            icon: (\n                <svg xmlns= \"http://www.w3.org/2000/svg\" width = \"24\" height = \"24\" viewBox = \"0 0 24 24\" fill = \"none\" stroke = \"currentColor\" strokeWidth = \"2\" strokeLinecap = \"round\" strokeLinejoin = \"round\" className = \"program-icon\" >\n                    <path d=\"M12 22a8 8 0 0 0 0-16\" > </path>\n                        < path d = \"M12 6a8 8 0 0 0 0 16\" > </path>\n                            < path d = \"M12 2v4\" > </path>\n                                < path d = \"M12 18v4\" > </path>\n                                    < path d = \"m4.93 4.93 2.83 2.83\" > </path>\n                                        < path d = \"m16.24 16.24 2.83 2.83\" > </path>\n                                            < path d = \"M2 12h4\" > </path>\n                                                < path d = \"M18 12h4\" > </path>\n                                                    < path d = \"m4.93 19.07 2.83-2.83\" > </path>\n                                                        < path d = \"m16.24 7.76 2.83-2.83\" > </path>\n                                                            </svg>\n        ),\n    benefits: [\n        \"Balanced strength and endurance training\",\n        \"Functional movement patterns\",\n        \"Flexibility and mobility work\",\n        \"Adaptable to all fitness levels\"\n    ],\n        programType: \"fitness\"\n},\n{\n    title: \"Athletic Performance\",\n        description: \"Advanced training methodologies to enhance speed, power, and sports-specific performance.\",\n            icon: (\n                <svg xmlns= \"http://www.w3.org/2000/svg\" width = \"24\" height = \"24\" viewBox = \"0 0 24 24\" fill = \"none\" stroke = \"currentColor\" strokeWidth = \"2\" strokeLinecap = \"round\" strokeLinejoin = \"round\" className = \"program-icon\" >\n                    <line x1=\"8\" x2 = \"12\" y1 = \"18\" y2 = \"2\" > </line>\n                        < line x1 = \"12\" x2 = \"16\" y1 = \"2\" y2 = \"18\" > </line>\n                            < line x1 = \"2\" x2 = \"22\" y1 = \"18\" y2 = \"18\" > </line>\n                                < line x1 = \"2\" x2 = \"22\" y1 = \"22\" y2 = \"22\" > </line>\n                                    </svg>\n        ),\n    benefits: [\n        \"Sport-specific movement optimization\",\n        \"Explosive power development\",\n        \"Speed and agility training protocols\",\n        \"Recovery and performance tracking\"\n    ],\n        programType: \"athletic\"\n}\n];\n\n/**\n * Default section title\n */\nexport const DEFAULT_SECTION_TITLE = \"Specialized Programs\";\n\n/**\n * Default section description\n */\nexport const DEFAULT_SECTION_DESCRIPTION = \"Our comprehensive training programs are designed to target specific fitness goals with proven methodologies and personalized approaches\"; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/data/defaultProgramsData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/examples/ProgramTokenExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/examples/TokenExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/examples/VisualEnhancementsExample.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/hooks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/hooks/useReducedMotion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/hooks/useTrainingPrograms.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/tests/performance.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'getByText' is assigned a value but never used.","line":45,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":45,"endColumn":37},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'queryByText' is assigned a value but never used.","line":132,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":132,"endColumn":50}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fireEvent, render } from '@testing-library/react';\nimport React from 'react';\nimport logger from '../../../../utils/logger';\nimport Training from '../Training';\nimport { BenefitsList, ProgramCard } from '../components';\nimport { DEFAULT_PROGRAMS } from '../data/defaultProgramsData';\nimport { generateProgramAriaIds } from '../utils/accessibilityHelpers';\n\n// Create a test-specific logger\nconst testLogger = logger.addContext('TrainingPerformanceTest');\n\n/**\n * Performance test suite for the Training component\n * \n * This file contains tests that validate the component's performance\n * optimizations, including:\n * 1. Memoization of sub-components\n * 2. useCallback for event handlers\n * 3. Extraction of default data\n */\ndescribe('Training Component Performance', () => {\n    // Mock performance now to test rendering time\n    const originalPerformanceNow = global.performance.now;\n    let perfStart: number;\n\n    beforeAll(() => {\n        // Setup performance testing\n        global.performance.now = jest.fn(() => Date.now());\n        // @ts-expect-error - for testing purposes\n        jest.spyOn(React, 'memo').mockImplementation((component) => {\n            return component;\n        });\n    });\n\n    afterAll(() => {\n        // Restore original implementation\n        global.performance.now = originalPerformanceNow;\n    });\n\n    beforeEach(() => {\n        perfStart = performance.now();\n    });\n\n    it('renders efficiently with memoized components', () => {\n        const { container, getByText } = render(<Training />);\n\n        // Time to render should be captured\n        const renderTime = performance.now() - perfStart;\n        testLogger.debug(`Initial render time: ${renderTime}ms`);\n\n        // Expect the component to render all programs\n        expect(container.querySelectorAll('.program-card')).toHaveLength(DEFAULT_PROGRAMS.length);\n    });\n\n    it('ProgramCard is memoized and prevents re-renders', () => {\n        // Setup mock props\n        const mockProgram = DEFAULT_PROGRAMS[0];\n        const mockAriaIds = generateProgramAriaIds(0, 'strength');\n        const mockToggle = jest.fn();\n\n        const { rerender } = render(\n            <ProgramCard\n                program={mockProgram}\n                isActive={false}\n                onToggle={mockToggle}\n                variant=\"default\"\n                ariaIds={mockAriaIds}\n            />\n        );\n\n        // Re-render with same props should be efficient\n        const reRenderStart = performance.now();\n\n        rerender(\n            <ProgramCard\n                program={mockProgram}\n                isActive={false}\n                onToggle={mockToggle}\n                variant=\"default\"\n                ariaIds={mockAriaIds}\n            />\n        );\n\n        const reRenderTime = performance.now() - reRenderStart;\n        testLogger.debug(`ProgramCard re-render time: ${reRenderTime}ms`);\n\n        // Changing isActive should cause re-render\n        rerender(\n            <ProgramCard\n                program={mockProgram}\n                isActive={true}\n                onToggle={mockToggle}\n                variant=\"default\"\n                ariaIds={mockAriaIds}\n            />\n        );\n\n        // Verify toggle works\n        const card = document.querySelector('.program-card');\n        fireEvent.click(card!);\n        expect(mockToggle).toHaveBeenCalled();\n    });\n\n    it('BenefitsList is memoized and renders efficiently', () => {\n        const benefits = [\"Benefit 1\", \"Benefit 2\", \"Benefit 3\"];\n\n        const { rerender, getAllByText } = render(\n            <BenefitsList\n                benefits={benefits}\n                variant=\"default\"\n            />\n        );\n\n        // All benefits should be rendered\n        expect(getAllByText(/Benefit \\d/).length).toBe(3);\n\n        // Re-render with same props should be efficient\n        const reRenderStart = performance.now();\n\n        rerender(\n            <BenefitsList\n                benefits={benefits}\n                variant=\"default\"\n            />\n        );\n\n        const reRenderTime = performance.now() - reRenderStart;\n        testLogger.debug(`BenefitsList re-render time: ${reRenderTime}ms`);\n    });\n\n    it('ExpandedContent only renders when program is selected', () => {\n        const { container, getByText, queryByText } = render(<Training />);\n\n        // Initially no expanded content should be visible\n        expect(container.querySelectorAll('.training-expanded').length).toBe(0);\n\n        // Click on the first program card\n        const firstCard = container.querySelector('.program-card');\n        fireEvent.click(firstCard!);\n\n        // Now expanded content should be visible\n        expect(container.querySelectorAll('.training-expanded').length).toBe(1);\n        expect(getByText('Key Benefits')).toBeInTheDocument();\n\n        // Click again to collapse\n        fireEvent.click(firstCard!);\n\n        // Expanded content should be gone\n        expect(container.querySelectorAll('.training-expanded').length).toBe(0);\n    });\n}); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/accessibilityHelpers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/applyThemeTokens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/gradientTokens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/programUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/themeTokens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/utils/themeUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/boutique/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/boutique/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/classic/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/minimalist/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/modern/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/sports/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/wellness/Training.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/Training/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/TrainingFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/FeatureCard/FeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/FeatureCard/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/FeatureCard/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/FeatureCard/variants/DefaultFeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/FeatureCard/variants/GymFeatureCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/FeatureCard/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/MediaContainer/MediaContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/MediaContainer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/VideoPlayer/VideoPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/VideoPlayer/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/default/TrainingFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/boutique/TrainingFeatures.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'className' is assigned a value but never used.","line":25,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":18}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\n    BookMarked,\n    ChevronRight,\n    Compass,\n    Dumbbell,\n    Heart\n} from 'lucide-react';\nimport React, { useState } from 'react';\nimport { Section } from '../../../../../components/shared';\nimport Button from '../../../../../components/UI/Button';\nimport '../../TrainingFeatures.scss';\nimport { BoutiqueVariantProps, TrainingFeature } from '../../types';\n\n/**\n * Boutique theme variant of the TrainingFeatures component for the homepage\n * \n * Features an elegant, personalized design with luxury aesthetics and refined typography\n */\nconst BoutiqueTrainingFeatures: React.FC<BoutiqueVariantProps> = (props) => {\n    const {\n        features: customFeatures,\n        sectionTitle = \"Premium Training Features\",\n        sectionDescription = \"Elevate your fitness journey with our exclusive training technology\",\n        sectionTagText = \"Exclusive Features\",\n        className = ''\n    } = props;\n\n    // Default features for boutique variant\n    const defaultFeatures: TrainingFeature[] = [\n        {\n            icon: <Dumbbell size={24} />,\n            title: \"Personalized Programs\",\n            description: \"Custom-tailored workout programs designed specifically for your unique fitness profile and goals.\",\n            gradient: \"from-rose-400 to-rose-600\",\n            flipFront: \"Workouts designed exclusively for you.\",\n            flipBack: {\n                title: \"Tailored Approach\",\n                details: [\n                    \"Custom exercise selection\",\n                    \"Progression aligned to your goals\",\n                    \"Adapted to your preferences\",\n                    \"Regular program refinement\"\n                ]\n            }\n        },\n        {\n            icon: <Heart size={24} />,\n            title: \"Recovery Tracking\",\n            description: \"Advanced recovery metrics to ensure optimal rest periods and peak performance for each session.\",\n            gradient: \"from-amber-400 to-amber-600\",\n            flipFront: \"Monitor your body's recovery for optimal results.\",\n            flipBack: {\n                title: \"Holistic Recovery\",\n                details: [\n                    \"Heart rate variability tracking\",\n                    \"Sleep quality assessment\",\n                    \"Stress level monitoring\",\n                    \"Recovery recommendations\"\n                ]\n            }\n        },\n        {\n            icon: <Compass size={24} />,\n            title: \"Goal Alignment\",\n            description: \"Intelligent goal-setting that adapts to your progress and keeps your training perfectly aligned.\",\n            gradient: \"from-blue-400 to-blue-600\",\n            flipFront: \"Stay on course with smart goal tracking.\",\n            flipBack: {\n                title: \"Goal Mastery\",\n                details: [\n                    \"Milestone celebration system\",\n                    \"Progress visualization\",\n                    \"Regular goal reassessment\",\n                    \"Achievement rewards\"\n                ]\n            }\n        },\n        {\n            icon: <BookMarked size={24} />,\n            title: \"Nutrition Integration\",\n            description: \"Seamless nutrition tracking that synchronizes with your training program for complete wellness.\",\n            gradient: \"from-emerald-400 to-emerald-600\",\n            flipFront: \"Fuel your body with precision.\",\n            flipBack: {\n                title: \"Nutritional Excellence\",\n                details: [\n                    \"Meal planning assistance\",\n                    \"Macronutrient optimization\",\n                    \"Hydration monitoring\",\n                    \"Supplement recommendations\"\n                ]\n            }\n        }\n    ];\n\n    // Use custom features if provided, otherwise use defaults\n    const features = customFeatures || defaultFeatures;\n\n    // State for tracking the expanded feature\n    const [expandedFeature, setExpandedFeature] = useState<number | null>(null);\n\n    const toggleFeature = (index: number) => {\n        setExpandedFeature(expandedFeature === index ? null : index);\n    };\n\n    // Create props for the Section component\n    const sectionProps = {\n        id: \"training-features\",\n        className: \"training-features-section training-features--boutique\",\n        backgroundColor: \"secondary\" as const,\n        backgroundVariant: \"gradient\" as const,\n        spacing: \"lg\" as const,\n        variant: \"classic\" as const\n    };\n\n    return (\n        <Section {...sectionProps}>\n            <div className=\"training-features__header text-center mb-16\">\n                <span className=\"text-xs font-bold tracking-widest uppercase text-rose-300 mb-2 block\">{sectionTagText}</span>\n                <h2 className=\"text-3xl md:text-4xl font-bold mb-4\">{sectionTitle}</h2>\n                <p className=\"text-lg text-gray-300 max-w-3xl mx-auto\">{sectionDescription}</p>\n            </div>\n\n            <div className=\"training-features__grid grid grid-cols-1 md:grid-cols-2 gap-8\">\n                {features.map((feature, index) => (\n                    <div\n                        key={index}\n                        className={`training-features__card group rounded-xl p-6 transition-all duration-300 hover:shadow-xl \n                            ${expandedFeature === index ? 'border-2 border-rose-400' : 'border border-gray-700'}`}\n                        onClick={() => toggleFeature(index)}\n                    >\n                        <div className=\"training-features__card-header flex items-center mb-4\">\n                            <div className={`training-features__card-icon p-3 rounded-lg mr-4 bg-gradient-to-br ${feature.gradient}`}>\n                                {feature.icon}\n                            </div>\n                            <h3 className=\"training-features__card-title text-xl font-serif font-bold\">{feature.title}</h3>\n                        </div>\n                        <p className=\"training-features__card-description text-gray-300 mb-4\">{feature.description}</p>\n\n                        {expandedFeature === index && (\n                            <div className=\"training-features__card-details mt-4 pt-4 border-t border-gray-700\">\n                                <h4 className=\"font-medium text-rose-300 mb-2 font-serif\">{feature.flipBack.title}:</h4>\n                                <ul className=\"text-gray-300\">\n                                    {feature.flipBack.details.map((detail, detailIndex) => (\n                                        <li key={detailIndex} className=\"mb-2 flex items-start\">\n                                            <ChevronRight size={16} className=\"text-rose-300 mt-1 mr-2 flex-shrink-0\" />\n                                            <span>{detail}</span>\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        )}\n\n                        <Button\n                            variant=\"ghost\"\n                            size=\"small\"\n                            className=\"mt-4 text-rose-300 font-serif\"\n                            rightIcon={<ChevronRight size={16} />}\n                        >\n                            {expandedFeature === index ? 'Show Less' : 'Learn More'}\n                        </Button>\n                    </div>\n                ))}\n            </div>\n        </Section>\n    );\n};\n\nexport default BoutiqueTrainingFeatures; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/boutique/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/classic/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/default/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/minimalist/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/modern/TrainingFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/modern/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/sports/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/TrainingFeatures/variants/wellness/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/components/DemoNav/DemoNav.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/components/DemoNav/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/hooks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/hooks/useAnimation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/hooks/useHomepageData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/hooks/useHomepageService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":20,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[526,529],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[526,529],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[546,549],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[546,549],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[571,574],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[571,574],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":23,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[591,594],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[591,594],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":24,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":24,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[615,618],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[615,618],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Homepage service hook\n * \n * Provides access to WordPress data specifically formatted for Homepage needs\n * Abstracts the service implementation details from the Homepage components\n */\n\nimport { useEffect, useState } from 'react';\nimport { wordPressService, WordPressServiceData } from '../../../services';\nimport logger from '../../../utils/logger';\n\nexport interface HomepageData {\n    siteLinks: {\n        registration: string;\n        login: string;\n    };\n    assets: {\n        logo: string;\n    };\n    features: any[];\n    journey: any[];\n    testimonials: any[];\n    pricing: any[];\n    footerLinks: any[];\n    demoMode: boolean;\n}\n\n/**\n * Hook that provides WordPress data formatted for the Homepage\n * \n * @returns Homepage-specific data from WordPress\n */\nexport const useHomepageService = (): HomepageData => {\n    // Initialize state with current data\n    const [data, setData] = useState<HomepageData>(() => {\n        const wpData = wordPressService.getData();\n        return formatHomepageData(wpData);\n    });\n\n    // Subscribe to data changes\n    useEffect(() => {\n        // Create subscription to service\n        const unsubscribe = wordPressService.subscribe({\n            onDataChange: (newData) => {\n                setData(formatHomepageData(newData));\n            }\n        });\n\n        // Clean up subscription on unmount\n        return unsubscribe;\n    }, []);\n\n    return data;\n};\n\n/**\n * Format WordPress data for Homepage use\n * \n * @param wpData Raw WordPress data\n * @returns Homepage-specific formatted data\n */\nfunction formatHomepageData(wpData: WordPressServiceData): HomepageData {\n    return {\n        siteLinks: wpData.siteLinks,\n        assets: wpData.assets,\n        features: wpData.features,\n        journey: wpData.journey,\n        testimonials: wpData.testimonials,\n        pricing: wpData.pricing,\n        footerLinks: wpData.footerLinks,\n        demoMode: wpData.demoMode\n    };\n}\n\n/**\n * Get a Homepage-specific theme variant\n * \n * @param key Variant key\n * @param defaultVariant Default variant to use if not found\n * @returns The variant value\n */\nexport function getHomepageVariant<T extends string>(key: string, defaultVariant: T): T {\n    // The PHP Customizer uses keys without prefix (e.g., 'fitcopilot_hero_variant')\n    // Rather than adding a prefix, map directly to the key used in PHP\n    const wpKey = `fitcopilot_${key}_variant`;\n\n    // Get the variant value from WordPress service\n    const variantValue = wordPressService.getThemeVariant(wpKey, defaultVariant);\n\n    // Log for debugging\n    logger.debug(`Getting variant for ${key}, using WP key: ${wpKey}, value: ${variantValue}`);\n\n    return variantValue;\n} ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Homepage/utils/variantLoader.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/ExperienceLevel/ExperienceLevel.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":10,"column":11,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":10,"endColumn":40,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[469,542],"text":"type ExperienceLevelComponentProps = RegistrationStepProps"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Award, ChevronLeft, ChevronRight, Dumbbell, Zap } from 'lucide-react';\nimport React, { useState } from 'react';\nimport { RegistrationButton, SectionTitle } from '../components';\nimport { ExperienceLevel as ExperienceLevelEnum, RegistrationStepProps } from '../types';\nimport { experienceLevelToText } from '../utils';\nimport LevelCard from './components/LevelCard';\nimport LevelComparison from './components/LevelComparison';\nimport './ExperienceLevel.scss';\n\ninterface ExperienceLevelComponentProps extends RegistrationStepProps { }\n\n/**\n * Experience level selection component\n */\nconst ExperienceLevelComponent: React.FC<ExperienceLevelComponentProps> = ({\n    data,\n    updateData,\n    onNext,\n    onBack,\n    className = '',\n}) => {\n    // Track which level has focus for comparison display\n    const [focusedLevel, setFocusedLevel] = useState<ExperienceLevelEnum | null>(\n        data.experienceLevel || null\n    );\n\n    // Handle selecting a level\n    const handleSelectLevel = (level: ExperienceLevelEnum) => {\n        updateData({ experienceLevel: level });\n        setFocusedLevel(level);\n    };\n\n    // Determine if next button should be enabled\n    const isNextEnabled = !!data.experienceLevel;\n\n    return (\n        <div className={`experience-level-step registration-step ${className}`}>\n            {/* Background animation with particles */}\n            <div className=\"absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 z-0\">\n                <div className=\"particles-container\">\n                    <div className=\"particle particle-1\"></div>\n                    <div className=\"particle particle-2\"></div>\n                    <div className=\"particle particle-3\"></div>\n                    <div className=\"particle particle-4\"></div>\n                    <div className=\"particle particle-5\"></div>\n                </div>\n            </div>\n\n            <div className=\"max-w-6xl mx-auto relative z-20 px-4 py-8\">\n                <SectionTitle\n                    title=\"What's your fitness experience?\"\n                    subtitle=\"Select the option that best describes your current fitness level. This helps us tailor your workout plan to match your experience.\"\n                />\n\n                <div className=\"level-cards animate-fade-in-up\">\n                    <LevelCard\n                        level={ExperienceLevelEnum.BEGINNER}\n                        title={experienceLevelToText(ExperienceLevelEnum.BEGINNER)}\n                        description=\"Just getting started or returning after a long break\"\n                        icon={<Dumbbell size={24} />}\n                        isSelected={data.experienceLevel === ExperienceLevelEnum.BEGINNER}\n                        onSelect={() => handleSelectLevel(ExperienceLevelEnum.BEGINNER)}\n                        onFocus={() => setFocusedLevel(ExperienceLevelEnum.BEGINNER)}\n                    />\n\n                    <LevelCard\n                        level={ExperienceLevelEnum.INTERMEDIATE}\n                        title={experienceLevelToText(ExperienceLevelEnum.INTERMEDIATE)}\n                        description=\"Consistent exercise for at least a few months\"\n                        icon={<Award size={24} />}\n                        isSelected={data.experienceLevel === ExperienceLevelEnum.INTERMEDIATE}\n                        onSelect={() => handleSelectLevel(ExperienceLevelEnum.INTERMEDIATE)}\n                        onFocus={() => setFocusedLevel(ExperienceLevelEnum.INTERMEDIATE)}\n                    />\n\n                    <LevelCard\n                        level={ExperienceLevelEnum.ADVANCED}\n                        title={experienceLevelToText(ExperienceLevelEnum.ADVANCED)}\n                        description=\"Regular training for years with good technique\"\n                        icon={<Zap size={24} />}\n                        isSelected={data.experienceLevel === ExperienceLevelEnum.ADVANCED}\n                        onSelect={() => handleSelectLevel(ExperienceLevelEnum.ADVANCED)}\n                        onFocus={() => setFocusedLevel(ExperienceLevelEnum.ADVANCED)}\n                    />\n                </div>\n\n                {focusedLevel && (\n                    <div className=\"animate-fade-in\">\n                        <LevelComparison level={focusedLevel} />\n                    </div>\n                )}\n\n                <div className=\"experience-level-navigation animate-fade-in\">\n                    <div className=\"experience-level-navigation__buttons\">\n                        <RegistrationButton\n                            onClick={onBack}\n                            variant=\"secondary\"\n                            size=\"medium\"\n                            leftIcon={<ChevronLeft className=\"h-5 w-5\" />}\n                            className=\"experience-level-navigation__button experience-level-navigation__button--back\"\n                        >\n                            Back\n                        </RegistrationButton>\n\n                        <RegistrationButton\n                            onClick={onNext}\n                            variant=\"primary\"\n                            size=\"medium\"\n                            rightIcon={<ChevronRight className=\"h-5 w-5\" />}\n                            disabled={!isNextEnabled}\n                            className=\"experience-level-navigation__button experience-level-navigation__button--next\"\n                        >\n                            Next\n                        </RegistrationButton>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ExperienceLevelComponent; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/ExperienceLevel/components/LevelCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/ExperienceLevel/components/LevelComparison.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/ExperienceLevel/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/ExperienceLevel/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/CustomizeExperience.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'validSections' is assigned a value but never used.","line":38,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":38,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'syncWithStoredData' is assigned a value but never used.","line":46,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":46,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'key' is defined but never used. Allowed unused args must match /^_/u.","line":259,"column":74,"nodeType":null,"messageId":"unusedVar","endLine":259,"endColumn":77}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Clock, Dumbbell, Target } from 'lucide-react';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport ProgressIndicator from '../../components/ProgressIndicator';\nimport { AccordionSectionRef } from '../components/AccordionSection';\nimport { useJourney } from '../components/JourneyContext';\nimport StandardSection from '../components/StandardSection';\nimport EquipmentSelector from './components/EquipmentSelector';\nimport ExperienceLevelIndicator from './components/ExperienceLevelIndicator';\nimport SectionErrorState from './components/SectionErrorState';\nimport TimeCommitmentSelector from './components/TimeCommitmentSelector';\nimport WorkoutPreferenceSelector from './components/WorkoutPreferenceSelector';\nimport { SECTION_IDS } from './constants/sectionConstants';\nimport { CustomizationProvider, useCustomization } from './context/CustomizationContext';\nimport './CustomizeExperience.scss';\nimport { announceToScreenReader } from './utils/a11y';\nimport { saveWithRetry } from './utils/validators';\n\ninterface CustomizeExperienceProps {\n    onValidChange: (isValid: boolean) => void;\n}\n\n/**\n * Main CustomizeExperience component with context provider\n */\nconst CustomizeExperience: React.FC<CustomizeExperienceProps> = ({ onValidChange }) => {\n    return (\n        <CustomizationProvider>\n            <CustomizeExperienceContent onValidChange={onValidChange} />\n        </CustomizationProvider>\n    );\n};\n\n/**\n * Inner component that consumes the CustomizationContext\n */\nconst CustomizeExperienceContent: React.FC<CustomizeExperienceProps> = React.memo(({ onValidChange }) => {\n    const {\n        validSections,\n        completedSections,\n        isCustomizationValid,\n        isLoading,\n        error,\n        markSectionComplete,\n        updateSectionValidity,\n        saveAllData,\n        syncWithStoredData\n    } = useCustomization();\n\n    const { registrationData } = useJourney();\n\n    // Add state for tracking save errors to handle retries\n    const [sectionErrors, setSectionErrors] = useState<Record<string, string | null>>({});\n    const [isSaving, setIsSaving] = useState<boolean>(false);\n\n    // Refs for accordion sections\n    const equipmentRef = useRef<AccordionSectionRef>(null);\n    const timeCommitmentRef = useRef<AccordionSectionRef>(null);\n    const workoutPreferenceRef = useRef<AccordionSectionRef>(null);\n\n    // Effect to update parent validation state\n    useEffect(() => {\n        onValidChange(isCustomizationValid);\n    }, [isCustomizationValid, onValidChange]);\n\n    // Get ref by section ID\n    const getSectionRef = useCallback((sectionId: string): React.RefObject<AccordionSectionRef> => {\n        switch (sectionId) {\n            case SECTION_IDS.equipment:\n                return equipmentRef;\n            case SECTION_IDS.timeCommitment:\n                return timeCommitmentRef;\n            case SECTION_IDS.workoutPreference:\n                return workoutPreferenceRef;\n            default:\n                return equipmentRef;\n        }\n    }, []);\n\n    // Get the next section ID\n    const getNextSectionId = useCallback((currentSectionId: string): string | null => {\n        const sections = Object.values(SECTION_IDS);\n        const currentIndex = sections.indexOf(currentSectionId);\n        if (currentIndex < sections.length - 1) {\n            return sections[currentIndex + 1];\n        }\n        return null;\n    }, []);\n\n    // Handle section confirmation and transition to next section\n    const handleConfirmSection = useCallback(async (sectionId: string) => {\n        // Set saving state\n        setIsSaving(true);\n        setSectionErrors(prev => ({ ...prev, [sectionId]: null }));\n\n        try {\n            // Try to save all data\n            const result = await saveWithRetry(saveAllData, {}, 2);\n\n            if (!result.success) {\n                // Update section error state\n                setSectionErrors(prev => ({ ...prev, [sectionId]: result.error || 'Failed to save' }));\n                setIsSaving(false);\n                return;\n            }\n\n            // Mark section as complete\n            markSectionComplete(sectionId);\n\n            // Announce for screen readers\n            const sectionTitle = sectionId.charAt(0).toUpperCase() + sectionId.slice(1).replace(/-/g, ' ');\n            announceToScreenReader(`${sectionTitle} section completed`);\n\n            // Close current section\n            const currentSectionRef = getSectionRef(sectionId);\n            if (currentSectionRef.current) {\n                currentSectionRef.current.close();\n            }\n\n            // Open next section with smooth transition\n            const nextSectionId = getNextSectionId(sectionId);\n            if (nextSectionId) {\n                const nextSectionRef = getSectionRef(nextSectionId);\n                if (nextSectionRef.current) {\n                    setTimeout(() => {\n                        nextSectionRef.current?.open();\n                    }, 400);\n                }\n            } else {\n                // Announce completion if this was the last section\n                announceToScreenReader('All sections completed. You can now proceed to the next step.');\n            }\n        } catch (error) {\n            setSectionErrors(prev => ({\n                ...prev,\n                [sectionId]: error instanceof Error ? error.message : 'An unknown error occurred'\n            }));\n        } finally {\n            setIsSaving(false);\n        }\n    }, [getSectionRef, getNextSectionId, markSectionComplete, saveAllData]);\n\n    // Handle retry for a section with error\n    const handleRetry = useCallback((sectionId: string) => {\n        // Clear error for this section\n        setSectionErrors(prev => ({ ...prev, [sectionId]: null }));\n\n        // Try to save again\n        handleConfirmSection(sectionId);\n    }, [handleConfirmSection]);\n\n    // Initialize first section or restore from saved state\n    useEffect(() => {\n        if (isLoading) return;\n\n        // Find first incomplete section or default to equipment\n        const sections = Object.values(SECTION_IDS);\n        const firstIncompleteSection = sections.find(section =>\n            !completedSections.includes(section)\n        ) || SECTION_IDS.equipment;\n\n        // Open appropriate section with delay for DOM to be ready\n        setTimeout(() => {\n            const sectionRef = getSectionRef(firstIncompleteSection);\n            if (sectionRef.current) {\n                sectionRef.current.open();\n            }\n        }, 600);\n    }, [completedSections, isLoading, getSectionRef]);\n\n    return (\n        <div className=\"customize-experience-container\">\n            <h2 className=\"sr-only\">Customize Your Workout Experience</h2>\n\n            <p className=\"customize-experience-intro\">\n                Customize your workout experience by selecting your preferences below.\n                <span className=\"customize-experience-instruction\">\n                    Complete each section and click \"Confirm Selection\" to proceed.\n                </span>\n            </p>\n\n            {/* Experience Level Indicator (read-only) */}\n            <ExperienceLevelIndicator\n                experienceLevel={registrationData.experienceLevel}\n            />\n\n            {/* Equipment Selection */}\n            <StandardSection\n                ref={equipmentRef}\n                sectionId={SECTION_IDS.equipment}\n                title=\"Equipment Selection\"\n                icon={<Dumbbell size={18} />}\n                description=\"Select the equipment you have available for your workouts.\"\n                onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.equipment, isValid)}\n                isCompleted={completedSections.includes(SECTION_IDS.equipment)}\n                onConfirm={() => handleConfirmSection(SECTION_IDS.equipment)}\n                isLoading={isLoading || (isSaving && !sectionErrors[SECTION_IDS.equipment])}\n                error={sectionErrors[SECTION_IDS.equipment] || error}\n            >\n                {sectionErrors[SECTION_IDS.equipment] ? (\n                    <SectionErrorState\n                        message={sectionErrors[SECTION_IDS.equipment] || ''}\n                        onRetry={() => handleRetry(SECTION_IDS.equipment)}\n                    />\n                ) : (\n                    <EquipmentSelector />\n                )}\n            </StandardSection>\n\n            {/* Time Commitment Selection */}\n            <StandardSection\n                ref={timeCommitmentRef}\n                sectionId={SECTION_IDS.timeCommitment}\n                title=\"Time Management & Frequency\"\n                icon={<Clock size={18} />}\n                description=\"Choose how much time you can dedicate to your workouts and how often you want to train.\"\n                onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.timeCommitment, isValid)}\n                isCompleted={completedSections.includes(SECTION_IDS.timeCommitment)}\n                onConfirm={() => handleConfirmSection(SECTION_IDS.timeCommitment)}\n                isLoading={isLoading || (isSaving && !sectionErrors[SECTION_IDS.timeCommitment])}\n                error={sectionErrors[SECTION_IDS.timeCommitment] || error}\n            >\n                {sectionErrors[SECTION_IDS.timeCommitment] ? (\n                    <SectionErrorState\n                        message={sectionErrors[SECTION_IDS.timeCommitment] || ''}\n                        onRetry={() => handleRetry(SECTION_IDS.timeCommitment)}\n                    />\n                ) : (\n                    <TimeCommitmentSelector />\n                )}\n            </StandardSection>\n\n            {/* Workout Preference Selection */}\n            <StandardSection\n                ref={workoutPreferenceRef}\n                sectionId={SECTION_IDS.workoutPreference}\n                title=\"Workout Preferences\"\n                icon={<Target size={18} />}\n                description=\"Tell us about your workout preferences and areas you want to focus on.\"\n                onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.workoutPreference, isValid)}\n                isCompleted={completedSections.includes(SECTION_IDS.workoutPreference)}\n                onConfirm={() => handleConfirmSection(SECTION_IDS.workoutPreference)}\n                isLoading={isLoading || (isSaving && !sectionErrors[SECTION_IDS.workoutPreference])}\n                error={sectionErrors[SECTION_IDS.workoutPreference] || error}\n            >\n                {sectionErrors[SECTION_IDS.workoutPreference] ? (\n                    <SectionErrorState\n                        message={sectionErrors[SECTION_IDS.workoutPreference] || ''}\n                        onRetry={() => handleRetry(SECTION_IDS.workoutPreference)}\n                    />\n                ) : (\n                    <WorkoutPreferenceSelector />\n                )}\n            </StandardSection>\n\n            {/* Progress indicator */}\n            <ProgressIndicator\n                completedSections={completedSections.filter(section => Object.values(SECTION_IDS).includes(section))}\n                totalSections={Object.keys(SECTION_IDS).length}\n                sectionLabels={Object.entries(SECTION_IDS).reduce((acc, [key, value]) => {\n                    acc[value] = value.charAt(0).toUpperCase() + value.slice(1).replace(/-/g, ' ');\n                    return acc;\n                }, {} as Record<string, string>)}\n                variant=\"default\"\n                showLabels={true}\n                accentColor=\"purple\"\n            />\n        </div>\n    );\n});\n\nCustomizeExperienceContent.displayName = 'CustomizeExperienceContent';\n\nexport default CustomizeExperience; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/__tests__/CustomizeExperience.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":85,"column":39,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":85,"endColumn":79}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fireEvent, render, screen, waitFor } from '@testing-library/react';\nimport React from 'react';\nimport { JourneyProvider } from '../../../components/JourneyContext';\nimport CustomizeExperience from '../CustomizeExperience';\n\n// Mock implementation for journey context\njest.mock('../../../components/JourneyContext', () => ({\n    useJourney: () => ({\n        registrationData: {\n            experienceLevel: 'beginner',\n            completedCustomizationSections: [],\n        },\n        updateRegistrationData: jest.fn(),\n    }),\n    JourneyProvider: ({ children }: { children: React.ReactNode }) => <div>{children}</div>,\n}));\n\n// Mock storage functions\njest.mock('../utils/customizationStorage', () => ({\n    loadCustomizationData: jest.fn(() => null),\n    saveCustomizationData: jest.fn(() => true),\n}));\n\ndescribe('CustomizeExperience', () => {\n    const renderComponent = () => {\n        const handleValidChange = jest.fn();\n        render(\n            <JourneyProvider>\n                <CustomizeExperience onValidChange={handleValidChange} />\n            </JourneyProvider>\n        );\n        return { handleValidChange };\n    };\n\n    test('allows completing equipment section', async () => {\n        const { handleValidChange } = renderComponent();\n\n        // Wait for initial render and loading to complete\n        await waitFor(() => {\n            expect(screen.getByText('Equipment Selection')).toBeInTheDocument();\n        });\n\n        // Find and click on an equipment option\n        const dumbbellsOption = await screen.findByText('Dumbbells');\n        fireEvent.click(dumbbellsOption);\n\n        // Confirm button should be enabled\n        const confirmButton = screen.getByText('Confirm Selection');\n        expect(confirmButton).not.toBeDisabled();\n\n        // Click confirm button\n        fireEvent.click(confirmButton);\n\n        // Check that handler was called with true\n        await waitFor(() => {\n            expect(handleValidChange).toHaveBeenCalledWith(true);\n        });\n    });\n\n    test('shows validation message when trying to proceed without selection', async () => {\n        renderComponent();\n\n        // Wait for initial render and loading to complete\n        await waitFor(() => {\n            expect(screen.getByText('Equipment Selection')).toBeInTheDocument();\n        });\n\n        // Try to interact with confirm button, which should be disabled\n        const confirmButton = screen.getByText('Confirm Selection');\n        expect(confirmButton).toBeDisabled();\n\n        // Fill and clear a text field to trigger validation\n        const otherEquipmentInput = screen.getByPlaceholderText('Please list any other equipment you have');\n        fireEvent.change(otherEquipmentInput, { target: { value: 'My equipment' } });\n        fireEvent.change(otherEquipmentInput, { target: { value: '' } });\n\n        // Validation message should appear\n        await waitFor(() => {\n            expect(screen.getByText('Please select at least one equipment item or specify other equipment')).toBeInTheDocument();\n        });\n    });\n\n    test('recovers from errors with retry', async () => {\n        // Mock storage function to fail once and succeed on retry\n        const saveCustomizationData = require('../utils/customizationStorage').saveCustomizationData;\n        let firstTry = true;\n        saveCustomizationData.mockImplementation(() => {\n            if (firstTry) {\n                firstTry = false;\n                return false;\n            }\n            return true;\n        });\n\n        renderComponent();\n\n        // Wait for initial render and loading to complete\n        await waitFor(() => {\n            expect(screen.getByText('Equipment Selection')).toBeInTheDocument();\n        });\n\n        // Select an equipment option\n        const dumbbellsOption = await screen.findByText('Dumbbells');\n        fireEvent.click(dumbbellsOption);\n\n        // Click confirm button - this should fail\n        const confirmButton = screen.getByText('Confirm Selection');\n        fireEvent.click(confirmButton);\n\n        // Error message should appear\n        await waitFor(() => {\n            expect(screen.getByText('Try Again')).toBeInTheDocument();\n        });\n\n        // Click retry\n        const retryButton = screen.getByText('Try Again');\n        fireEvent.click(retryButton);\n\n        // Should proceed to next section\n        await waitFor(() => {\n            expect(screen.getByText('Time Management & Frequency')).toBeInTheDocument();\n        });\n    });\n}); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/CustomizationProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/EquipmentSelector/EquipmentSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/EquipmentSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/ExperienceLevelIndicator/ExperienceLevelIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/ExperienceLevelIndicator/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/SectionErrorState/SectionErrorState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/SectionErrorState/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/SelectableOption/SelectableOption.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/SelectableOption/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/TimeCommitmentSelector/TimeCommitmentSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/TimeCommitmentSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/ValidationSummary/ValidationSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/ValidationSummary/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/WorkoutPreferenceSelector/WorkoutPreferenceSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/WorkoutPreferenceSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/components/shared/ConfirmButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/constants/equipmentOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/constants/sectionConstants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/constants/timeCommitmentOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/constants/workoutOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/context/CustomizationContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/context/__tests__/CustomizationContext.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/hooks/useCustomizationState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/utils/a11y.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/utils/customizationStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/utils/scrollUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizeExperience/utils/validators.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'result' is assigned a value but never used.","line":78,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":78,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Standardized validation helpers for CustomizeExperience sections\n */\n\nimport logger from \"../../../../../utils/logger\";\nimport { EquipmentSelectionData, TimeCommitmentData, WorkoutPreferenceData } from '../types';\n\n/**\n * Validators for each section\n */\nexport const validators = {\n    /**\n     * Equipment is valid if at least one item is selected or custom text provided\n     */\n    equipment: (data: EquipmentSelectionData | null): boolean => {\n        if (!data) return false;\n\n        return data.selectedEquipment.length > 0 ||\n            (data.otherEquipment?.trim()?.length > 0) ||\n            data.hasNoEquipment;\n    },\n\n    /**\n     * Time commitment requires at least a package or time preferences\n     */\n    timeCommitment: (data: TimeCommitmentData | null): boolean => {\n        if (!data) return false;\n\n        // Valid if a package is selected\n        if (data.timeCommitmentPackage) return true;\n\n        // Otherwise, needs preferred time of day and duration\n        return data.preferredTimeOfDay?.length > 0 &&\n            (data.preferredDuration || data.otherDuration?.trim()?.length > 0);\n    },\n\n    /**\n     * At least one preferred exercise or custom preferences\n     */\n    workoutPreference: (data: WorkoutPreferenceData | null): boolean => {\n        if (!data) return false;\n\n        // Valid if at least one workout type or preferred exercise is selected\n        return (data.preferredWorkoutTypes?.length > 0 ||\n            data.preferredExercises?.length > 0 ||\n            data.focusAreas?.length > 0);\n    }\n};\n\n/**\n * Get validation error message for a section\n */\nexport const getValidationMessage = (sectionId: string): string => {\n    switch (sectionId) {\n        case 'equipment':\n            return 'Please select at least one equipment item or specify other equipment';\n        case 'time-commitment':\n            return 'Please select a time commitment package or specify your preferred schedule';\n        case 'workout-preference':\n            return 'Please select at least one workout preference';\n        default:\n            return 'Please complete all required fields';\n    }\n};\n\n/**\n * Helper to safely save data with basic retry functionality\n */\nexport const saveWithRetry = async <T>(\n    saveFunction: (data: T) => Promise<boolean>,\n    data: T,\n    maxRetries = 1\n): Promise<{ success: boolean; error?: string }> => {\n    let attempts = 0;\n\n    const attempt = async (): Promise<{ success: boolean; error?: string }> => {\n        try {\n            const result = await saveFunction(data);\n            return { success: true };\n        } catch (error) {\n            logger.error(`Error saving data (attempt ${attempts + 1}):`, error);\n\n            if (++attempts <= maxRetries) {\n                // Simple linear retry with small delay\n                await new Promise(resolve => setTimeout(resolve, 300));\n                return attempt();\n            } else {\n                return {\n                    success: false,\n                    error: error instanceof Error ? error.message : \"Failed to save your preferences\"\n                };\n            }\n        }\n    };\n\n    return attempt();\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/CustomizedMedical.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/CustomizedMedicalContent.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'key' is defined but never used. Allowed unused args must match /^_/u.","line":179,"column":74,"nodeType":null,"messageId":"unusedVar","endLine":179,"endColumn":77}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef } from 'react';\nimport ProgressIndicator from '../../components/ProgressIndicator';\nimport { AccordionSectionRef } from '../components/AccordionSection';\nimport { SECTION_IDS } from './constants/sectionConstants';\nimport { useMedicalCustomization } from './context/MedicalCustomizationContext';\nimport './CustomizedMedical.scss';\n\n// Import existing section components temporarily\nimport AnthropometricsSelector from './components/AnthropometricsSelector';\nimport InjuriesSelector from './components/InjuriesSelector';\nimport LiabilityWaiverSelector from './components/LiabilityWaiverSelector';\nimport MedicalClearanceSelector from './components/MedicalClearanceSelector';\n\ninterface CustomizedMedicalContentProps {\n    onValidChange: (isValid: boolean) => void;\n}\n\n/**\n * Main content component - uses context but doesn't completely refactor section components yet\n */\nconst CustomizedMedicalContent: React.FC<CustomizedMedicalContentProps> = ({ onValidChange }) => {\n    const {\n        isCustomizationValid,\n        isLoading,\n        error,\n        state,\n        updateSectionValidity,\n        markSectionComplete\n    } = useMedicalCustomization();\n\n    // Section refs - needed for accordion functionality\n    const anthropometricsRef = useRef<AccordionSectionRef>(null);\n    const injuriesRef = useRef<AccordionSectionRef>(null);\n    const medicalClearanceRef = useRef<AccordionSectionRef>(null);\n    const liabilityWaiverRef = useRef<AccordionSectionRef>(null);\n\n    // Update parent validation state\n    useEffect(() => {\n        onValidChange(isCustomizationValid);\n    }, [isCustomizationValid, onValidChange]);\n\n    // Get ref by section ID\n    const getSectionRef = (sectionId: string): React.RefObject<AccordionSectionRef> => {\n        switch (sectionId) {\n            case SECTION_IDS.anthropometrics:\n                return anthropometricsRef;\n            case SECTION_IDS.injuries:\n                return injuriesRef;\n            case SECTION_IDS.medicalClearance:\n                return medicalClearanceRef;\n            case SECTION_IDS.liabilityWaiver:\n                return liabilityWaiverRef;\n            default:\n                return anthropometricsRef;\n        }\n    };\n\n    // Get the next section ID\n    const getNextSectionId = (currentSectionId: string): string | null => {\n        const sections = Object.values(SECTION_IDS);\n        const currentIndex = sections.indexOf(currentSectionId);\n        if (currentIndex < sections.length - 1) {\n            return sections[currentIndex + 1];\n        }\n        return null;\n    };\n\n    // Handle section confirmation and transition to next section\n    const handleConfirmSection = (sectionId: string) => {\n        // Mark section as complete\n        markSectionComplete(sectionId);\n\n        // Close current section\n        const currentSectionRef = getSectionRef(sectionId);\n        if (currentSectionRef.current) {\n            currentSectionRef.current.close();\n        }\n\n        // Open next section with smooth transition\n        const nextSectionId = getNextSectionId(sectionId);\n        if (nextSectionId) {\n            const nextSectionRef = getSectionRef(nextSectionId);\n            if (nextSectionRef.current) {\n                setTimeout(() => {\n                    nextSectionRef.current?.open();\n                }, 400);\n            }\n        }\n    };\n\n    // Initialize first section or restore from saved state \n    useEffect(() => {\n        // Skip during loading\n        if (isLoading) return;\n\n        // Find first incomplete section or default to anthropometrics\n        const sections = Object.values(SECTION_IDS);\n        const firstIncompleteSection = sections.find(section =>\n            !state.meta.completedSections.includes(section)\n        ) || SECTION_IDS.anthropometrics;\n\n        // Open appropriate section with delay for DOM to be ready\n        setTimeout(() => {\n            const sectionRef = getSectionRef(firstIncompleteSection);\n            if (sectionRef.current) {\n                sectionRef.current.open();\n            }\n        }, 600);\n    }, [isLoading, state.meta.completedSections]);\n\n    // Simple loading state\n    if (isLoading) {\n        return <div className=\"loading-indicator\">Loading your medical information...</div>;\n    }\n\n    // Simple error state\n    if (error) {\n        return (\n            <div className=\"error-state\">\n                <p>There was a problem loading your medical information: {error}</p>\n                <button onClick={() => window.location.reload()}>Try Again</button>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"customized-medical-container\">\n            <p className=\"customized-medical-intro\">\n                Please provide your medical information to help us personalize your workout plan.\n                <span className=\"customized-medical-instruction\">\n                    Complete each section and click \"Confirm\" to proceed.\n                </span>\n            </p>\n\n            {/* Anthropometrics Selection */}\n            <div id={`accordion-section-${SECTION_IDS.anthropometrics}`}>\n                <AnthropometricsSelector\n                    ref={anthropometricsRef}\n                    onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.anthropometrics, isValid)}\n                    isCompleted={state.meta.completedSections.includes(SECTION_IDS.anthropometrics)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.anthropometrics)}\n                />\n            </div>\n\n            {/* Injuries Selection */}\n            <div id={`accordion-section-${SECTION_IDS.injuries}`}>\n                <InjuriesSelector\n                    ref={injuriesRef}\n                    onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.injuries, isValid)}\n                    isCompleted={state.meta.completedSections.includes(SECTION_IDS.injuries)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.injuries)}\n                />\n            </div>\n\n            {/* Medical Clearance */}\n            <div id={`accordion-section-${SECTION_IDS.medicalClearance}`}>\n                <MedicalClearanceSelector\n                    ref={medicalClearanceRef}\n                    onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.medicalClearance, isValid)}\n                    isCompleted={state.meta.completedSections.includes(SECTION_IDS.medicalClearance)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.medicalClearance)}\n                />\n            </div>\n\n            {/* Liability Waiver */}\n            <div id={`accordion-section-${SECTION_IDS.liabilityWaiver}`}>\n                <LiabilityWaiverSelector\n                    ref={liabilityWaiverRef}\n                    onValidChange={(isValid) => updateSectionValidity(SECTION_IDS.liabilityWaiver, isValid)}\n                    isCompleted={state.meta.completedSections.includes(SECTION_IDS.liabilityWaiver)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.liabilityWaiver)}\n                />\n            </div>\n\n            {/* Progress indicator */}\n            <ProgressIndicator\n                completedSections={state.meta.completedSections}\n                totalSections={Object.keys(SECTION_IDS).length}\n                sectionLabels={Object.entries(SECTION_IDS).reduce((acc, [key, value]) => {\n                    acc[value] = value.charAt(0).toUpperCase() + value.slice(1).replace(/-/g, ' ');\n                    return acc;\n                }, {} as Record<string, string>)}\n                variant=\"default\"\n                showLabels={true}\n                accentColor=\"purple\"\n            />\n        </div>\n    );\n};\n\nexport default CustomizedMedicalContent; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/__tests__/MedicalCustomizationContext.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/AnthropometricsSelector/AnthropometricsSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isValid' is defined but never used. Allowed unused args must match /^_/u.","line":17,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'state' is assigned a value but never used.","line":266,"column":36,"nodeType":null,"messageId":"unusedVar","endLine":266,"endColumn":41}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Ruler } from 'lucide-react';\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { AccordionSectionRef } from '../../../components/AccordionSection';\nimport { BIOLOGICAL_SEX_OPTIONS, HEIGHT_UNITS, WEIGHT_UNITS } from '../../constants/anthropometricsOptions';\nimport { SECTION_IDS } from '../../constants/sectionConstants';\nimport { useMedicalCustomization } from '../../context/MedicalCustomizationContext';\nimport { AnthropometricsSelectorProps, SectionComponentProps } from '../../types';\nimport { announceToScreenReader } from '../../utils/a11y';\nimport StandardSection from '../StandardSection';\nimport './AnthropometricsSelector.scss';\n\n/**\n * AnthropometricsInnerForm component handles the form fields and validation\n */\nconst AnthropometricsInnerForm: React.FC<SectionComponentProps> = ({\n    setIsValid,\n    isValid\n}) => {\n    const { state, updateSectionData } = useMedicalCustomization();\n    const anthropometrics = state.anthropometrics || {};\n\n    // Initialize state from context data\n    const [heightUnit, setHeightUnit] = useState<'cm' | 'ft'>(\n        anthropometrics?.height?.unit || 'cm'\n    );\n\n    const [heightValue, setHeightValue] = useState(() => {\n        if (anthropometrics?.height?.value) {\n            return anthropometrics.height.value.toString();\n        }\n        return '';\n    });\n\n    const [heightInches, setHeightInches] = useState(() => {\n        if (anthropometrics?.height?.inches) {\n            return anthropometrics.height.inches.toString();\n        }\n        return '';\n    });\n\n    const [weightUnit, setWeightUnit] = useState<'kg' | 'lbs'>(\n        anthropometrics?.weight?.unit || 'kg'\n    );\n\n    const [weightValue, setWeightValue] = useState(() => {\n        if (anthropometrics?.weight?.value) {\n            return anthropometrics.weight.value.toString();\n        }\n        return '';\n    });\n\n    const [age, setAge] = useState(() => {\n        if (anthropometrics?.age) {\n            return anthropometrics.age.toString();\n        }\n        return '';\n    });\n\n    const [biologicalSex, setBiologicalSex] = useState(\n        anthropometrics?.biologicalSex || ''\n    );\n\n    // Validate inputs and update context with debouncing\n    useEffect(() => {\n        // Basic validation - at least height and weight should be provided\n        const heightValid = heightValue.trim() !== '' &&\n            (heightUnit !== 'ft' || heightInches.trim() !== '');\n        const weightValid = weightValue.trim() !== '';\n\n        const isFormValid = heightValid && weightValid;\n\n        // Report validity to parent StandardSection\n        if (setIsValid) {\n            setIsValid(isFormValid);\n        }\n\n        // Update context with debouncing\n        const timeoutId = setTimeout(() => {\n            // Parse numeric values\n            const heightValueNumeric = heightValue ? parseFloat(heightValue) : undefined;\n            const heightInchesNumeric = heightInches ? parseFloat(heightInches) : undefined;\n            const weightValueNumeric = weightValue ? parseFloat(weightValue) : undefined;\n            const ageNumeric = age ? parseInt(age) : undefined;\n\n            // Update context\n            updateSectionData('anthropometrics', {\n                height: heightValueNumeric ? {\n                    value: heightValueNumeric,\n                    unit: heightUnit,\n                    inches: heightUnit === 'ft' ? heightInchesNumeric : undefined\n                } : undefined,\n                weight: weightValueNumeric ? {\n                    value: weightValueNumeric,\n                    unit: weightUnit,\n                } : undefined,\n                age: ageNumeric,\n                biologicalSex: biologicalSex as 'male' | 'female' | 'other' | 'prefer-not-to-say' | undefined\n            });\n        }, 300);\n\n        return () => clearTimeout(timeoutId);\n    }, [\n        heightUnit, heightValue, heightInches,\n        weightUnit, weightValue,\n        age, biologicalSex,\n        setIsValid, updateSectionData\n    ]);\n\n    return (\n        <div className=\"anthropometrics-selector\">\n            <p className=\"section-description\">\n                Please provide your basic physical measurements to help us customize your workout plan.\n            </p>\n\n            <div className=\"form-row\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"height-unit\">Height</label>\n                    <div className=\"input-group\">\n                        <select\n                            id=\"height-unit\"\n                            className=\"unit-selector\"\n                            value={heightUnit}\n                            onChange={(e) => setHeightUnit(e.target.value as 'cm' | 'ft')}\n                            aria-label=\"Select height unit\"\n                        >\n                            {HEIGHT_UNITS.map(unit => (\n                                <option key={unit.value} value={unit.value}>{unit.label}</option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <div className=\"input-group mt-2\">\n                        {heightUnit === 'cm' ? (\n                            <>\n                                <input\n                                    type=\"number\"\n                                    id=\"height-cm\"\n                                    className=\"numeric-input\"\n                                    placeholder=\"Height in cm\"\n                                    min=\"50\"\n                                    max=\"250\"\n                                    value={heightValue}\n                                    onChange={(e) => setHeightValue(e.target.value)}\n                                    aria-label=\"Height in centimeters\"\n                                />\n                                <span className=\"unit-label\">cm</span>\n                            </>\n                        ) : (\n                            <div className=\"feet-inches-container\">\n                                <div className=\"feet-input\">\n                                    <input\n                                        type=\"number\"\n                                        id=\"height-feet\"\n                                        className=\"numeric-input\"\n                                        placeholder=\"Feet\"\n                                        min=\"1\"\n                                        max=\"8\"\n                                        value={heightValue}\n                                        onChange={(e) => setHeightValue(e.target.value)}\n                                        aria-label=\"Height in feet\"\n                                    />\n                                    <span className=\"unit-label\">ft</span>\n                                </div>\n                                <div className=\"inches-input\">\n                                    <input\n                                        type=\"number\"\n                                        id=\"height-inches\"\n                                        className=\"numeric-input\"\n                                        placeholder=\"Inches\"\n                                        min=\"0\"\n                                        max=\"11\"\n                                        value={heightInches}\n                                        onChange={(e) => setHeightInches(e.target.value)}\n                                        aria-label=\"Height in inches\"\n                                    />\n                                    <span className=\"unit-label\">in</span>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"weight-unit\">Weight</label>\n                    <div className=\"input-group\">\n                        <select\n                            id=\"weight-unit\"\n                            className=\"unit-selector\"\n                            value={weightUnit}\n                            onChange={(e) => setWeightUnit(e.target.value as 'kg' | 'lbs')}\n                            aria-label=\"Select weight unit\"\n                        >\n                            {WEIGHT_UNITS.map(unit => (\n                                <option key={unit.value} value={unit.value}>{unit.label}</option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <div className=\"input-group mt-2\">\n                        <input\n                            type=\"number\"\n                            id=\"weight-value\"\n                            className=\"numeric-input\"\n                            placeholder={`Weight in ${weightUnit}`}\n                            min=\"20\"\n                            max={weightUnit === 'kg' ? \"250\" : \"550\"}\n                            value={weightValue}\n                            onChange={(e) => setWeightValue(e.target.value)}\n                            aria-label={`Weight in ${weightUnit}`}\n                        />\n                        <span className=\"unit-label\">{weightUnit}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"form-row\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"age\">Age</label>\n                    <div className=\"input-group\">\n                        <input\n                            type=\"number\"\n                            id=\"age\"\n                            className=\"numeric-input\"\n                            placeholder=\"Your age\"\n                            min=\"13\"\n                            max=\"120\"\n                            value={age}\n                            onChange={(e) => setAge(e.target.value)}\n                            aria-label=\"Your age\"\n                        />\n                        <span className=\"unit-label\">years</span>\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"biological-sex\">Biological Sex / Gender</label>\n                    <select\n                        id=\"biological-sex\"\n                        className=\"full-width-selector\"\n                        value={biologicalSex}\n                        onChange={(e) => setBiologicalSex(e.target.value)}\n                        aria-label=\"Select your biological sex or gender\"\n                    >\n                        <option value=\"\">Select option</option>\n                        {BIOLOGICAL_SEX_OPTIONS.map(option => (\n                            <option key={option.value} value={option.value}>\n                                {option.label}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n/**\n * AnthropometricsSelector component for collecting basic physical metrics\n * Refactored to use StandardSection and MedicalCustomizationContext\n */\nconst AnthropometricsSelector = forwardRef<AccordionSectionRef, AnthropometricsSelectorProps>(({\n    onValidChange,\n    isCompleted = false,\n    onConfirm\n}, ref) => {\n    const { updateSectionValidity, state, error, isLoading, markSectionComplete } = useMedicalCustomization();\n\n    // Handle validity change\n    const handleValidChange = (isValid: boolean) => {\n        updateSectionValidity(SECTION_IDS.anthropometrics, isValid);\n        onValidChange(isValid);\n    };\n\n    // Handle confirmation\n    const handleConfirm = () => {\n        markSectionComplete(SECTION_IDS.anthropometrics);\n        announceToScreenReader('Anthropometrics information saved successfully');\n        onConfirm();\n    };\n\n    return (\n        <StandardSection\n            ref={ref}\n            sectionId={SECTION_IDS.anthropometrics}\n            title=\"Anthropometrics\"\n            icon={<Ruler size={18} />}\n            description=\"Your physical measurements help us customize your workout plan\"\n            isCompleted={isCompleted}\n            onValidChange={handleValidChange}\n            onConfirm={handleConfirm}\n            error={error}\n            isLoading={isLoading}\n            required={true}\n        >\n            <AnthropometricsInnerForm />\n        </StandardSection>\n    );\n});\n\nAnthropometricsSelector.displayName = 'AnthropometricsSelector';\n\nexport default AnthropometricsSelector; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/AnthropometricsSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/InjuriesSelector/InjuriesSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isValid' is defined but never used. Allowed unused args must match /^_/u.","line":17,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { ActivitySquare, Check } from 'lucide-react';\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { AccordionSectionRef } from '../../../components/AccordionSection';\nimport { INJURY_CATEGORIES } from '../../constants/injuriesOptions';\nimport { SECTION_IDS } from '../../constants/sectionConstants';\nimport { useMedicalCustomization } from '../../context/MedicalCustomizationContext';\nimport { InjuriesSelectorProps, SectionComponentProps } from '../../types';\nimport { announceToScreenReader } from '../../utils/a11y';\nimport StandardSection from '../StandardSection';\nimport './InjuriesSelector.scss';\n\n/**\n * InjuriesInnerForm component handles the form fields and validation\n */\nconst InjuriesInnerForm: React.FC<SectionComponentProps> = ({\n    setIsValid,\n    isValid\n}) => {\n    const { state, updateSectionData } = useMedicalCustomization();\n    const injuries = state.injuries || {};\n\n    // Initialize state from context data\n    const [selectedInjuries, setSelectedInjuries] = useState<string[]>(\n        injuries.selectedInjuries || []\n    );\n\n    const [otherInjuries, setOtherInjuries] = useState<string>(\n        injuries.otherInjuries || ''\n    );\n\n    // Always valid even if no injuries selected (user might not have any)\n    useEffect(() => {\n        // Injuries selector is always valid - user can have no injuries\n        if (setIsValid) {\n            setIsValid(true);\n        }\n\n        // Update context with debouncing\n        const timeoutId = setTimeout(() => {\n            updateSectionData('injuries', {\n                selectedInjuries,\n                otherInjuries: otherInjuries || undefined\n            });\n        }, 300);\n\n        return () => clearTimeout(timeoutId);\n    }, [selectedInjuries, otherInjuries, setIsValid, updateSectionData]);\n\n    // Toggle injury selection\n    const toggleInjury = (injury: string) => {\n        setSelectedInjuries(prev => {\n            if (prev.includes(injury)) {\n                return prev.filter(i => i !== injury);\n            }\n            return [...prev, injury];\n        });\n    };\n\n    return (\n        <div className=\"injuries-selector\">\n            <p className=\"section-description\">\n                Select any injuries or physical limitations that apply to you. This helps us customize your workout to avoid exercises that might cause discomfort or aggravate existing conditions.\n            </p>\n\n            {/* Injuries by category */}\n            {Object.entries(INJURY_CATEGORIES).map(([categoryKey, category]) => (\n                <div key={categoryKey} className=\"injury-category\">\n                    <h4 className=\"category-title\">{category.label}</h4>\n                    <div className=\"category-items\">\n                        {category.options.map((injury, index) => (\n                            <div\n                                key={index}\n                                className={`injury-item ${selectedInjuries.includes(injury) ? 'selected' : ''}`}\n                                onClick={() => toggleInjury(injury)}\n                                role=\"checkbox\"\n                                aria-checked={selectedInjuries.includes(injury)}\n                                tabIndex={0}\n                                onKeyDown={(e) => {\n                                    if (e.key === 'Enter' || e.key === ' ') {\n                                        e.preventDefault();\n                                        toggleInjury(injury);\n                                    }\n                                }}\n                            >\n                                <div className=\"item-checkbox\">\n                                    {selectedInjuries.includes(injury) && <Check size={14} />}\n                                </div>\n                                <span className=\"item-label\">{injury}</span>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            ))}\n\n            {/* Other injuries input */}\n            <div className=\"other-injuries\">\n                <label htmlFor=\"other-injuries\" className=\"other-label\">\n                    Other injuries or limitations not listed\n                </label>\n                <textarea\n                    id=\"other-injuries\"\n                    className=\"other-input\"\n                    placeholder=\"Please describe any other injuries or limitations not listed above\"\n                    rows={3}\n                    value={otherInjuries}\n                    onChange={(e) => setOtherInjuries(e.target.value)}\n                    aria-label=\"Describe other injuries or limitations\"\n                />\n            </div>\n\n            {/* Selection summary */}\n            {selectedInjuries.length > 0 && (\n                <div className=\"selection-summary\">\n                    <div className=\"summary-text\" aria-live=\"polite\">\n                        {selectedInjuries.length} {selectedInjuries.length === 1 ? 'injury' : 'injuries'} selected\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\n/**\n * InjuriesSelector component for selecting injuries and limitations\n * Refactored to use StandardSection and MedicalCustomizationContext\n */\nconst InjuriesSelector = forwardRef<AccordionSectionRef, InjuriesSelectorProps>(({\n    onValidChange,\n    isCompleted = false,\n    onConfirm\n}, ref) => {\n    const { updateSectionValidity, error, isLoading, markSectionComplete } = useMedicalCustomization();\n\n    // Handle validity change - always valid for injuries\n    const handleValidChange = (isValid: boolean) => {\n        updateSectionValidity(SECTION_IDS.injuries, isValid);\n        onValidChange(isValid);\n    };\n\n    // Handle confirmation\n    const handleConfirm = () => {\n        markSectionComplete(SECTION_IDS.injuries);\n        announceToScreenReader('Injuries information saved successfully');\n        onConfirm();\n    };\n\n    return (\n        <StandardSection\n            ref={ref}\n            sectionId={SECTION_IDS.injuries}\n            title=\"Injuries & Limitations\"\n            icon={<ActivitySquare size={18} />}\n            description=\"Tell us about any injuries or limitations so we can customize your workout plan\"\n            isCompleted={isCompleted}\n            onValidChange={handleValidChange}\n            onConfirm={handleConfirm}\n            error={error}\n            isLoading={isLoading}\n        >\n            <InjuriesInnerForm />\n        </StandardSection>\n    );\n});\n\nInjuriesSelector.displayName = 'InjuriesSelector';\n\nexport default InjuriesSelector; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/InjuriesSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/LiabilityWaiverSelector/LiabilityWaiverSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isValid' is defined but never used. Allowed unused args must match /^_/u.","line":16,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Check, FileText } from 'lucide-react';\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { AccordionSectionRef } from '../../../components/AccordionSection';\nimport { SECTION_IDS } from '../../constants/sectionConstants';\nimport { useMedicalCustomization } from '../../context/MedicalCustomizationContext';\nimport { LiabilityWaiverSelectorProps, SectionComponentProps } from '../../types';\nimport { announceToScreenReader } from '../../utils/a11y';\nimport StandardSection from '../StandardSection';\nimport './LiabilityWaiverSelector.scss';\n\n/**\n * LiabilityWaiverInnerForm component handles the form fields and validation\n */\nconst LiabilityWaiverInnerForm: React.FC<SectionComponentProps> = ({\n    setIsValid,\n    isValid\n}) => {\n    const { state, updateSectionData } = useMedicalCustomization();\n    const liabilityWaiver = state.liabilityWaiver || {};\n\n    // Initialize state from context data\n    const [hasAgreed, setHasAgreed] = useState(\n        liabilityWaiver.hasAgreed || false\n    );\n\n    // Update validation status when checkbox changes\n    useEffect(() => {\n        // Report validity to parent StandardSection\n        if (setIsValid) {\n            setIsValid(hasAgreed);\n        }\n\n        // Update context with debouncing\n        const timeoutId = setTimeout(() => {\n            updateSectionData('liabilityWaiver', {\n                hasAgreed,\n                agreementDate: hasAgreed ? new Date().toISOString() : undefined\n            });\n        }, 300);\n\n        return () => clearTimeout(timeoutId);\n    }, [hasAgreed, setIsValid, updateSectionData]);\n\n    return (\n        <div className=\"liability-waiver-selector\">\n            <p className=\"section-description\">\n                Please read and agree to the following liability waiver before proceeding.\n            </p>\n\n            <div className=\"waiver-text\">\n                <h4 className=\"waiver-title\">Release of Liability</h4>\n\n                <p>\n                    By using FitCopilot's services and participating in any recommended exercise programs,\n                    I acknowledge that there are certain inherent risks associated with physical activity.\n                </p>\n\n                <p>\n                    I understand that FitCopilot is not a licensed healthcare provider and that the exercise\n                    recommendations are algorithmic suggestions based on the information I have provided.\n                </p>\n\n                <p>\n                    I hereby release FitCopilot, its partners, employees, and affiliates from any liability,\n                    claims, demands, and causes of action arising from my participation in the recommended\n                    exercise programs or related activities.\n                </p>\n\n                <p>\n                    I understand that I should consult with a healthcare professional before beginning any\n                    exercise program, especially if I have any pre-existing health conditions or concerns.\n                </p>\n\n                <p>\n                    I agree to exercise according to my abilities and to discontinue activity and seek\n                    medical attention if I experience unusual discomfort or physical distress.\n                </p>\n            </div>\n\n            <div className=\"agreement-container\">\n                <div\n                    className={`agreement-checkbox ${hasAgreed ? 'checked' : ''}`}\n                    onClick={() => setHasAgreed(!hasAgreed)}\n                    role=\"checkbox\"\n                    aria-checked={hasAgreed}\n                    tabIndex={0}\n                    onKeyDown={(e) => {\n                        if (e.key === 'Enter' || e.key === ' ') {\n                            e.preventDefault();\n                            setHasAgreed(!hasAgreed);\n                        }\n                    }}\n                >\n                    <div className=\"checkbox\">\n                        {hasAgreed && <Check size={14} />}\n                    </div>\n                    <span className=\"agreement-text\">\n                        I have read and agree to the Release of Liability Waiver\n                    </span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\n/**\n * LiabilityWaiverSelector component for collecting agreement to the liability waiver\n * Refactored to use StandardSection and MedicalCustomizationContext\n */\nconst LiabilityWaiverSelector = forwardRef<AccordionSectionRef, LiabilityWaiverSelectorProps>(({\n    onValidChange,\n    isCompleted = false,\n    onConfirm\n}, ref) => {\n    const { updateSectionValidity, error, isLoading, markSectionComplete } = useMedicalCustomization();\n\n    // Handle validity change\n    const handleValidChange = (isValid: boolean) => {\n        updateSectionValidity(SECTION_IDS.liabilityWaiver, isValid);\n        onValidChange(isValid);\n    };\n\n    // Handle confirmation\n    const handleConfirm = () => {\n        markSectionComplete(SECTION_IDS.liabilityWaiver);\n        announceToScreenReader('Liability waiver agreement saved successfully');\n        onConfirm();\n    };\n\n    return (\n        <StandardSection\n            ref={ref}\n            sectionId={SECTION_IDS.liabilityWaiver}\n            title=\"Liability Waiver\"\n            icon={<FileText size={18} />}\n            description=\"Please review and agree to our liability terms\"\n            isCompleted={isCompleted}\n            onValidChange={handleValidChange}\n            onConfirm={handleConfirm}\n            error={error}\n            isLoading={isLoading}\n            required={true}\n        >\n            <LiabilityWaiverInnerForm />\n        </StandardSection>\n    );\n});\n\nLiabilityWaiverSelector.displayName = 'LiabilityWaiverSelector';\n\nexport default LiabilityWaiverSelector; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/LiabilityWaiverSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/MedicalClearanceSelector/MedicalClearanceSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'isValid' is defined but never used. Allowed unused args must match /^_/u.","line":17,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":12}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Heart } from 'lucide-react';\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { AccordionSectionRef } from '../../../components/AccordionSection';\nimport { MEDICAL_HISTORY_OPTIONS } from '../../constants/anthropometricsOptions';\nimport { SECTION_IDS } from '../../constants/sectionConstants';\nimport { useMedicalCustomization } from '../../context/MedicalCustomizationContext';\nimport { MedicalClearanceSelectorProps, SectionComponentProps } from '../../types';\nimport { announceToScreenReader } from '../../utils/a11y';\nimport StandardSection from '../StandardSection';\nimport './MedicalClearanceSelector.scss';\n\n/**\n * MedicalClearanceInnerForm component handles the form fields and validation\n */\nconst MedicalClearanceInnerForm: React.FC<SectionComponentProps> = ({\n    setIsValid,\n    isValid\n}) => {\n    const { state, updateSectionData } = useMedicalCustomization();\n    const medicalClearance = state.medicalClearance || {};\n\n    // Initialize state from context data\n    const [hasDisease, setHasDisease] = useState<'yes' | 'no' | 'not-sure' | ''>(\n        medicalClearance.hasDisease || ''\n    );\n\n    const [additionalDetails, setAdditionalDetails] = useState(\n        medicalClearance.additionalDetails || ''\n    );\n\n    // Validate and update context\n    useEffect(() => {\n        const valid = hasDisease !== '';\n\n        // Report validity to parent StandardSection\n        if (setIsValid) {\n            setIsValid(valid);\n        }\n\n        // Update context with debouncing\n        const timeoutId = setTimeout(() => {\n            updateSectionData('medicalClearance', {\n                hasDisease: hasDisease === '' ? undefined : hasDisease,\n                additionalDetails: additionalDetails || undefined\n            });\n        }, 300);\n\n        return () => clearTimeout(timeoutId);\n    }, [hasDisease, additionalDetails, setIsValid, updateSectionData]);\n\n    return (\n        <div className=\"medical-clearance-selector\">\n            <p className=\"section-description\">\n                Please answer the following question about your medical history. This information helps us ensure your workout plan is safe for you.\n            </p>\n\n            <div className=\"medical-question\">\n                <h4 className=\"question-text\">\n                    Have you ever suffered from renal, metabolic, or cardiovascular disease?\n                </h4>\n\n                <div className=\"options-container\" role=\"radiogroup\" aria-labelledby=\"medical-question-label\">\n                    <span id=\"medical-question-label\" className=\"sr-only\">Medical history question</span>\n                    {MEDICAL_HISTORY_OPTIONS.map((option) => (\n                        <div\n                            key={option.value}\n                            className={`option-item ${hasDisease === option.value ? 'selected' : ''}`}\n                            onClick={() => setHasDisease(option.value as 'yes' | 'no' | 'not-sure')}\n                            role=\"radio\"\n                            aria-checked={hasDisease === option.value}\n                            tabIndex={0}\n                            onKeyDown={(e) => {\n                                if (e.key === 'Enter' || e.key === ' ') {\n                                    e.preventDefault();\n                                    setHasDisease(option.value as 'yes' | 'no' | 'not-sure');\n                                }\n                            }}\n                        >\n                            <div className=\"radio-circle\">\n                                {hasDisease === option.value && <div className=\"radio-dot\"></div>}\n                            </div>\n                            <span className=\"option-label\">{option.label}</span>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Additional details - shown if \"Yes\" or \"Not sure\" is selected */}\n            {(hasDisease === 'yes' || hasDisease === 'not-sure') && (\n                <div className=\"additional-details\">\n                    <label htmlFor=\"additional-details\" className=\"details-label\">\n                        Please provide additional details\n                    </label>\n                    <textarea\n                        id=\"additional-details\"\n                        className=\"details-input\"\n                        placeholder=\"Please provide details about your condition\"\n                        rows={3}\n                        value={additionalDetails}\n                        onChange={(e) => setAdditionalDetails(e.target.value)}\n                        aria-label=\"Additional medical details\"\n                    />\n                    {hasDisease === 'yes' && (\n                        <p className=\"disclaimer-text\">\n                            Note: We recommend consulting with a healthcare professional before starting any new exercise program.\n                        </p>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\n/**\n * MedicalClearanceSelector component for collecting medical history information\n * Refactored to use StandardSection and MedicalCustomizationContext\n */\nconst MedicalClearanceSelector = forwardRef<AccordionSectionRef, MedicalClearanceSelectorProps>(({\n    onValidChange,\n    isCompleted = false,\n    onConfirm\n}, ref) => {\n    const { updateSectionValidity, error, isLoading, markSectionComplete } = useMedicalCustomization();\n\n    // Handle validity change\n    const handleValidChange = (isValid: boolean) => {\n        updateSectionValidity(SECTION_IDS.medicalClearance, isValid);\n        onValidChange(isValid);\n    };\n\n    // Handle confirmation\n    const handleConfirm = () => {\n        markSectionComplete(SECTION_IDS.medicalClearance);\n        announceToScreenReader('Medical clearance information saved successfully');\n        onConfirm();\n    };\n\n    return (\n        <StandardSection\n            ref={ref}\n            sectionId={SECTION_IDS.medicalClearance}\n            title=\"Medical Clearance\"\n            icon={<Heart size={18} />}\n            description=\"Medical information to ensure your safety during workouts\"\n            isCompleted={isCompleted}\n            onValidChange={handleValidChange}\n            onConfirm={handleConfirm}\n            error={error}\n            isLoading={isLoading}\n            required={true}\n        >\n            <MedicalClearanceInnerForm />\n        </StandardSection>\n    );\n});\n\nMedicalClearanceSelector.displayName = 'MedicalClearanceSelector';\n\nexport default MedicalClearanceSelector; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/MedicalClearanceSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/SectionErrorState/SectionErrorState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/SectionErrorState/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/StandardSection/StandardSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":119,"column":91,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":94,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4789,4792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4789,4792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { AlertCircle, Check, Loader2 } from 'lucide-react';\nimport React, { forwardRef, useCallback, useEffect, useRef, useState } from 'react';\nimport { RegistrationButton } from '../../../../components';\nimport AccordionSection, { AccordionSectionRef } from '../../../components/AccordionSection';\nimport { announceToScreenReader, focusFirstTabbableElement } from '../../utils/a11y';\nimport './StandardSection.scss';\nimport { StandardSectionProps } from './types';\n\n/**\n * StandardSection component provides a consistent UI pattern for sections\n * in the customization journey with built-in validation, loading states,\n * error handling, and completion indicators.\n */\nconst StandardSection = forwardRef<AccordionSectionRef, StandardSectionProps>(\n    ({\n        title,\n        icon,\n        description,\n        sectionId,\n        onValidChange,\n        isCompleted = false,\n        onConfirm,\n        className = '',\n        required = false,\n        error = null,\n        isLoading = false,\n        children,\n        onOpen,\n        onClose\n    }, ref) => {\n        const [isValid, setIsValid] = useState<boolean>(false);\n        const contentRef = useRef<HTMLDivElement>(null);\n        const sectionHeadingRef = useRef<HTMLDivElement>(null);\n\n        // Report validity changes to parent\n        useEffect(() => {\n            onValidChange(isValid);\n        }, [isValid, onValidChange]);\n\n        // Handle section opening - focus first interactive element\n        const handleOpen = useCallback(() => {\n            // Announce section opening to screen readers\n            announceToScreenReader(`${typeof title === 'string' ? title : 'Section'} opened`);\n\n            // Find and focus first interactive element\n            setTimeout(() => {\n                focusFirstTabbableElement(contentRef.current);\n            }, 100);\n\n            if (onOpen) onOpen();\n        }, [title, onOpen]);\n\n        // Handle section closing - return focus to heading\n        const handleClose = useCallback(() => {\n            if (sectionHeadingRef.current) {\n                sectionHeadingRef.current.focus();\n            }\n\n            if (onClose) onClose();\n        }, [onClose]);\n\n        // Create formatted section title with completion indicator\n        const formattedTitle = (\n            <div className=\"standard-section-title\" ref={sectionHeadingRef}>\n                {icon && <span className=\"section-icon\">{icon}</span>}\n                <span className=\"section-title-text\">{title}</span>\n                {required && (\n                    <span className=\"section-required-badge\" aria-label=\"Required section\">\n                        Required\n                    </span>\n                )}\n                {isCompleted && (\n                    <span\n                        className=\"section-completed-badge\"\n                        aria-label=\"Section completed\"\n                    >\n                        <Check size={12} />\n                        <span>Completed</span>\n                    </span>\n                )}\n            </div>\n        );\n\n        return (\n            <div\n                className={`standard-section ${className} ${isCompleted ? 'completed' : ''}`}\n                id={`section-${sectionId}`}\n            >\n                <AccordionSection\n                    title={formattedTitle}\n                    ref={ref}\n                    className={`standard-section-accordion ${isCompleted ? 'completed' : ''}`}\n                    defaultExpanded={false}\n                    onOpenStateChange={(isOpen) => isOpen ? handleOpen() : handleClose()}\n                >\n                    {description && (\n                        <p className=\"section-description\">{description}</p>\n                    )}\n\n                    {/* Error message */}\n                    {error && (\n                        <div className=\"section-error\" role=\"alert\">\n                            <AlertCircle size={16} />\n                            <span>{error}</span>\n                        </div>\n                    )}\n\n                    {/* Loading indicator */}\n                    {isLoading ? (\n                        <div className=\"section-loading\" aria-live=\"polite\">\n                            <Loader2 size={24} className=\"animate-spin\" aria-hidden=\"true\" />\n                            <span>Loading...</span>\n                        </div>\n                    ) : (\n                        <div className=\"section-content\" ref={contentRef}>\n                            {/* Render children with isValid setter as a prop */}\n                            {React.Children.map(children, child => {\n                                if (React.isValidElement(child)) {\n                                    return React.cloneElement(child as React.ReactElement<any>, {\n                                        setIsValid,\n                                        isValid\n                                    });\n                                }\n                                return child;\n                            })}\n                        </div>\n                    )}\n\n                    {/* Confirm button shown only if not loading and not completed */}\n                    {!isLoading && !isCompleted && (\n                        <div className=\"section-actions\">\n                            <RegistrationButton\n                                onClick={onConfirm}\n                                disabled={!isValid}\n                                variant=\"primary\"\n                                size=\"medium\"\n                                rightIcon={<Check className=\"h-5 w-5\" />}\n                                className=\"section-confirm-btn\"\n                            >\n                                Confirm Selection\n                            </RegistrationButton>\n                        </div>\n                    )}\n                </AccordionSection>\n            </div>\n        );\n    }\n);\n\n// Display name for debugging\nStandardSection.displayName = 'StandardSection';\n\nexport default StandardSection; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/StandardSection/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/StandardSection/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/shared/ConfirmButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/components/shared/CustomizationProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/constants/anthropometricsOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/constants/injuriesOptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/constants/sectionConstants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/context/MedicalCustomizationContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/hooks/useMedicalCustomizationState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/utils/a11y.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/utils/customizationStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/utils/scrollUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/CustomizedMedical/utils/validators.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'result' is assigned a value but never used.","line":103,"column":19,"nodeType":null,"messageId":"unusedVar","endLine":103,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Standardized validation helpers for CustomizedMedical sections\n */\n\nimport logger from \"../../../../../utils/logger\";\nimport { AnthropometricsData, InjuriesData, LiabilityWaiverData, MedicalClearanceData } from '../types';\n\n/**\n * Validators for each section\n */\nexport const validators = {\n    /**\n     * Anthropometrics is valid if height and weight are provided\n     */\n    anthropometrics: (data: AnthropometricsData | null): boolean => {\n        if (!data) return false;\n\n        // Height validation\n        const hasValidHeight = data.height && data.height.value > 0 &&\n            (data.height.unit !== 'ft' || (data.height.inches !== undefined));\n\n        // Weight validation\n        const hasValidWeight = data.weight && data.weight.value > 0;\n\n        return hasValidHeight && hasValidWeight;\n    },\n\n    /**\n     * Injuries is valid if selection has been made\n     */\n    injuries: (data: InjuriesData | null): boolean => {\n        if (!data) return false;\n\n        // Valid if user made a selection (either has injuries or doesn't)\n        const hasSelection = data.hasInjuries !== undefined;\n\n        // If they have injuries, they should specify at least one or provide details\n        if (data.hasInjuries === true) {\n            return (data.selectedInjuries?.length > 0) ||\n                (data.otherInjuries?.trim()?.length > 0);\n        }\n\n        return hasSelection;\n    },\n\n    /**\n     * Medical clearance is valid if proper acknowledgment is provided\n     */\n    medicalClearance: (data: MedicalClearanceData | null): boolean => {\n        if (!data) return false;\n\n        // Valid if user acknowledged medical conditions\n        const hasMedicalSelection = data.hasMedicalCondition !== undefined;\n\n        // If they have medical conditions, they should provide some details\n        if (data.hasMedicalCondition === true) {\n            return !!data.medicalDetails && data.medicalDetails.trim().length > 0;\n        }\n\n        return hasMedicalSelection;\n    },\n\n    /**\n     * Liability waiver is valid if accepted\n     */\n    liabilityWaiver: (data: LiabilityWaiverData | null): boolean => {\n        if (!data) return false;\n\n        return data.hasAcceptedWaiver === true;\n    }\n};\n\n/**\n * Get validation error message for a section\n */\nexport const getValidationMessage = (sectionId: string): string => {\n    switch (sectionId) {\n        case 'anthropometrics':\n            return 'Please provide your height and weight';\n        case 'injuries':\n            return 'Please indicate if you have any injuries';\n        case 'medicalClearance':\n            return 'Please provide information about any medical conditions';\n        case 'liabilityWaiver':\n            return 'Please accept the liability waiver to continue';\n        default:\n            return 'Please complete all required fields';\n    }\n};\n\n/**\n * Helper to safely save data with basic retry functionality\n */\nexport const saveWithRetry = async <T>(\n    saveFunction: (data: T) => Promise<boolean>,\n    data: T,\n    maxRetries = 1\n): Promise<{ success: boolean; error?: string }> => {\n    let attempts = 0;\n\n    const attempt = async (): Promise<{ success: boolean; error?: string }> => {\n        try {\n            const result = await saveFunction(data);\n            return { success: true };\n        } catch (error) {\n            logger.error(`Error saving data (attempt ${attempts + 1}):`, error);\n\n            if (++attempts <= maxRetries) {\n                // Simple linear retry with small delay\n                await new Promise(resolve => setTimeout(resolve, 300));\n                return attempt();\n            } else {\n                return {\n                    success: false,\n                    error: error instanceof Error ? error.message : \"Failed to save your medical information\"\n                };\n            }\n        }\n    };\n\n    return attempt();\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/Journey.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/__tests__/JourneySelectors.integration.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'updateData' is assigned a value but never used.","line":211,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":211,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fireEvent, render, screen, waitFor } from '@testing-library/react';\nimport React from 'react';\nimport { RegistrationData, RegistrationStep } from '../../types';\nimport { AnalyticsSelector } from '../components/AnalyticsSelector';\nimport GoalSelector from '../components/GoalSelector/GoalSelector';\nimport { JourneyProvider } from '../components/JourneyContext';\nimport { JourneyStepCard } from '../components/JourneyStepCard';\n\n// Mock storage\nconst mockSessionStorage = (() => {\n    let store: Record<string, string> = {};\n    return {\n        getItem: jest.fn((key: string) => store[key] || null),\n        setItem: jest.fn((key: string, value: string) => {\n            store[key] = value;\n        }),\n        removeItem: jest.fn((key: string) => {\n            delete store[key];\n        }),\n        clear: jest.fn(() => {\n            store = {};\n        }),\n    };\n})();\n\nObject.defineProperty(window, 'sessionStorage', {\n    value: mockSessionStorage,\n});\n\n// Mock Journey step card data for testing\nconst mockJourneyStepData = {\n    title: \"Define Your Goals\",\n    description: \"Tell us what you want to achieve\",\n    icon: <div data-testid=\"goal-icon\">Goal Icon</div>,\n    delay: 100,\n    accentColor: \"from-lime-300 to-emerald-400\",\n    ctaText: \"Set Your Goals\",\n    nextStep: RegistrationStep.EXPERIENCE_LEVEL,\n    detailedFeatures: [\n        {\n            title: \"Strength Building\",\n            description: \"Focus on compound movements\",\n            icon: <div data-testid=\"strength-icon\">Strength Icon</div>\n        },\n        {\n            title: \"Fat Loss\",\n            description: \"Optimize caloric deficit\",\n            icon: <div data-testid=\"fat-loss-icon\">Fat Loss Icon</div>\n        }\n    ]\n};\n\nconst mockAnalyticsStepData = {\n    title: \"Track Your Progress\",\n    description: \"Select tracking features\",\n    icon: <div data-testid=\"analytics-icon\">Analytics Icon</div>,\n    delay: 400,\n    accentColor: \"from-amber-300 to-orange-400\",\n    ctaText: \"Set Tracking Preferences\",\n    nextStep: RegistrationStep.PRICING,\n    detailedFeatures: [\n        {\n            title: \"Visual Analytics\",\n            description: \"Interactive charts\",\n            icon: <div data-testid=\"visual-analytics-icon\">Visual Analytics Icon</div>\n        },\n        {\n            title: \"Achievement System\",\n            description: \"Unlock badges and achievements\",\n            icon: <div data-testid=\"achievements-icon\">Achievements Icon</div>\n        }\n    ]\n};\n\n// Props for testing\nconst mockStepProps = {\n    onNext: jest.fn(),\n    onBack: jest.fn(),\n    data: {} as RegistrationData,\n    updateData: jest.fn(),\n};\n\n// Render utility for integration testing\nconst renderIntegrationTest = (initialData = {}) => {\n    return render(\n        <JourneyProvider initialData={initialData}>\n            {/* Render both step cards which will contain our selectors */}\n            <JourneyStepCard step={mockJourneyStepData} index={0} currentStep={RegistrationStep.GOALS} {...mockStepProps} />\n            <JourneyStepCard step={mockAnalyticsStepData} index={3} currentStep={RegistrationStep.GOALS} {...mockStepProps} />\n        </JourneyProvider>\n    );\n};\n\n// For testing the full journey flow:\nconst renderJourneySelectorSequence = () => {\n    const { rerender } = render(\n        <JourneyProvider>\n            <div data-testid=\"journey-container\">\n                <GoalSelector\n                    onValidChange={jest.fn()}\n                    onConfirm={jest.fn()}\n                />\n            </div>\n        </JourneyProvider>\n    );\n\n    const updateJourneyStep = () => {\n        rerender(\n            <JourneyProvider>\n                <div data-testid=\"journey-container\">\n                    <AnalyticsSelector\n                        onValidChange={jest.fn()}\n                        onConfirm={jest.fn()}\n                    />\n                </div>\n            </JourneyProvider>\n        );\n    };\n\n    return { updateJourneyStep };\n};\n\ndescribe('Journey Selector Integration', () => {\n    beforeEach(() => {\n        mockSessionStorage.clear();\n        jest.clearAllMocks();\n    });\n\n    it('displays both step cards with their respective selectors', async () => {\n        renderIntegrationTest();\n\n        // Check for goal step card\n        expect(screen.getByText('Define Your Goals')).toBeInTheDocument();\n\n        // Check for analytics step card\n        expect(screen.getByText('Track Your Progress')).toBeInTheDocument();\n    });\n\n    it('retains data when navigating between selectors', async () => {\n        const { updateJourneyStep } = renderJourneySelectorSequence();\n\n        // Select a goal in GoalSelector\n        fireEvent.click(screen.getByText('Strength Building'));\n\n        // Move to the AnalyticsSelector\n        updateJourneyStep();\n\n        // Select analytics features\n        fireEvent.click(screen.getByText('Visual Analytics'));\n\n        // The data should be stored in sessionStorage\n        expect(mockSessionStorage.setItem).toHaveBeenCalled();\n\n        // Extract the storage keys that were used\n        const storageKeys = mockSessionStorage.setItem.mock.calls.map(call => call[0]);\n\n        // Expect both storage keys to be present\n        expect(storageKeys).toContain('fitcopilot_goal_selector');\n        expect(storageKeys).toContain('fitcopilot_analytics_selector');\n    });\n\n    it('handles selection across both components correctly', () => {\n        // First render GoalSelector\n        const { rerender } = render(\n            <JourneyProvider>\n                <GoalSelector\n                    onValidChange={jest.fn()}\n                    onConfirm={jest.fn()}\n                />\n            </JourneyProvider>\n        );\n\n        // Select goals\n        fireEvent.click(screen.getByText('Strength Building'));\n        fireEvent.click(screen.getByText('Fat Loss'));\n\n        // Now render AnalyticsSelector\n        rerender(\n            <JourneyProvider>\n                <AnalyticsSelector\n                    onValidChange={jest.fn()}\n                    onConfirm={jest.fn()}\n                />\n            </JourneyProvider>\n        );\n\n        // Select analytics features\n        fireEvent.click(screen.getByText('Visual Analytics'));\n        fireEvent.click(screen.getByText('Achievement System'));\n\n        // Verify that both components have stored their data\n        const storageKeys = mockSessionStorage.setItem.mock.calls.map(call => call[0]);\n        expect(storageKeys).toContain('fitcopilot_goal_selector');\n        expect(storageKeys).toContain('fitcopilot_analytics_selector');\n\n        // Go back to GoalSelector to verify data persistence\n        rerender(\n            <JourneyProvider>\n                <GoalSelector\n                    onValidChange={jest.fn()}\n                    onConfirm={jest.fn()}\n                />\n            </JourneyProvider>\n        );\n\n        // The goals should still be selected\n        expect(screen.getByText('2 goals selected')).toBeInTheDocument();\n    });\n\n    it('saves all data to JourneyContext', async () => {\n        const updateData = jest.fn();\n\n        render(\n            <JourneyProvider>\n                <GoalSelector\n                    onValidChange={jest.fn()}\n                    onConfirm={jest.fn()}\n                />\n            </JourneyProvider>\n        );\n\n        // Select goals\n        fireEvent.click(screen.getByText('Strength Building'));\n\n        // updateRegistrationData should be called\n        await waitFor(() => {\n            expect(mockSessionStorage.setItem).toHaveBeenCalled();\n        });\n\n        // Check that the data was saved to session storage\n        const goalStorageKey = mockSessionStorage.setItem.mock.calls\n            .find(call => call[0] === 'fitcopilot_journey_state');\n\n        expect(goalStorageKey).toBeTruthy();\n    });\n}); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AccordionSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AnalyticsSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AnalyticsSelector/AnalyticsSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AnalyticsSelector/__tests__/AnalyticsSelector.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AnalyticsSelector/constants.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AnalyticsSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/AnalyticsSelector/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/ConfirmSectionButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/CustomizationContainer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'validSections' is assigned a value but never used.","line":26,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":25}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef, useState } from 'react';\nimport EquipmentSelector from '../CustomizeExperience/components/EquipmentSelector';\nimport TimeCommitmentSelector from '../CustomizeExperience/components/TimeCommitmentSelector';\nimport { AccordionSectionRef } from './AccordionSection';\nimport { useJourney } from './JourneyContext';\nimport { scrollToAccordionSection } from './scrollUtils';\nimport WorkoutPreferenceSelector from './WorkoutPreferenceSelector';\n\ninterface CustomizationContainerProps {\n    onValidChange: (isValid: boolean) => void;\n}\n\n// Define section IDs for consistent reference\nexport const SECTION_IDS = {\n    equipment: 'equipment',\n    timeManagement: 'time-management',\n    workoutPreference: 'workout-preference'\n};\n\nconst CustomizationContainer: React.FC<CustomizationContainerProps> = ({ onValidChange }) => {\n    const { registrationData, updateRegistrationData } = useJourney();\n\n    // Track valid sections and completed sections\n    // validSections will be used with the planned CompletionContext integration\n    // to track validation state of each section before allowing completion\n    const [validSections, setValidSections] = useState({\n        [SECTION_IDS.equipment]: false,\n        [SECTION_IDS.timeManagement]: false,\n        [SECTION_IDS.workoutPreference]: false\n    });\n\n    const [completedSections, setCompletedSections] = useState<string[]>(\n        registrationData.completedCustomizationSections || []\n    );\n\n    // Create refs for the accordion sections\n    const equipmentRef = useRef<AccordionSectionRef>(null);\n    const timeManagementRef = useRef<AccordionSectionRef>(null);\n    const workoutPreferenceRef = useRef<AccordionSectionRef>(null);\n\n    // Get ref by section ID\n    const getSectionRef = (sectionId: string): React.RefObject<AccordionSectionRef> => {\n        switch (sectionId) {\n            case SECTION_IDS.equipment:\n                return equipmentRef;\n            case SECTION_IDS.timeManagement:\n                return timeManagementRef;\n            case SECTION_IDS.workoutPreference:\n                return workoutPreferenceRef;\n            default:\n                return equipmentRef;\n        }\n    };\n\n    // Get the next section ID\n    const getNextSectionId = (currentSectionId: string): string | null => {\n        const sections = Object.values(SECTION_IDS);\n        const currentIndex = sections.indexOf(currentSectionId);\n        if (currentIndex < sections.length - 1) {\n            return sections[currentIndex + 1];\n        }\n        return null;\n    };\n\n    // Check overall validity based on section validity and completion\n    useEffect(() => {\n        // At least one section must be valid and completed to proceed\n        const isValid = completedSections.length > 0;\n        onValidChange(isValid);\n\n        // Save completed sections to context\n        updateRegistrationData({\n            completedCustomizationSections: completedSections\n        });\n    }, [completedSections, onValidChange, updateRegistrationData]);\n\n    // Update section validity\n    const handleSectionValidChange = (section: string, isValid: boolean) => {\n        setValidSections(prev => ({\n            ...prev,\n            [section]: isValid\n        }));\n    };\n\n    // Handle confirming a section\n    const handleConfirmSection = (sectionId: string) => {\n        // Mark as completed if not already\n        if (!completedSections.includes(sectionId)) {\n            setCompletedSections(prev => [...prev, sectionId]);\n        }\n\n        // Close current section\n        const currentSectionRef = getSectionRef(sectionId);\n        if (currentSectionRef.current) {\n            currentSectionRef.current.close();\n        }\n\n        // Open next section if available\n        const nextSectionId = getNextSectionId(sectionId);\n        if (nextSectionId) {\n            const nextSectionRef = getSectionRef(nextSectionId);\n            if (nextSectionRef.current) {\n                // Use a larger delay for a smoother transition\n                setTimeout(() => {\n                    nextSectionRef.current?.open();\n\n                    // Scroll to the next section with an improved offset that accounts for the header\n                    // and provides more space at the top\n                    setTimeout(() => {\n                        // Use a smaller offset (60px) to ensure more of the section is visible\n                        scrollToAccordionSection(nextSectionId, 60);\n                    }, 350); // Slightly longer delay to ensure animation has started\n                }, 400); // Longer delay for smoother transition between sections\n            }\n        }\n    };\n\n    // Initialize based on completed sections from previous session\n    useEffect(() => {\n        // Only open first incomplete section on mount\n        const sections = Object.values(SECTION_IDS);\n\n        // Find first incomplete section\n        const firstIncompleteSection = sections.find(section =>\n            !completedSections.includes(section)\n        );\n\n        // If all completed, open equipment by default\n        const sectionToOpen = firstIncompleteSection || SECTION_IDS.equipment;\n\n        // Open the appropriate section after a slight delay \n        // Use a longer delay for initial load to ensure DOM is fully ready\n        setTimeout(() => {\n            const sectionRef = getSectionRef(sectionToOpen);\n            if (sectionRef.current) {\n                sectionRef.current.open();\n\n                // Use a more precise scrolling with a smaller offset (60px)\n                // to show more content above the section\n                setTimeout(() => {\n                    scrollToAccordionSection(sectionToOpen, 60);\n                }, 350);\n            }\n        }, 600); // Longer initial delay for better user experience\n    }, [completedSections]);\n\n    return (\n        <div className=\"space-y-3\">\n            <p className=\"text-gray-300 text-sm mb-4\">\n                Customize your workout experience by selecting your preferences below.\n                <span className=\"text-cyan-400 block mt-1\">\n                    Complete each section and click \"Confirm Selection\" to proceed.\n                </span>\n            </p>\n\n            <div id={`accordion-section-${SECTION_IDS.equipment}`}>\n                <EquipmentSelector\n                    ref={equipmentRef}\n                    onValidChange={(isValid) => handleSectionValidChange(SECTION_IDS.equipment, isValid)}\n                    isCompleted={completedSections.includes(SECTION_IDS.equipment)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.equipment)}\n                />\n            </div>\n\n            <div id={`accordion-section-${SECTION_IDS.timeManagement}`}>\n                <TimeCommitmentSelector\n                    ref={timeManagementRef}\n                    onValidChange={(isValid) => handleSectionValidChange(SECTION_IDS.timeManagement, isValid)}\n                    isCompleted={completedSections.includes(SECTION_IDS.timeManagement)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.timeManagement)}\n                />\n            </div>\n\n            <div id={`accordion-section-${SECTION_IDS.workoutPreference}`}>\n                <WorkoutPreferenceSelector\n                    ref={workoutPreferenceRef}\n                    onValidChange={(isValid) => handleSectionValidChange(SECTION_IDS.workoutPreference, isValid)}\n                    isCompleted={completedSections.includes(SECTION_IDS.workoutPreference)}\n                    onConfirm={() => handleConfirmSection(SECTION_IDS.workoutPreference)}\n                />\n            </div>\n\n            {completedSections.length > 0 && (\n                <div className=\"mt-4 p-3 bg-cyan-900/20 border border-cyan-800/40 rounded-lg\">\n                    <p className=\"text-cyan-300 text-sm\">\n                        {completedSections.length === Object.keys(SECTION_IDS).length ? (\n                            \"All sections completed! You can now continue to the next step.\"\n                        ) : (\n                            `${completedSections.length} of ${Object.keys(SECTION_IDS).length} sections completed. You can continue to the next step or complete more sections.`\n                        )}\n                    </p>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default CustomizationContainer; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/GoalSelector/GoalSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/GoalSelector/__tests__/GoalSelector.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/GoalSelector/constants.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/GoalSelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/GoalSelector/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/JourneyContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/JourneySelector/JourneySelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/JourneySelector/__tests__/JourneySelector.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/JourneySelector/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/JourneyStepCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/SavingIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/StandardSection/StandardSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":118,"column":91,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":94,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4731,4734],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4731,4734],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { AlertCircle, Check, Loader2 } from 'lucide-react';\nimport React, { forwardRef, useCallback, useEffect, useRef, useState } from 'react';\nimport { announceToScreenReader, focusFirstTabbableElement } from '../../CustomizeExperience/utils/a11y';\nimport AccordionSection, { AccordionSectionRef } from '../AccordionSection';\nimport './StandardSection.scss';\nimport { StandardSectionProps } from './types';\n\n/**\n * StandardSection component provides a consistent UI pattern for sections\n * in the customization journey with built-in validation, loading states,\n * error handling, and completion indicators.\n */\nconst StandardSection = forwardRef<AccordionSectionRef, StandardSectionProps>(\n    ({\n        title,\n        icon,\n        description,\n        sectionId,\n        onValidChange,\n        isCompleted = false,\n        onConfirm,\n        className = '',\n        required = false,\n        error = null,\n        isLoading = false,\n        children,\n        onOpen,\n        onClose\n    }, ref) => {\n        const [isValid, setIsValid] = useState<boolean>(false);\n        const contentRef = useRef<HTMLDivElement>(null);\n        const sectionHeadingRef = useRef<HTMLDivElement>(null);\n\n        // Report validity changes to parent\n        useEffect(() => {\n            onValidChange(isValid);\n        }, [isValid, onValidChange]);\n\n        // Handle section opening - focus first interactive element\n        const handleOpen = useCallback(() => {\n            // Announce section opening to screen readers\n            announceToScreenReader(`${typeof title === 'string' ? title : 'Section'} opened`);\n\n            // Find and focus first interactive element\n            setTimeout(() => {\n                focusFirstTabbableElement(contentRef.current);\n            }, 100);\n\n            if (onOpen) onOpen();\n        }, [title, onOpen]);\n\n        // Handle section closing - return focus to heading\n        const handleClose = useCallback(() => {\n            if (sectionHeadingRef.current) {\n                sectionHeadingRef.current.focus();\n            }\n\n            if (onClose) onClose();\n        }, [onClose]);\n\n        // Create formatted section title with completion indicator\n        const formattedTitle = (\n            <div className=\"standard-section-title\" ref={sectionHeadingRef}>\n                {icon && <span className=\"section-icon\">{icon}</span>}\n                <span className=\"section-title-text\">{title}</span>\n                {required && (\n                    <span className=\"section-required-badge\" aria-label=\"Required section\">\n                        Required\n                    </span>\n                )}\n                {isCompleted && (\n                    <span\n                        className=\"section-completed-badge\"\n                        aria-label=\"Section completed\"\n                    >\n                        <Check size={12} />\n                        <span>Completed</span>\n                    </span>\n                )}\n            </div>\n        );\n\n        return (\n            <div\n                className={`standard-section ${className} ${isCompleted ? 'completed' : ''}`}\n                id={`section-${sectionId}`}\n            >\n                <AccordionSection\n                    title={formattedTitle}\n                    ref={ref}\n                    className={`standard-section-accordion ${isCompleted ? 'completed' : ''}`}\n                    defaultExpanded={false}\n                    onOpenStateChange={(isOpen) => isOpen ? handleOpen() : handleClose()}\n                >\n                    {description && (\n                        <p className=\"section-description\">{description}</p>\n                    )}\n\n                    {/* Error message */}\n                    {error && (\n                        <div className=\"section-error\" role=\"alert\">\n                            <AlertCircle size={16} />\n                            <span>{error}</span>\n                        </div>\n                    )}\n\n                    {/* Loading indicator */}\n                    {isLoading ? (\n                        <div className=\"section-loading\" aria-live=\"polite\">\n                            <Loader2 size={24} className=\"animate-spin\" aria-hidden=\"true\" />\n                            <span>Loading...</span>\n                        </div>\n                    ) : (\n                        <div className=\"section-content\" ref={contentRef}>\n                            {/* Render children with isValid setter as a prop */}\n                            {React.Children.map(children, child => {\n                                if (React.isValidElement(child)) {\n                                    return React.cloneElement(child as React.ReactElement<any>, {\n                                        setIsValid,\n                                        isValid\n                                    });\n                                }\n                                return child;\n                            })}\n                        </div>\n                    )}\n\n                    {/* Confirm button shown only if not loading and not completed */}\n                    {!isLoading && !isCompleted && (\n                        <div className=\"section-actions\">\n                            <button\n                                className={`section-confirm-btn ${isValid ? 'valid' : 'disabled'}`}\n                                onClick={onConfirm}\n                                disabled={!isValid}\n                                aria-disabled={!isValid}\n                            >\n                                <Check size={16} aria-hidden=\"true\" />\n                                <span>Confirm Selection</span>\n                            </button>\n                        </div>\n                    )}\n                </AccordionSection>\n            </div>\n        );\n    }\n);\n\n// Display name for debugging\nStandardSection.displayName = 'StandardSection';\n\nexport default StandardSection; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/StandardSection/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/StandardSection/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/StepValidator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/WorkoutPreferenceSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/components/scrollUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/jest.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/setupTests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/components/SectionCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/components/SelectionSummary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/components/__tests__/SectionCard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/components/__tests__/SelectionSummary.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/utils/selectorStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Journey/shared/utils/validationUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Pricing/Pricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Pricing/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Pricing/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Registration.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'goToStep' is assigned a value but never used.","line":28,"column":50,"nodeType":null,"messageId":"unusedVar","endLine":28,"endColumn":58}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { X } from 'lucide-react';\nimport React, { useCallback, useEffect } from 'react';\nimport { AnimatedTransition, ProgressIndicator, RegistrationLayout } from './components';\nimport { useTransitionAnalytics } from './events/analyticsIntegration';\nimport ExperienceLevel from './ExperienceLevel';\nimport { useRegistrationData, useRegistrationProgress } from './hooks';\nimport { REGISTRATION_STEPS } from './hooks/useRegistrationProgress';\nimport Journey from './Journey';\nimport Pricing from './Pricing';\nimport './Registration.scss';\nimport Splash from './Splash';\nimport { RegistrationProps, RegistrationStep } from './types';\n\n/**\n * Main Registration component that orchestrates the multi-step registration flow\n */\nconst Registration: React.FC<RegistrationProps> = ({\n    className = '',\n    initialStep = RegistrationStep.SPLASH,\n    onComplete,\n    onCancel\n}) => {\n    // Initialize analytics tracking for registration flow\n    const { trackCustomEvent } = useTransitionAnalytics();\n\n    // Get registration state and handlers from hooks\n    const { data, updateData } = useRegistrationData();\n    const { currentStep, nextStep, previousStep, goToStep } = useRegistrationProgress(initialStep);\n\n    // Calculate the current step index from the current step\n    const currentStepIndex = REGISTRATION_STEPS.indexOf(currentStep);\n\n    // Track registration flow initialization\n    useEffect(() => {\n        trackCustomEvent('registration_flow_initiated', {\n            initial_step: initialStep,\n            timestamp: new Date().toISOString()\n        });\n    }, [trackCustomEvent, initialStep]);\n\n    // Handle completion of the registration flow\n    const handleComplete = useCallback(() => {\n        // Track registration completion\n        trackCustomEvent('registration_completed', {\n            final_step: currentStep,\n            timestamp: new Date().toISOString()\n        });\n\n        if (onComplete && data) {\n            onComplete(data);\n        }\n    }, [onComplete, data, currentStep, trackCustomEvent]);\n\n    // Handle cancellation of registration\n    const handleCancel = useCallback(() => {\n        // Track registration cancellation\n        trackCustomEvent('registration_cancelled', {\n            cancelled_at_step: currentStep,\n            timestamp: new Date().toISOString()\n        });\n\n        if (onCancel) {\n            onCancel();\n        }\n    }, [onCancel, currentStep, trackCustomEvent]);\n\n    // Render the current step based on the current step value\n    const renderCurrentStep = () => {\n        switch (currentStep) {\n            case RegistrationStep.SPLASH:\n                return (\n                    <Splash\n                        data={data}\n                        updateData={updateData}\n                        onNext={nextStep}\n                    />\n                );\n\n            case RegistrationStep.EXPERIENCE_LEVEL:\n                return (\n                    <ExperienceLevel\n                        data={data}\n                        updateData={updateData}\n                        onNext={nextStep}\n                        onBack={previousStep}\n                    />\n                );\n\n            case RegistrationStep.GOALS:\n            case RegistrationStep.EQUIPMENT:\n            case RegistrationStep.TIME_COMMITMENT:\n                return (\n                    <Journey\n                        data={data}\n                        updateData={updateData}\n                        onNext={nextStep}\n                        onBack={previousStep}\n                        currentStep={currentStep}\n                    />\n                );\n\n            case RegistrationStep.PRICING:\n                return (\n                    <Pricing\n                        data={data}\n                        updateData={updateData}\n                        onNext={nextStep}\n                        onBack={previousStep}\n                        onComplete={handleComplete}\n                    />\n                );\n\n            // Add additional steps as needed\n\n            default:\n                return (\n                    <Pricing\n                        data={data}\n                        updateData={updateData}\n                        onNext={nextStep}\n                        onBack={previousStep}\n                        onComplete={handleComplete}\n                    />\n                );\n        }\n    };\n\n    return (\n        <div className={`registration ${className}`}>\n            <div className=\"registration-header\">\n                <button className=\"registration-close\" onClick={handleCancel} aria-label=\"Close\">\n                    <X size={24} />\n                </button>\n                <div className=\"registration-progress\">\n                    <ProgressIndicator\n                        completedSections={(() => {\n                            // Start with the current step and all previous steps\n                            const baseCompletedSections = REGISTRATION_STEPS.slice(0, currentStepIndex + 1).map(step => step.toString());\n\n                            // Add any additional completed sections based on the data\n                            const additionalSections = [];\n\n                            // If we have completed customization sections, mark EQUIPMENT and TIME_COMMITMENT as completed\n                            if (data.completedCustomizationSections?.includes('customize_experience_completed')) {\n                                additionalSections.push(RegistrationStep.EQUIPMENT.toString());\n                            }\n\n                            // Specifically check for time commitment completion\n                            if (data.completedCustomizationSections?.includes('time_commitment_completed')) {\n                                additionalSections.push(RegistrationStep.TIME_COMMITMENT.toString());\n                            }\n\n                            // If we have completed medical information, mark MEDICAL as completed if it exists\n                            if (data.completedCustomizationSections?.includes('medical_information_completed')) {\n                                // Medical doesn't have a specific step in REGISTRATION_STEPS, but we can\n                                // consider it as part of the journey\n                                // No op for now\n                            }\n\n                            // Combine and deduplicate\n                            return [...new Set([...baseCompletedSections, ...additionalSections])];\n                        })()}\n                        totalSections={REGISTRATION_STEPS.length}\n                        sectionLabels={REGISTRATION_STEPS.reduce((acc, step) => {\n                            // Convert enum value to display name (e.g. EXPERIENCE_LEVEL -> Experience Level)\n                            const displayName = step.toString()\n                                .split('_')\n                                .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n                                .join(' ');\n                            acc[step.toString()] = displayName;\n                            return acc;\n                        }, {} as Record<string, string>)}\n                        variant=\"detailed\"\n                        showLabels={true}\n                        accentColor=\"purple\"\n                    />\n                </div>\n            </div>\n            <RegistrationLayout>\n                <AnimatedTransition key={currentStep}>\n                    {renderCurrentStep()}\n                </AnimatedTransition>\n            </RegistrationLayout>\n        </div>\n    );\n};\n\nexport default Registration; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Splash/Splash.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Splash/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/Splash/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/AnimatedTransition.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/NavigationButtons.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/ProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/ProgressIndicator/ProgressIndicator.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_isCompact' is assigned a value but never used.","line":24,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Check } from 'lucide-react';\nimport React from 'react';\nimport './ProgressIndicator.scss';\nimport { ProgressIndicatorProps } from './types';\n\nconst ProgressIndicator: React.FC<ProgressIndicatorProps> = ({\n    completedSections,\n    totalSections,\n    sectionLabels = {},\n    variant = 'default',\n    showLabels = false,\n    accentColor = 'purple',\n    className = '',\n    onSectionClick\n}) => {\n    // Ensure we never report more completed sections than total sections\n    const validCompletedSections = completedSections.slice(0, totalSections);\n    const completionCount = Math.min(validCompletedSections.length, totalSections);\n    const completionPercentage = Math.min((completionCount / totalSections) * 100, 100);\n\n    // Handle variant-specific configurations\n    // _isCompact will be used in the future compact variant implementation \n    // planned in the CompletionContext integration\n    const _isCompact = variant === 'compact';\n    const isDetailed = variant === 'detailed';\n\n    // Get appropriate class names based on variant and accent color\n    const progressContainerClass = `progress-indicator ${variant} accent-${accentColor} ${className}`;\n\n    return (\n        <div className={progressContainerClass}>\n            {showLabels && (\n                <div className=\"progress-summary\">\n                    <span className=\"progress-label\">\n                        {completionCount} of {totalSections} sections complete\n                    </span>\n                    <span className=\"progress-percentage\">\n                        {Math.round(completionPercentage)}%\n                    </span>\n                </div>\n            )}\n\n            <div className=\"progress-bar\">\n                <div\n                    className=\"progress-fill\"\n                    style={{ width: `${completionPercentage}%` }}\n                    role=\"progressbar\"\n                    aria-valuenow={completionPercentage}\n                    aria-valuemin={0}\n                    aria-valuemax={100}\n                />\n            </div>\n\n            {isDetailed && (\n                <div className=\"section-indicators\">\n                    {[...Array(totalSections)].map((_, index) => {\n                        const sectionId = Object.keys(sectionLabels)[index] || `section-${index}`;\n                        const isCompleted = validCompletedSections.includes(sectionId);\n\n                        return (\n                            <div\n                                key={sectionId}\n                                className={`section-marker ${isCompleted ? 'completed' : ''}`}\n                                onClick={() => onSectionClick && onSectionClick(sectionId)}\n                                role={onSectionClick ? \"button\" : undefined}\n                                tabIndex={onSectionClick ? 0 : undefined}\n                                aria-label={sectionLabels[sectionId] || `Section ${index + 1}`}\n                            >\n                                {isCompleted && <Check size={12} />}\n                                {showLabels && (\n                                    <span className=\"section-label\">\n                                        {sectionLabels[sectionId] || `Section ${index + 1}`}\n                                    </span>\n                                )}\n                            </div>\n                        );\n                    })}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ProgressIndicator; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/ProgressIndicator/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/ProgressIndicator/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/RegistrationButton/RegistrationButton.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/RegistrationButton/RegistrationButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/RegistrationButton/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/RegistrationButton/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/RegistrationLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/SectionTitle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/components/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/events/analyticsIntegration.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[350,353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[350,353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":77,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":80,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1873,1876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1873,1876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from 'react';\nimport logger from '../../../utils/logger';\nimport { transitionEventManager } from './transitionEventManager';\nimport { StepTransitionEvent } from './transitionEvents';\n\n/**\n * Interface for analytics service integration\n */\ninterface AnalyticsService {\n    trackEvent(eventName: string, properties: Record<string, any>): void;\n}\n\n/**\n * Mock analytics service implementation\n * This would be replaced with actual service implementations (Google Analytics, Mixpanel, etc.)\n */\nconst analyticsService: AnalyticsService = {\n    trackEvent: (eventName, properties) => {\n        // In a real implementation, this would send to Google Analytics, Mixpanel, etc.\n        if (process.env.NODE_ENV !== 'production') {\n            logger.debug(`[Analytics] ${eventName}`, properties);\n        }\n    }\n};\n\n/**\n * Hook to connect registration step transitions to analytics\n * Automatically tracks all step transitions with the analytics service\n */\nexport const useTransitionAnalytics = () => {\n    useEffect(() => {\n        // Subscribe to all transition events\n        const unsubscribe = transitionEventManager.subscribe((event: StepTransitionEvent) => {\n            // Map our event to analytics format\n            analyticsService.trackEvent('registration_step_change', {\n                from_step: event.sourceStep,\n                to_step: event.destinationStep,\n                transition_type: event.transitionType,\n                timestamp: new Date(event.timestamp).toISOString(),\n                duration_ms: Date.now() - event.timestamp,\n                ...event.metadata\n            });\n        });\n\n        // Cleanup subscription on unmount\n        return () => unsubscribe();\n    }, []);\n\n    // Expose direct access to analytics service for custom events\n    const trackCustomEvent = (eventName: string, properties: Record<string, any>) => {\n        analyticsService.trackEvent(eventName, properties);\n    };\n\n    return { trackCustomEvent };\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/events/transitionEventManager.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":30,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[939,942],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[939,942],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { RegistrationStep } from '../types';\nimport { StepTransitionEvent, TransitionEventListener, TransitionType } from './transitionEvents';\n\n/**\n * Manages registration step transition events and listeners\n */\nclass TransitionEventManager {\n    private listeners: TransitionEventListener[] = [];\n\n    /**\n     * Register a listener for transition events\n     * @returns Function to unsubscribe the listener\n     */\n    public subscribe(listener: TransitionEventListener): () => void {\n        this.listeners.push(listener);\n\n        // Return unsubscribe function\n        return () => {\n            this.listeners = this.listeners.filter(l => l !== listener);\n        };\n    }\n\n    /**\n     * Emit a transition event to all registered listeners\n     */\n    public emitTransition(\n        sourceStep: RegistrationStep,\n        destinationStep: RegistrationStep,\n        transitionType: TransitionType,\n        metadata?: Record<string, any>\n    ): void {\n        const event: StepTransitionEvent = {\n            sourceStep,\n            destinationStep,\n            transitionType,\n            timestamp: Date.now(),\n            metadata\n        };\n\n        // Notify all listeners\n        this.listeners.forEach(listener => listener(event));\n\n        // Log for debugging\n        logger.debug(\n            `[Registration Event] ${sourceStep} → ${destinationStep} (${transitionType})`,\n            metadata ? metadata : ''\n        );\n    }\n}\n\n// Singleton instance\nexport const transitionEventManager = new TransitionEventManager(); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/events/transitionEvents.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":22,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[749,752],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[749,752],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { RegistrationStep } from '../types';\n\n/**\n * Types of transitions between registration steps\n */\nexport enum TransitionType {\n    STANDARD = 'standard',     // Regular next step in sequence\n    MAP_BASED = 'map_based',   // Using STEP_TRANSITION_MAP for non-sequential transitions\n    DIRECT = 'direct',         // Using goToStep for direct navigation\n    BACK = 'back',             // Going backward in flow\n    OVERRIDE = 'override'      // System override (like forced navigation)\n}\n\n/**\n * Event data structure for step transitions\n */\nexport interface StepTransitionEvent {\n    sourceStep: RegistrationStep;\n    destinationStep: RegistrationStep;\n    transitionType: TransitionType;\n    timestamp: number;\n    metadata?: Record<string, any>;\n}\n\n/**\n * Listener function type for transition events\n */\nexport type TransitionEventListener = (event: StepTransitionEvent) => void; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/hooks/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/hooks/useNavigationOverrides.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/hooks/useRegistrationData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/hooks/useRegistrationEvents.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[847,850],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[847,850],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":34,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1282,1285],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1282,1285],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":47,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1706,1709],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1706,1709],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2112,2115],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2112,2115],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":73,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2524,2527],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2524,2527],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useCallback } from 'react';\nimport { transitionEventManager } from '../events/transitionEventManager';\nimport { TransitionEventListener, TransitionType } from '../events/transitionEvents';\nimport { RegistrationStep } from '../types';\n\n/**\n * Hook for working with registration transition events\n * Provides methods to track different types of step transitions\n */\nexport const useRegistrationEvents = () => {\n    // Subscribe to transition events\n    const subscribeToTransitions = useCallback(\n        (listener: TransitionEventListener) => {\n            return transitionEventManager.subscribe(listener);\n        },\n        []\n    );\n\n    // Track standard transition (next in sequence)\n    const trackStandardTransition = useCallback(\n        (sourceStep: RegistrationStep, destinationStep: RegistrationStep, metadata?: Record<string, any>) => {\n            transitionEventManager.emitTransition(\n                sourceStep,\n                destinationStep,\n                TransitionType.STANDARD,\n                metadata\n            );\n        },\n        []\n    );\n\n    // Track map-based transition (using transition map)\n    const trackMapTransition = useCallback(\n        (sourceStep: RegistrationStep, destinationStep: RegistrationStep, metadata?: Record<string, any>) => {\n            transitionEventManager.emitTransition(\n                sourceStep,\n                destinationStep,\n                TransitionType.MAP_BASED,\n                metadata\n            );\n        },\n        []\n    );\n\n    // Track direct navigation (goToStep)\n    const trackDirectNavigation = useCallback(\n        (sourceStep: RegistrationStep, destinationStep: RegistrationStep, metadata?: Record<string, any>) => {\n            transitionEventManager.emitTransition(\n                sourceStep,\n                destinationStep,\n                TransitionType.DIRECT,\n                metadata\n            );\n        },\n        []\n    );\n\n    // Track back navigation\n    const trackBackNavigation = useCallback(\n        (sourceStep: RegistrationStep, destinationStep: RegistrationStep, metadata?: Record<string, any>) => {\n            transitionEventManager.emitTransition(\n                sourceStep,\n                destinationStep,\n                TransitionType.BACK,\n                metadata\n            );\n        },\n        []\n    );\n\n    // Track override navigation\n    const trackOverrideNavigation = useCallback(\n        (sourceStep: RegistrationStep, destinationStep: RegistrationStep, metadata?: Record<string, any>) => {\n            transitionEventManager.emitTransition(\n                sourceStep,\n                destinationStep,\n                TransitionType.OVERRIDE,\n                metadata\n            );\n        },\n        []\n    );\n\n    return {\n        subscribeToTransitions,\n        trackStandardTransition,\n        trackMapTransition,\n        trackDirectNavigation,\n        trackBackNavigation,\n        trackOverrideNavigation\n    };\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/hooks/useRegistrationProgress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/hooks/useRegistrationSubmit.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/tests/RegistrationFlow.test.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleAccountContinue' is assigned a value but never used.","line":64,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":64,"endColumn":32},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'handleAccountBack' is assigned a value but never used.","line":69,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":69,"endColumn":28}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fireEvent, render, screen, waitFor } from '@testing-library/react';\nimport React from 'react';\nimport { RegistrationStep } from '../types';\n\n// Import test setup\nimport './setup';\n\n// Extend RegistrationStep enum for testing\nenum TestRegistrationStep {\n    JOURNEY = 'journey'\n}\n\n// Combine existing enum with test enum\nconst ExtendedRegistrationStep = {\n    ...RegistrationStep,\n    ...TestRegistrationStep\n};\n\n// Create event mocks for tracking component interactions\nconst mockComponentEvents = {\n    onSplashContinue: jest.fn(),\n    onExperienceSelect: jest.fn(),\n    onExperienceContinue: jest.fn(),\n    onExperienceBack: jest.fn(),\n    onEmailChange: jest.fn(),\n    onPasswordChange: jest.fn(),\n    onAccountContinue: jest.fn(),\n    onAccountBack: jest.fn(),\n    onPlanSelect: jest.fn(),\n    onPricingContinue: jest.fn(),\n    onPricingBack: jest.fn(),\n    onTimeCommitmentContinue: jest.fn(),\n    onAnalyticsContinue: jest.fn()\n};\n\n// Create a complete mock Registration component\nconst MockRegistration = jest.fn(({ initialStep = RegistrationStep.SPLASH, onComplete, onCancel }) => {\n    // Minimal implementation to make tests pass\n    const [currentStep, setCurrentStep] = React.useState(initialStep);\n    const [experienceLevel, setExperienceLevel] = React.useState('beginner');\n    const [selectedAnalytics, setSelectedAnalytics] = React.useState<string[]>([]);\n\n    // Setup handlers\n    const handleSplashContinue = React.useCallback(() => {\n        mockComponentEvents.onSplashContinue();\n        setCurrentStep(RegistrationStep.EXPERIENCE_LEVEL);\n    }, []);\n\n    const handleExperienceSelect = React.useCallback((level) => {\n        mockComponentEvents.onExperienceSelect(level);\n        setExperienceLevel(level);\n    }, []);\n\n    const handleExperienceContinue = React.useCallback(() => {\n        mockComponentEvents.onExperienceContinue();\n        setCurrentStep(RegistrationStep.GOALS);\n    }, []);\n\n    const handleExperienceBack = React.useCallback(() => {\n        mockComponentEvents.onExperienceBack();\n        setCurrentStep(RegistrationStep.SPLASH);\n    }, []);\n\n    const handleAccountContinue = React.useCallback(() => {\n        mockComponentEvents.onAccountContinue();\n        setCurrentStep(RegistrationStep.PRICING);\n    }, []);\n\n    const handleAccountBack = React.useCallback(() => {\n        mockComponentEvents.onAccountBack();\n        setCurrentStep(RegistrationStep.TIME_COMMITMENT);\n    }, []);\n\n    const handleTimeCommitmentContinue = React.useCallback(() => {\n        mockComponentEvents.onTimeCommitmentContinue();\n        setCurrentStep(RegistrationStep.PRICING);\n    }, []);\n\n    const handleAnalyticsContinue = React.useCallback(() => {\n        mockComponentEvents.onAnalyticsContinue();\n        // This should now transition directly to PRICING\n        setCurrentStep(RegistrationStep.PRICING);\n    }, []);\n\n    const handlePricingContinue = React.useCallback(() => {\n        mockComponentEvents.onPricingContinue();\n        if (onComplete) onComplete();\n    }, [onComplete]);\n\n    const handlePricingBack = React.useCallback(() => {\n        mockComponentEvents.onPricingBack();\n        setCurrentStep(RegistrationStep.TIME_COMMITMENT);\n    }, []);\n\n    const handleAnalyticsSelect = React.useCallback((feature: string) => {\n        setSelectedAnalytics(prev => {\n            if (prev.includes(feature)) {\n                return prev.filter(f => f !== feature);\n            }\n            return [...prev, feature];\n        });\n    }, []);\n\n    // Progress indicator for testing\n    let progress = 0;\n    switch (currentStep) {\n        case RegistrationStep.SPLASH:\n            progress = 0;\n            break;\n        case RegistrationStep.EXPERIENCE_LEVEL:\n            progress = 20;\n            break;\n        case RegistrationStep.PRICING:\n            progress = 80;\n            break;\n        default:\n            progress = 50;\n    }\n\n    // Reset mock functions on each render\n    React.useEffect(() => {\n        Object.keys(mockComponentEvents).forEach(key => {\n            mockComponentEvents[key].mockClear();\n        });\n    }, []);\n\n    // Render step content\n    let stepContent;\n    switch (currentStep) {\n        case RegistrationStep.SPLASH:\n            stepContent = (\n                <div data-testid=\"splash-screen\">\n                    <h1>Welcome to FitCopilot</h1>\n                    <button onClick={handleSplashContinue}>Get Started</button>\n                </div>\n            );\n            break;\n        case RegistrationStep.EXPERIENCE_LEVEL:\n            stepContent = (\n                <div data-testid=\"experience-level-screen\">\n                    <h2>Your Fitness Experience</h2>\n                    <div>\n                        <button\n                            data-testid=\"beginner-button\"\n                            data-value=\"beginner\"\n                            onClick={() => handleExperienceSelect('beginner')}\n                            data-selected={experienceLevel === 'beginner'}\n                        >\n                            Beginner\n                        </button>\n                        <button\n                            data-testid=\"intermediate-button\"\n                            data-value=\"intermediate\"\n                            onClick={() => handleExperienceSelect('intermediate')}\n                            data-selected={experienceLevel === 'intermediate'}\n                        >\n                            Intermediate\n                        </button>\n                        <button\n                            data-testid=\"advanced-button\"\n                            data-value=\"advanced\"\n                            onClick={() => handleExperienceSelect('advanced')}\n                            data-selected={experienceLevel === 'advanced'}\n                        >\n                            Advanced\n                        </button>\n                    </div>\n                    <button onClick={handleExperienceContinue}>Continue</button>\n                    <button onClick={handleExperienceBack}>Back</button>\n                </div>\n            );\n            break;\n        case RegistrationStep.GOALS:\n            stepContent = (\n                <div data-testid=\"goals-screen\">\n                    <h2>Your Fitness Goals</h2>\n                    <p>Your selected experience level: {experienceLevel}</p>\n                    <div>\n                        <button>Lose Weight</button>\n                        <button>Build Muscle</button>\n                        <button>Improve Fitness</button>\n                    </div>\n                    <button>Continue</button>\n                    <button onClick={() => setCurrentStep(RegistrationStep.EXPERIENCE_LEVEL)}>Back</button>\n                </div>\n            );\n            break;\n        case ExtendedRegistrationStep.JOURNEY:\n            stepContent = (\n                <div data-testid=\"journey-analytics-screen\">\n                    <h2>Track Your Progress</h2>\n                    <div>\n                        <button\n                            data-testid=\"visual-analytics\"\n                            data-selected={selectedAnalytics.includes('visual_analytics')}\n                            onClick={() => handleAnalyticsSelect('visual_analytics')}\n                        >\n                            Visual Analytics\n                        </button>\n                        <button\n                            data-testid=\"achievements\"\n                            data-selected={selectedAnalytics.includes('achievements')}\n                            onClick={() => handleAnalyticsSelect('achievements')}\n                        >\n                            Achievement System\n                        </button>\n                    </div>\n                    <button onClick={handleAnalyticsContinue}>Continue</button>\n                </div>\n            );\n            break;\n        case RegistrationStep.PRICING:\n            stepContent = (\n                <div data-testid=\"pricing-screen\">\n                    <h2>Choose your plan</h2>\n                    <div>\n                        <button\n                            data-plan=\"monthly\"\n                            onClick={() => mockComponentEvents.onPlanSelect('monthly')}\n                        >\n                            Monthly\n                        </button>\n                        <button\n                            data-plan=\"annual\"\n                            onClick={() => mockComponentEvents.onPlanSelect('annual')}\n                        >\n                            Annual\n                        </button>\n                    </div>\n                    <button onClick={handlePricingContinue}>Continue</button>\n                    <button onClick={handlePricingBack}>Back</button>\n                </div>\n            );\n            break;\n        case RegistrationStep.TIME_COMMITMENT:\n            stepContent = (\n                <div data-testid=\"time-commitment-screen\">\n                    <h2>How much time can you commit?</h2>\n                    <button onClick={handleTimeCommitmentContinue}>Continue</button>\n                </div>\n            );\n            break;\n        default:\n            stepContent = <div>Unsupported step: {currentStep}</div>;\n    }\n\n    return (\n        <div>\n            {stepContent}\n            <div\n                role=\"progressbar\"\n                aria-valuenow={progress}\n                aria-valuemin={0}\n                aria-valuemax={100}\n            >\n                Progress: {progress}%\n            </div>\n            <button aria-label=\"Close registration\" onClick={onCancel}>X</button>\n        </div>\n    );\n});\n\n// Mock the Registration component\njest.mock('../Registration', () => MockRegistration);\n\n// Skip mocking individual components that might not exist\njest.mock('../Splash', () => () => null, { virtual: true });\njest.mock('../ExperienceLevel', () => () => null, { virtual: true });\njest.mock('../Pricing', () => () => null, { virtual: true });\njest.mock('../TimeCommitment', () => () => null, { virtual: true });\njest.mock('../Journey', () => () => null, { virtual: true });\n\n// Mock the transition event manager\njest.mock('../events/transitionEventManager', () => ({\n    transitionEventManager: {\n        emitTransition: jest.fn(),\n        subscribe: jest.fn(() => jest.fn()) // Return a mock unsubscribe function\n    }\n}));\n\ndescribe('Registration Flow Integration Tests', () => {\n    beforeEach(() => {\n        jest.clearAllMocks();\n        window.sessionStorage.clear();\n    });\n\n    test('should render splash screen as the initial step', () => {\n        render(<MockRegistration />);\n        expect(screen.getByTestId('splash-screen')).toBeInTheDocument();\n    });\n\n    test('should transition from splash to experience level screen', async () => {\n        render(<MockRegistration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // The splash component's continue handler should be called\n        expect(mockComponentEvents.onSplashContinue).toHaveBeenCalled();\n\n        // After navigation callback, the Experience Level component should be rendered\n        await waitFor(() => {\n            expect(screen.getByTestId('experience-level-screen')).toBeInTheDocument();\n        });\n    });\n\n    test('should handle direct navigation to a specific step', () => {\n        render(<MockRegistration initialStep={RegistrationStep.PRICING} />);\n\n        // Should directly render the pricing screen\n        expect(screen.getByTestId('pricing-screen')).toBeInTheDocument();\n    });\n\n    test('should display progress indicator with correct values', async () => {\n        render(<MockRegistration />);\n\n        // Get initial progress (splash screen)\n        const progressInitial = screen.getByRole('progressbar');\n        expect(progressInitial).toHaveAttribute('aria-valuenow', '0');\n\n        // Navigate to experience level\n        fireEvent.click(screen.getByText('Get Started'));\n\n        // Progress should increase\n        await waitFor(() => {\n            const progressNext = screen.getByRole('progressbar');\n            expect(progressNext).toHaveAttribute('aria-valuenow', '20');\n        });\n    });\n\n    test('should store and persist user data between steps', async () => {\n        render(<MockRegistration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        fireEvent.click(screen.getByText('Intermediate'));\n        expect(mockComponentEvents.onExperienceSelect).toHaveBeenCalledWith('intermediate');\n\n        // Verify the button is marked as selected\n        expect(screen.getByTestId('intermediate-button')).toHaveAttribute('data-selected', 'true');\n\n        // Continue to next step\n        fireEvent.click(screen.getByText('Continue'));\n        expect(mockComponentEvents.onExperienceContinue).toHaveBeenCalled();\n\n        // Should now be on Goals screen with experience level persisted\n        await waitFor(() => {\n            expect(screen.getByTestId('goals-screen')).toBeInTheDocument();\n            // Check that the experience level is shown in the text\n            expect(screen.getByText('Your selected experience level: intermediate')).toBeInTheDocument();\n        });\n    });\n\n    test('should follow direct transition from AnalyticsSelector to PRICING', async () => {\n        render(<MockRegistration initialStep={ExtendedRegistrationStep.JOURNEY} />);\n\n        // Select an analytics feature\n        fireEvent.click(screen.getByTestId('visual-analytics'));\n\n        // Continue from Analytics should trigger special transition path\n        fireEvent.click(screen.getByText('Continue'));\n\n        // Should call the mock function\n        expect(mockComponentEvents.onAnalyticsContinue).toHaveBeenCalled();\n\n        // Should go directly to Pricing screen\n        await waitFor(() => {\n            expect(screen.getByTestId('pricing-screen')).toBeInTheDocument();\n        });\n    });\n\n    test('should follow direct transition from TIME_COMMITMENT to PRICING', async () => {\n        render(<MockRegistration initialStep={RegistrationStep.TIME_COMMITMENT} />);\n\n        // Continue from Time Commitment should go to Pricing (direct transition)\n        fireEvent.click(screen.getByText('Continue'));\n\n        // Should call the mock function\n        expect(mockComponentEvents.onTimeCommitmentContinue).toHaveBeenCalled();\n\n        // Should show Pricing screen\n        await waitFor(() => {\n            expect(screen.getByTestId('pricing-screen')).toBeInTheDocument();\n        });\n    });\n\n    test('should support back navigation to previous steps', async () => {\n        render(<MockRegistration initialStep={RegistrationStep.PRICING} />);\n\n        // Go back from Pricing\n        fireEvent.click(screen.getByText('Back'));\n        expect(mockComponentEvents.onPricingBack).toHaveBeenCalled();\n\n        // Should go back to Time Commitment\n        await waitFor(() => {\n            expect(screen.getByTestId('time-commitment-screen')).toBeInTheDocument();\n        });\n    });\n\n    test('should call completion callback when registration is finished', async () => {\n        const mockOnComplete = jest.fn();\n        render(<MockRegistration onComplete={mockOnComplete} initialStep={RegistrationStep.PRICING} />);\n\n        // Select a plan\n        fireEvent.click(screen.getByText('Monthly'));\n        expect(mockComponentEvents.onPlanSelect).toHaveBeenCalledWith('monthly');\n\n        // Complete the registration\n        fireEvent.click(screen.getByText('Continue'));\n        expect(mockComponentEvents.onPricingContinue).toHaveBeenCalled();\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n    });\n\n    test('should allow cancelling the registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<MockRegistration onCancel={mockOnCancel} />);\n\n        // Click the close button\n        fireEvent.click(screen.getByLabelText('Close registration'));\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n    });\n}); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/tests/analytics.test.tsx","messages":[{"ruleId":null,"fatal":true,"severity":2,"message":"Parsing error: '}' expected.","line":7166,"column":0,"nodeType":null}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fireEvent, render, screen } from '@testing-library/react';\nimport React from 'react';\nimport { transitionEventManager } from '../events/transitionEventManager';\nimport { TransitionType } from '../events/transitionEvents';\nimport { RegistrationStep } from '../types';\n\n// Import test setup\nimport './setup';\n\n// Create mock for analytics service\nconst mockAnalyticsTrack = jest.fn();\nconst mockAnalyticsIdentify = jest.fn();\nconst mockAnalyticsService = {\n    trackEvent: mockAnalyticsTrack,\n    identifyUser: mockAnalyticsIdentify,\n    pageView: jest.fn()\n};\n\n// Mock the useTransitionAnalytics hook\nconst mockTrackStepView = jest.fn((step) => {\n    // Connect to the analytics service\n    mockAnalyticsTrack('registration_view', {\n        step,\n        timestamp: new Date().toISOString()\n    });\n});\n\nconst mockTrackStepTransition = jest.fn((sourceStep, destinationStep, transitionType) => {\n    // Connect to the analytics service\n    mockAnalyticsTrack('registration_step_transition', {\n        sourceStep,\n        destinationStep,\n        transitionType,\n        durationInStep: 1000, // Mock duration\n        timestamp: new Date().toISOString()\n    });\n});\n\nconst mockTrackFormFieldChange = jest.fn((step, field, value) => {\n    // Connect to the analytics service\n    mockAnalyticsTrack('registration_field_change', {\n        step,\n        field,\n        value,\n        timestamp: new Date().toISOString()\n    });\n});\n\nconst mockTrackAccountCreation = jest.fn((email) => {\n    // Connect to the analytics service\n    mockAnalyticsTrack('registration_account_created', {\n        email,\n        timestamp: new Date().toISOString()\n    });\n\n    // Also identify the user\n    mockAnalyticsIdentify('user-123', {\n        email,\n        registrationSource: 'web'\n    });\n});\n\nconst mockTrackCustomEvent = jest.fn((event, data) => {\n    // Connect to the analytics service\n    mockAnalyticsTrack(event, {\n        ...data,\n        timestamp: data.timestamp || new Date().toISOString()\n    });\n});\n\n// Mock the useTransitionAnalytics hook before importing other modules that use it\njest.mock('../events/analyticsIntegration', () => ({\n    useTransitionAnalytics: () => ({\n        trackStepView: mockTrackStepView,\n        trackStepTransition: mockTrackStepTransition,\n        trackFormFieldChange: mockTrackFormFieldChange,\n        trackAccountCreation: mockTrackAccountCreation,\n        trackCustomEvent: mockTrackCustomEvent\n    })\n}));\n\n// Create mock component for testing\nconst MockRegistration = jest.fn(({ initialStep = RegistrationStep.SPLASH, onComplete, onCancel }) => {\n    // Track initial step view\n    React.useEffect(() => {\n        mockTrackStepView(initialStep);\n    }, [initialStep]);\n\n    // Simulate navigation handler - will also trigger transition events\n    const handleNextStep = (currentStep: RegistrationStep, destinationStep: RegistrationStep) => {\n        // Track the transition\n        mockTrackStepTransition(currentStep, destinationStep, TransitionType.STANDARD);\n\n        // Track view of new step\n        mockTrackStepView(destinationStep);\n    };\n\n    // Render appropriate content based on step\n    const renderStepContent = () => {\n        switch (initialStep) {\n            case RegistrationStep.SPLASH:\n                return (\n                    <div data-testid=\"splash-screen\">\n                        <h1>Welcome to FitCopilot</h1>\n                        <button onClick={() => handleNextStep(\n                            RegistrationStep.SPLASH,\n                            RegistrationStep.EXPERIENCE_LEVEL\n                        )}>\n                            Get Started\n                        </button>\n                    </div>\n                );\n            case RegistrationStep.EXPERIENCE_LEVEL:\n                return (\n                    <div data-testid=\"experience-level-screen\">\n                        <h2>Select Experience Level</h2>\n                        <select\n                            onChange={(e) => {\n                                mockTrackFormFieldChange(\n                                    RegistrationStep.EXPERIENCE_LEVEL,\n                                    'experience_level',\n                                    e.target.value\n                                );\n                            }}\n                        >\n                            <option value=\"beginner\">Beginner</option>\n                            <option value=\"intermediate\">Intermediate</option>\n                            <option value=\"advanced\">Advanced</option>\n                        </select>\n                        <button onClick={() => handleNextStep(\n                            RegistrationStep.EXPERIENCE_LEVEL,\n                            RegistrationStep.GOALS\n                        )}>\n                            Continue\n                        </button>\n                    </div>\n                );\n            case RegistrationStep.PRICING:\n                return (\n                    <div data-testid=\"pricing-screen\">\n                        <h2>Choose Your Plan</h2>\n                        <div>\n                            <button\n                                onClick={() => {\n                                    mockTrackFormFieldChange(\n                                        RegistrationStep.PRICING,\n                                        'plan_selection',\n                                        'monthly'\n                                    );\n                                }}\n                            >\n                                Monthly\n                            </button>\n                            <button\n                                onClick={() => {\n                                    mockTrackFormFieldChange(\n                                        RegistrationStep.PRICING,\n                                        'plan_selection',\n                                        'annual'\n                                    );\n                                }}\n                            >\n                                Annual\n                            </button>\n                        </div>\n                        <button onClick={() => {\n                            // Complete registration\n                            mockTrackCustomEvent('registration_completed', {\n                                finalStep: RegistrationStep.PRICING,\n                                timestamp: new Date().toISOString()\n                            });\n\n                            if (onComplete) {\n                                onComplete({\n                                    plan: 'monthly',\n                                    email: 'test@example.com'\n                                });\n                            }\n                        }}>\n                            Complete Registration\n                        </button>\n                        <button onClick={() => {\n                            handleNextStep(\n                                RegistrationStep.PRICING,\n                                RegistrationStep.TIME_COMMITMENT,\n                            );\n                        }}>\n                            Go Back\n                        </button>\n                    </div>\n                );\n            default:\n                return <div>Unknown Step</div>;\n        }\n    };\n\n    return (\n        <div className=\"registration-flow\">\n            {renderStepContent()}\n            <button\n                aria-label=\"Close registration\"\n                onClick={() => {\n                    mockTrackCustomEvent('registration_cancelled', {\n                        step: initialStep || RegistrationStep.SPLASH,\n                        timestamp: new Date().toISOString()\n                    });\n                    if (onCancel) onCancel();\n                }}\n            >\n                X\n            </button>\n        </div>\n    );\n});\n\n// Create a Registration component to use in tests\nconst Registration = MockRegistration;\n\n// Mock the actual Registration component in the module system\njest.mock('../Registration', () => MockRegistration);\n\n// Mock setup for useRegistrationEvents that gets used by the transitionEventManager\njest.mock('../hooks/useRegistrationEvents', () => ({\n    useRegistrationEvents: () => ({\n        trackStandardTransition: jest.fn(),\n        trackMapTransition: jest.fn(),\n        trackDirectNavigation: jest.fn(),\n        trackBackNavigation: jest.fn(),\n        trackOverrideNavigation: jest.fn(),\n    }),\n}));\n\n// Mock global window.fitcopilot object\n// @ts-expect-error: Mocking global object\nwindow.fitcopilot = {\n    analytics: {\n        trackEvent: jest.fn()\n    }\n};\n\ndescribe('Registration Analytics Integration', () => {\n    beforeEach(() => {\n        // Reset mocks and clean up\n        jest.clearAllMocks();\n        window.sessionStorage.clear();\n\n        // Setup mock analytics service\n        // @ts-ignore: Mocking global object\n        global.analyticsService = mockAnalyticsService;\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_step_transition',\n            expect.objectContaining({\n                sourceStep: RegistrationStep.SPLASH,\n                destinationStep: RegistrationStep.EXPERIENCE_LEVEL,\n                transitionType: TransitionType.STANDARD,\n            })\n        );\n\n        // Should also track the new step view\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.EXPERIENCE_LEVEL);\n    });\n\n    test('should track form field changes with appropriate data', async () => {\n        render(<Registration initialStep={RegistrationStep.EXPERIENCE_LEVEL} />);\n\n        // Select experience level\n        const experienceSelect = screen.getByRole('combobox');\n        fireEvent.change(experienceSelect, { target: { value: 'intermediate' } });\n\n        // Should track the field change\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.EXPERIENCE_LEVEL,\n            'experience_level',\n            'intermediate'\n        );\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.EXPERIENCE_LEVEL,\n                field: 'experience_level',\n                value: 'intermediate',\n            })\n        );\n    });\n\n    test('should mask sensitive data in analytics tracking', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Enter password\n        const passwordInput = screen.getByLabelText('password');\n        fireEvent.change(passwordInput, { target: { value: 'mySecretPassword123' } });\n\n        // Should track with masked value\n        expect(mockTrackFormFieldChange).toHaveBeenCalledWith(\n            RegistrationStep.PRICING,\n            'password',\n            'masked-value' // Not actual password\n        );\n\n        // Should track via analytics with masked value\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_field_change',\n            expect.objectContaining({\n                step: RegistrationStep.PRICING,\n                field: 'password',\n                value: 'masked-value', // Not actual password\n            })\n        );\n    });\n\n    test('should track account creation and identify user', async () => {\n        render(<Registration initialStep={RegistrationStep.PRICING} />);\n\n        // Fill in account details\n        const emailInput = screen.getByLabelText('email');\n        const passwordInput = screen.getByLabelText('password');\n\n        // Use data-testid instead of role/type to get the right button\n        const submitButton = screen.getByTestId('create-account-button');\n\n        fireEvent.change(emailInput, { target: { value: 'test@example.com' } });\n        fireEvent.change(passwordInput, { target: { value: 'securePassword123' } });\n        fireEvent.click(submitButton);\n\n        // Should track account creation\n        expect(mockTrackAccountCreation).toHaveBeenCalledWith('test@example.com');\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_account_created',\n            expect.objectContaining({\n                email: 'test@example.com',\n            })\n        );\n\n        // Should identify the user\n        expect(mockAnalyticsIdentify).toHaveBeenCalledWith(\n            expect.any(String),\n            expect.objectContaining({\n                email: 'test@example.com',\n                registrationSource: 'web'\n            })\n        );\n    });\n\n    test('should track completion of registration flow', async () => {\n        const mockOnComplete = jest.fn();\n        render(<Registration initialStep={RegistrationStep.PRICING} onComplete={mockOnComplete} />);\n\n        // Complete registration\n        const completeButton = screen.getByText('Complete Registration');\n        fireEvent.click(completeButton);\n\n        // Should track completion event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n\n        // Should call the onComplete callback\n        expect(mockOnComplete).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_completed',\n            expect.objectContaining({\n                finalStep: RegistrationStep.PRICING,\n            })\n        );\n    });\n\n    test('should track cancellation of registration flow', async () => {\n        const mockOnCancel = jest.fn();\n        render(<Registration onCancel={mockOnCancel} />);\n\n        // Find and click the close button\n        const closeButton = screen.getByLabelText('Close registration');\n        fireEvent.click(closeButton);\n\n        // Should track cancellation event\n        expect(mockTrackCustomEvent).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n\n        // Should call the onCancel callback\n        expect(mockOnCancel).toHaveBeenCalled();\n\n        // Should track via analytics service\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_cancelled',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should integrate with the transitionEventManager for event tracking', async () => {\n        // Setup a subscriber to the transitionEventManager\n        let capturedEvent = null;\n        const unsubscribe = transitionEventManager.subscribe(event => {\n            capturedEvent = event;\n        });\n\n        // Emit a custom event through the manager\n        transitionEventManager.emitTransition(\n            RegistrationStep.GOALS,\n            RegistrationStep.EQUIPMENT,\n            TransitionType.DIRECT,\n            { userAction: 'skip_button' }\n        );\n\n        // Verify event was captured with correct data\n        expect(capturedEvent).toEqual(\n            expect.objectContaining({\n                sourceStep: RegistrationStep.GOALS,\n                destinationStep: RegistrationStep.EQUIPMENT,\n                transitionType: TransitionType.DIRECT,\n                metadata: expect.objectContaining({\n                    userAction: 'skip_button'\n                })\n            })\n        );\n\n        // Clean up\n        unsubscribe();\n    });\n\n    test('should track step view analytics events', async () => {\n        render(<Registration />);\n\n        // Splash view should be tracked\n        expect(mockTrackStepView).toHaveBeenCalledWith(RegistrationStep.SPLASH);\n\n        // The step view would have triggered the analytics call\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_view',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n            })\n        );\n    });\n\n    test('should track step transitions with all metadata', async () => {\n        render(<Registration />);\n\n        // Find and click the \"Get Started\" button\n        const getStartedButton = screen.getByText('Get Started');\n        fireEvent.click(getStartedButton);\n\n        // Should track the transition between steps\n        expect(mockTrackStepTransition).toHaveBeenCalledWith(\n            RegistrationStep.SPLASH,\n            RegistrationStep.EXPERIENCE_LEVEL,\n            TransitionType.STANDARD\n        );\n\n        // Should track the analytics event\n        expect(mockAnalyticsTrack).toHaveBeenCalledWith(\n            'registration_transition',\n            expect.objectContaining({\n                step: RegistrationStep.SPLASH,\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/tests/setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/tests/transitionEvents.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/tests/useRegistrationProgress.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/utils/dataTransformers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/utils/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/utils/registrationApi.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":18,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[582,585],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[582,585],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":78,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":78,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2495,2498],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2495,2498],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":130,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":130,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4237,4240],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4237,4240],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import logger from '../../../utils/logger';\nimport { RegistrationData } from '../types';\n\n// Create API-specific logger\nconst apiLogger = logger.addContext('RegistrationAPI');\n\n/**\n * Submit registration data to WordPress backend\n * \n * @param data - Registration data to submit\n * @returns Promise with the submission response\n */\nexport const submitRegistration = async (data: RegistrationData) => {\n    const timerId = apiLogger.time('submitRegistration');\n\n    try {\n        // Get the WordPress REST API URL and nonce from the global variable\n        const wpData = (window as any).athleteDashboardData?.wpData || {};\n        const restUrl = wpData.restUrl || '/wp-json';\n        const nonce = wpData.nonce || '';\n\n        apiLogger.debug('Submitting registration data', {\n            endpoint: `${restUrl}/fitcopilot/v1/registration`,\n            dataFields: Object.keys(data)\n        });\n\n        // Create request options\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-WP-Nonce': nonce,\n            },\n            body: JSON.stringify(data),\n        };\n\n        // Make the API request\n        const response = await fetch(`${restUrl}/fitcopilot/v1/registration`, options);\n\n        // Check if the request was successful\n        if (!response.ok) {\n            const errorData = await response.json();\n            const errorMessage = errorData.message || 'Failed to submit registration';\n            apiLogger.error('Registration submission failed', {\n                status: response.status,\n                statusText: response.statusText,\n                errorMessage\n            });\n            throw new Error(errorMessage);\n        }\n\n        // Parse the response data\n        const result = await response.json();\n        apiLogger.info('Registration submission successful', {\n            userId: result.user_id,\n            status: result.status\n        });\n\n        apiLogger.timeEnd(timerId);\n        return result;\n    } catch (error) {\n        apiLogger.error('Registration submission error', { error });\n        apiLogger.timeEnd(timerId);\n        throw error;\n    }\n};\n\n/**\n * Validate an email address for registration\n * \n * @param email - Email address to validate\n * @returns Promise with validation result\n */\nexport const validateEmail = async (email: string) => {\n    const timerId = apiLogger.time('validateEmail');\n\n    try {\n        const wpData = (window as any).athleteDashboardData?.wpData || {};\n        const restUrl = wpData.restUrl || '/wp-json';\n        const nonce = wpData.nonce || '';\n\n        apiLogger.debug('Validating email address', {\n            endpoint: `${restUrl}/fitcopilot/v1/validate-email`,\n            email: email.slice(0, 3) + '***' // Log partial email for privacy\n        });\n\n        const response = await fetch(\n            `${restUrl}/fitcopilot/v1/validate-email?email=${encodeURIComponent(email)}`,\n            {\n                method: 'GET',\n                headers: {\n                    'X-WP-Nonce': nonce,\n                },\n            }\n        );\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            const errorMessage = errorData.message || 'Failed to validate email';\n            apiLogger.error('Email validation failed', {\n                status: response.status,\n                statusText: response.statusText,\n                errorMessage\n            });\n            throw new Error(errorMessage);\n        }\n\n        const result = await response.json();\n        apiLogger.debug('Email validation successful', { isValid: result.isValid });\n\n        apiLogger.timeEnd(timerId);\n        return result;\n    } catch (error) {\n        apiLogger.error('Email validation error', { error });\n        apiLogger.timeEnd(timerId);\n        throw error;\n    }\n};\n\n/**\n * Get initial workout recommendation based on user selections\n * \n * @param data - User profile data\n * @returns Promise with workout recommendation data\n */\nexport const getWorkoutRecommendation = async (data: Partial<RegistrationData>) => {\n    const timerId = apiLogger.time('getWorkoutRecommendation');\n\n    try {\n        const wpData = (window as any).athleteDashboardData?.wpData || {};\n        const restUrl = wpData.restUrl || '/wp-json';\n        const nonce = wpData.nonce || '';\n\n        apiLogger.debug('Requesting workout recommendation', {\n            endpoint: `${restUrl}/fitcopilot/v1/workout-recommendation`,\n            experienceLevel: data.experienceLevel,\n            hasGoals: Boolean(data.goals),\n            hasEquipment: Boolean(data.equipment)\n        });\n\n        const response = await fetch(`${restUrl}/fitcopilot/v1/workout-recommendation`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'X-WP-Nonce': nonce,\n            },\n            body: JSON.stringify({\n                experienceLevel: data.experienceLevel,\n                goals: data.goals,\n                equipment: data.equipment,\n                timeCommitment: data.timeCommitment,\n            }),\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            const errorMessage = errorData.message || 'Failed to get workout recommendation';\n            apiLogger.error('Workout recommendation failed', {\n                status: response.status,\n                statusText: response.statusText,\n                errorMessage\n            });\n            throw new Error(errorMessage);\n        }\n\n        const result = await response.json();\n        apiLogger.info('Workout recommendation successful', {\n            recommendationId: result.id,\n            programCount: result.programs?.length || 0\n        });\n\n        apiLogger.timeEnd(timerId);\n        return result;\n    } catch (error) {\n        apiLogger.error('Workout recommendation error', { error });\n        apiLogger.timeEnd(timerId);\n        throw error;\n    }\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/utils/scrollUtils.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":246,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8576,8579],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8576,8579],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":246,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8586,8589],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8586,8589],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":253,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":253,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8744,8747],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8744,8747],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Unified utility functions for scrolling in the Registration feature\n * These are provided as helpers but don't forcibly prevent user scrolling\n */\n\n/**\n * Get the height of fixed elements at the top of the page (e.g., headers, navigation)\n * \n * @returns Fixed header height in pixels\n */\nexport const getFixedHeaderHeight = (): number => {\n    // This could be calculated dynamically based on actual DOM elements\n    // For now, assuming a fixed height - adjust as needed for your layout\n    return 60;\n};\n\n/**\n * Calculate an appropriate offset based on viewport size and element height\n * \n * @param element Element to calculate offset for\n * @param minOffset Minimum offset (default: 20px)\n * @returns Calculated offset in pixels\n */\nexport const calculateDynamicOffset = (element: HTMLElement, minOffset = 20): number => {\n    // Get viewport height\n    const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n\n    // Get element height\n    const elementHeight = element.offsetHeight;\n\n    // If element is taller than 70% of viewport, use a smaller offset\n    // to maximize visible content\n    if (elementHeight > viewportHeight * 0.7) {\n        // Use minimum offset, plus header height\n        return minOffset + getFixedHeaderHeight();\n    }\n\n    // Otherwise, center shorter elements more with a larger offset\n    // But don't exceed 25% of viewport height\n    const calculatedOffset = Math.min(viewportHeight * 0.25, 120);\n    return Math.max(calculatedOffset, minOffset + getFixedHeaderHeight());\n};\n\n/**\n * Helper function to optionally scroll to an element when needed.\n * Uses auto behavior by default to avoid interfering with user scrolling.\n *\n * @param elementId ID of the element to scroll to\n * @param offset Offset from the top in pixels\n * @param behavior Scroll behavior (default: auto)\n */\nexport const scrollToElement = (\n    elementId: string,\n    offset = 20,\n    behavior: ScrollBehavior = 'auto'\n): void => {\n    try {\n        const element = document.getElementById(elementId);\n        if (!element) {\n            logger.warn(`Element with ID \"${elementId}\" not found`);\n            return;\n        }\n\n        // Always respect user's reduced motion preference\n        const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n        const effectiveBehavior = prefersReducedMotion ? 'auto' : behavior;\n\n        // Calculate dynamic offset based on element size\n        const dynamicOffset = calculateDynamicOffset(element, offset);\n\n        // Get element position\n        const rect = element.getBoundingClientRect();\n        const targetPosition = rect.top + window.pageYOffset - dynamicOffset;\n\n        // Perform the scroll, but don't force it\n        window.scrollTo({\n            top: targetPosition,\n            behavior: effectiveBehavior\n        });\n    } catch (error) {\n        logger.error('Error scrolling to element:', error);\n    }\n};\n\n/**\n * Helper function to scroll to a journey step card\n *\n * @param stepIndex Index of the step to scroll to\n * @param offset Optional offset from the top of the step (in pixels)\n */\nexport const scrollToJourneyStep = (stepIndex: number, offset = 20): void => {\n    scrollToElement(`journey-step-${stepIndex}`, offset);\n};\n\n/**\n * Helper function to scroll to expanded content within a step\n *\n * @param stepIndex Index of the step containing the content\n * @param offset Optional offset from the top of the content (in pixels)\n */\nexport const scrollToExpandedContent = (stepIndex: number, offset = 20): void => {\n    scrollToElement(`step-content-${stepIndex}`, offset);\n};\n\n/**\n * Helper function to scroll to a specific accordion section\n * \n * @param sectionId ID of the accordion section\n * @param offset Optional offset from the top of the section (in pixels)\n */\nexport const scrollToAccordionSection = (sectionId: string, offset = 20): void => {\n    scrollToElement(`accordion-section-${sectionId}`, offset);\n};\n\n/**\n * Adjusts scroll position after content expands to ensure new content is visible\n * \n * @param elementId ID of the expanded container element\n * @param expandedContentSelector CSS selector for the expanded content inside the container\n * @param offset Optional offset from the top (in pixels)\n */\nexport const adjustScrollAfterExpand = (\n    elementId: string,\n    expandedContentSelector = '.expanded-content',\n    offset = 20\n): void => {\n    try {\n        const container = document.getElementById(elementId);\n        if (!container) return;\n\n        // Find the expanded content inside the container\n        const expandedContent = container.querySelector(expandedContentSelector);\n        if (!expandedContent) return;\n\n        // Check if the bottom of the expanded content is in view\n        const expandedRect = expandedContent.getBoundingClientRect();\n        const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n\n        // If the expanded content extends below the viewport\n        if (expandedRect.bottom > viewportHeight) {\n            // Calculate how much additional scroll is needed\n            const additionalScroll = Math.min(\n                expandedRect.bottom - viewportHeight + offset,\n                expandedRect.height / 2 // Don't scroll more than half the expanded height\n            );\n\n            // Apply the additional scroll with a short delay to allow any transitions to complete\n            setTimeout(() => {\n                window.scrollBy({\n                    top: additionalScroll,\n                    behavior: 'smooth'\n                });\n            }, 300);\n        }\n    } catch (error) {\n        logger.error('Error adjusting scroll after expand:', error);\n    }\n};\n\n/**\n * Determine if an element is in the viewport\n *\n * @param element The element to check\n * @param offset Optional offset from top and bottom of viewport\n * @returns True if the element is in the viewport\n */\nexport const isElementInViewport = (element: HTMLElement, offset = 100): boolean => {\n    const rect = element.getBoundingClientRect();\n    const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n    const viewportWidth = window.innerWidth || document.documentElement.clientWidth;\n\n    return (\n        rect.top >= -offset &&\n        rect.left >= 0 &&\n        rect.bottom <= (viewportHeight + offset) &&\n        rect.right <= viewportWidth\n    );\n};\n\n/**\n * Check if an element is fully visible in the viewport\n * \n * @param element The element to check\n * @returns True if element is fully visible\n */\nexport const isElementFullyVisible = (element: HTMLElement): boolean => {\n    const rect = element.getBoundingClientRect();\n    const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n\n    return (\n        rect.top >= 0 &&\n        rect.bottom <= viewportHeight\n    );\n};\n\n/**\n * Ensure an expanded dropdown's content is visible by scrolling if needed\n * \n * @param dropdownId ID of the dropdown container\n * @param contentSelector CSS selector for the dropdown content\n */\nexport const ensureDropdownContentVisible = (\n    dropdownId: string,\n    contentSelector = '.dropdown-content'\n): void => {\n    try {\n        const dropdown = document.getElementById(dropdownId);\n        if (!dropdown) return;\n\n        const content = dropdown.querySelector(contentSelector);\n        if (!content) return;\n\n        // Get content position\n        const rect = content.getBoundingClientRect();\n        const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n\n        // If content is larger than viewport, scroll to top of dropdown with offset\n        if (rect.height > viewportHeight * 0.7) {\n            scrollToElement(dropdownId, getFixedHeaderHeight() + 20);\n            return;\n        }\n\n        // If bottom of content is below viewport\n        if (rect.bottom > viewportHeight) {\n            // Calculate how much we need to scroll\n            const scrollAmount = rect.bottom - viewportHeight + 40; // 40px extra padding\n\n            window.scrollBy({\n                top: scrollAmount,\n                behavior: 'smooth'\n            });\n        }\n    } catch (error) {\n        logger.error('Error ensuring dropdown content visibility:', error);\n    }\n};\n\n/**\n * Throttle function to limit the rate at which a function can fire\n * Improved implementation combining both previous versions\n * \n * @param func Function to throttle\n * @param limit Time limit in milliseconds\n * @returns Throttled function\n */\nexport const throttle = <T extends (...args: any[]) => any>(\n    func: T,\n    limit: number\n): ((...args: Parameters<T>) => void) => {\n    let lastCall = 0;\n    let inThrottle = false;\n\n    return function (this: any, ...args: Parameters<T>) {\n        const now = Date.now();\n\n        // Use time-based throttling as primary mechanism (from CustomizeExperience)\n        if (now - lastCall >= limit) {\n            lastCall = now;\n            func.apply(this, args);\n            inThrottle = false;\n        } else if (!inThrottle) {\n            // Fallback to simpler throttling (from Journey) when needed\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit - (now - lastCall));\n        }\n    };\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/features/Registration/utils/validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/hooks/useAnimation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/hooks/useWordPress.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[538,541],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[538,541],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":57,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1956,1959],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1956,1959],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState } from 'react';\nimport { WordPressData } from '../types/wordpress';\n\n/**\n * Custom hook to access WordPress data\n * @returns WordPress data from window or fallback\n */\nexport const useWordPress = (): WordPressData => {\n  const [wpData, setWpData] = useState<WordPressData>(() => {\n    // Try to get data from window object\n    if (typeof window !== 'undefined' && window.athleteDashboardData?.wpData) {\n      // Cast to any to avoid TypeScript errors\n      const wpObj = window.athleteDashboardData.wpData as any;\n\n      return {\n        siteLinks: wpObj.siteLinks || {\n          registration: 'https://aigymengine.com/workout-generator-registration',\n          login: 'https://aigymengine.com/react-login',\n        },\n        assets: wpObj.assets || {\n          logo: 'http://fitcopilot-theme.local/wp-content/uploads/2025/05/AI-Workout-Generater-TransparentBG-400x516-1.png'\n        },\n        themeVariants: wpObj.themeVariants || {},\n        demoMode: wpObj.demoMode || false,\n        features: [],\n        journey: [],\n        testimonials: [],\n        pricing: [],\n        footerLinks: []\n      };\n    }\n\n    // Fallback data\n    return {\n      siteLinks: {\n        registration: 'https://aigymengine.com/workout-generator-registration',\n        login: 'https://aigymengine.com/react-login',\n      },\n      assets: {\n        logo: 'http://fitcopilot-theme.local/wp-content/uploads/2025/05/AI-Workout-Generater-TransparentBG-400x516-1.png'\n      },\n      themeVariants: {},\n      demoMode: false,\n      features: [],\n      journey: [],\n      testimonials: [],\n      pricing: [],\n      footerLinks: []\n    };\n  });\n\n  useEffect(() => {\n    // Update data if window.athleteDashboardData changes\n    const handleDataChange = () => {\n      if (typeof window !== 'undefined' && window.athleteDashboardData?.wpData) {\n        // Cast to any to avoid TypeScript errors\n        const wpObj = window.athleteDashboardData.wpData as any;\n\n        setWpData({\n          siteLinks: wpObj.siteLinks || wpData.siteLinks,\n          assets: wpObj.assets || wpData.assets,\n          themeVariants: wpObj.themeVariants || wpData.themeVariants,\n          demoMode: wpObj.demoMode || wpData.demoMode,\n          features: [],\n          journey: [],\n          testimonials: [],\n          pricing: [],\n          footerLinks: []\n        });\n      }\n    };\n\n    // Listen for custom event if data is loaded asynchronously\n    window.addEventListener('athleteDashboardDataLoaded', handleDataChange);\n\n    return () => {\n      window.removeEventListener('athleteDashboardDataLoaded', handleDataChange);\n    };\n  }, [wpData]);\n\n  return wpData;\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/react-app-env.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[155,158],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[155,158],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/// <reference types=\"react\" />\n/// <reference types=\"react-dom\" />\n\ndeclare namespace JSX {\n    interface IntrinsicElements {\n        [elemName: string]: any;\n    }\n} ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/scripts/image-optimization/generate-responsive-images.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/services/implementations/WordPressService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":117,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3841,3844],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3841,3844],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":127,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4155,4158],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4155,4158],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":136,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":136,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4377,4380],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4377,4380],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":143,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4574,4577],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4574,4577],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":150,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4757,4760],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4757,4760],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":157,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":157,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4937,4940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4937,4940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":164,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":164,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5129,5132],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5129,5132],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":171,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":171,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5321,5324],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5321,5324],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":178,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":178,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5512,5515],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5512,5515],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Concrete implementation of the WordPress service\n * \n * This service accesses WordPress data from the window object\n * and provides it to the application. It includes fallback data\n * and event handling for data changes.\n */\n\nimport {\n    Assets,\n    SiteLinks,\n    ThemeVariants,\n    WordPressService,\n    WordPressServiceData,\n    WordPressServiceEventHandlers\n} from '../interfaces/wordpress';\n\nimport {\n    Feature,\n    FooterLinkGroup,\n    JourneyStep,\n    PricingPlan,\n    Testimonial\n} from '../../types/wordpress';\n\nimport logger from '../../utils/logger';\n\nclass DefaultWordPressService implements WordPressService {\n    private data: WordPressServiceData;\n    private subscribers: WordPressServiceEventHandlers[] = [];\n\n    constructor() {\n        // Initialize with default/fallback data\n        this.data = this.getInitialData();\n\n        // Set up event listener for data changes if in browser environment\n        if (typeof window !== 'undefined') {\n            // Listen for custom event from WordPress\n            window.addEventListener('athleteDashboardDataLoaded', this.handleDataChange);\n\n            // Get initial data from window if available\n            this.handleDataChange();\n        }\n    }\n\n    /**\n     * Get initial data with fallbacks\n     */\n    private getInitialData(): WordPressServiceData {\n        const fallbackData: WordPressServiceData = {\n            siteLinks: {\n                registration: 'https://builder.fitcopilot.ai/register',\n                login: 'https://builder.fitcopilot.ai/login',\n            },\n            assets: {\n                logo: 'http://fitcopilot-theme.local/wp-content/uploads/2025/05/AI-Workout-Generater-TransparentBG-400x516-1.png',\n            },\n            themeVariants: {},\n            demoMode: false,\n            features: [],\n            journey: [],\n            testimonials: [],\n            pricing: [],\n            footerLinks: [],\n        };\n\n        // Try to get data from window if available\n        if (typeof window !== 'undefined' && window.athleteDashboardData?.wpData) {\n            const wpData = window.athleteDashboardData.wpData;\n\n            return {\n                siteLinks: this.extractSiteLinks(wpData),\n                assets: this.extractAssets(wpData),\n                themeVariants: this.extractThemeVariants(wpData),\n                demoMode: this.extractDemoMode(wpData),\n                features: this.extractFeatures(wpData),\n                journey: this.extractJourney(wpData),\n                testimonials: this.extractTestimonials(wpData),\n                pricing: this.extractPricing(wpData),\n                footerLinks: this.extractFooterLinks(wpData),\n            };\n        }\n\n        return fallbackData;\n    }\n\n    /**\n     * Handle data change event from WordPress\n     */\n    private handleDataChange = () => {\n        if (typeof window !== 'undefined' && window.athleteDashboardData?.wpData) {\n            const wpData = window.athleteDashboardData.wpData;\n\n            const newData: WordPressServiceData = {\n                siteLinks: this.extractSiteLinks(wpData),\n                assets: this.extractAssets(wpData),\n                themeVariants: this.extractThemeVariants(wpData),\n                demoMode: this.extractDemoMode(wpData),\n                features: this.extractFeatures(wpData),\n                journey: this.extractJourney(wpData),\n                testimonials: this.extractTestimonials(wpData),\n                pricing: this.extractPricing(wpData),\n                footerLinks: this.extractFooterLinks(wpData),\n            };\n\n            // Update internal data\n            this.data = newData;\n\n            // Notify subscribers\n            this.notifySubscribers();\n        }\n    };\n\n    /**\n     * Extract site links from WordPress data\n     */\n    private extractSiteLinks(wpData: any): SiteLinks {\n        return {\n            registration: wpData.siteLinks?.registration || this.data?.siteLinks.registration,\n            login: wpData.siteLinks?.login || this.data?.siteLinks.login,\n        };\n    }\n\n    /**\n     * Extract assets from WordPress data\n     */\n    private extractAssets(wpData: any): Assets {\n        return {\n            logo: wpData.assets?.logo || this.data?.assets.logo,\n        };\n    }\n\n    /**\n     * Extract theme variants from WordPress data\n     */\n    private extractThemeVariants(wpData: any): ThemeVariants {\n        return wpData.themeVariants || this.data?.themeVariants || {};\n    }\n\n    /**\n     * Extract demo mode from WordPress data\n     */\n    private extractDemoMode(wpData: any): boolean {\n        return wpData.demoMode || this.data?.demoMode || false;\n    }\n\n    /**\n     * Extract features from WordPress data\n     */\n    private extractFeatures(wpData: any): Feature[] {\n        return wpData.features || this.data?.features || [];\n    }\n\n    /**\n     * Extract journey from WordPress data\n     */\n    private extractJourney(wpData: any): JourneyStep[] {\n        return wpData.journey || this.data?.journey || [];\n    }\n\n    /**\n     * Extract testimonials from WordPress data\n     */\n    private extractTestimonials(wpData: any): Testimonial[] {\n        return wpData.testimonials || this.data?.testimonials || [];\n    }\n\n    /**\n     * Extract pricing from WordPress data\n     */\n    private extractPricing(wpData: any): PricingPlan[] {\n        return wpData.pricing || this.data?.pricing || [];\n    }\n\n    /**\n     * Extract footer links from WordPress data\n     */\n    private extractFooterLinks(wpData: any): FooterLinkGroup[] {\n        return wpData.footerLinks || this.data?.footerLinks || [];\n    }\n\n    /**\n     * Notify all subscribers of data changes\n     */\n    private notifySubscribers() {\n        this.subscribers.forEach((handlers) => {\n            if (handlers.onDataChange) {\n                handlers.onDataChange(this.data);\n            }\n        });\n    }\n\n    /**\n     * Get the current WordPress data\n     */\n    public getData(): WordPressServiceData {\n        return { ...this.data };\n    }\n\n    /**\n     * Subscribe to data changes\n     * @param handlers Event handlers for data changes\n     * @returns Unsubscribe function\n     */\n    public subscribe(handlers: WordPressServiceEventHandlers): () => void {\n        this.subscribers.push(handlers);\n\n        // Return unsubscribe function\n        return () => {\n            const index = this.subscribers.indexOf(handlers);\n            if (index > -1) {\n                this.subscribers.splice(index, 1);\n            }\n        };\n    }\n\n    /**\n     * Get a specific theme variant\n     * @param key The variant key\n     * @param defaultVariant Default value if variant doesn't exist\n     */\n    public getThemeVariant<T extends string>(key: string, defaultVariant: T): T {\n        const variants = this.data.themeVariants;\n\n        // Debug information\n        logger.debug('Available theme variants:', variants);\n        logger.debug(`Looking for variant with key: ${key}`);\n\n        // First try the exact key\n        if (variants[key] !== undefined) {\n            logger.debug(`Found exact match for ${key}: ${variants[key]}`);\n            return variants[key] as T;\n        }\n\n        // Then try without fitcopilot_ prefix if it exists\n        if (key.startsWith('fitcopilot_') && key.endsWith('_variant')) {\n            // Extract the middle part (e.g., 'hero' from 'fitcopilot_hero_variant')\n            const shortKey = key.replace('fitcopilot_', '').replace('_variant', '');\n\n            // Check if the short key exists\n            if (variants[shortKey] !== undefined) {\n                logger.debug(`Found match for ${shortKey}: ${variants[shortKey]}`);\n                return variants[shortKey] as T;\n            }\n        }\n\n        // If we're falling back to default, log this for debugging\n        logger.debug(`No match found for ${key}, using default: ${defaultVariant}`);\n        return defaultVariant;\n    }\n}\n\n// Create singleton instance\nconst wordPressService = new DefaultWordPressService();\n\nexport default wordPressService; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/services/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/services/interfaces/wordpress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/src/components/UI/OptimizedImage/OptimizedImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/src/components/UI/OptimizedImage/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/stories/Foundations/Components.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/stories/Foundations/Components.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/stories/UI/Button/Button.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/stories/UI/Button/Button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/stories/UI/Button/index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/stories/features/Homepage/Hero.stories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/styles/design-system/color-validation.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":10,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":10,"endColumn":45}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Color System Validation Tool\n * \n * This script validates the contrast ratios of our color system\n * against WCAG 2.1 AA standards.\n * \n * Run with: node color-validation.js\n */\n\nconst logger = require('../../utils/logger').default;\nconst designLogger = logger.addContext('DesignSystem');\n\n// Color definitions from our design system\nconst colors = {\n    // Primary (blue)\n    'primary-50': '#ebf8ff',\n    'primary-100': '#bee3f8',\n    'primary-200': '#90cdf4',\n    'primary-300': '#63b3ed',\n    'primary-400': '#4299e1',\n    'primary-500': '#3498db',\n    'primary-600': '#2980b9',\n    'primary-700': '#2c5282',\n    'primary-800': '#2a4365',\n    'primary-900': '#1a365d',\n\n    // Accent (lime) \n    'accent-50': '#faffed',\n    'accent-100': '#f3ffcc',\n    'accent-200': '#ebff99',\n    'accent-300': '#e2ff66',\n    'accent-400': '#ddff0e',\n    'accent-500': '#b3cc0b',\n    'accent-600': '#849909',\n    'accent-700': '#566606',\n    'accent-800': '#293303',\n    'accent-900': '#141a01',\n\n    // Gray scale\n    'gray-50': '#f9fafb',\n    'gray-100': '#f3f4f6',\n    'gray-200': '#e5e7eb',\n    'gray-300': '#d1d5db',\n    'gray-400': '#9ca3af',\n    'gray-500': '#6b7280',\n    'gray-600': '#4b5563',\n    'gray-700': '#374151',\n    'gray-800': '#1f2937',\n    'gray-900': '#111827',\n};\n\n// Common combinations used in the UI\nconst combinations = [\n    // Hero text combinations\n    { name: 'Hero heading on dark bg', fg: colors['gray-50'], bg: colors['gray-900'] },\n    { name: 'Hero paragraph on dark bg', fg: colors['gray-300'], bg: colors['gray-900'] },\n    { name: 'Accent text on dark bg', fg: colors['accent-400'], bg: colors['gray-900'] },\n\n    // Button combinations\n    { name: 'Primary button text on accent bg', fg: colors['gray-900'], bg: colors['accent-400'] },\n    { name: 'Secondary button text on dark bg', fg: colors['gray-50'], bg: colors['gray-800'] },\n\n    // Tooltip combinations\n    { name: 'Tooltip title on surface', fg: colors['gray-50'], bg: colors['gray-800'] },\n    { name: 'Tooltip body on surface', fg: colors['gray-300'], bg: colors['gray-800'] },\n];\n\n/**\n * Convert hex color to RGB values\n */\nfunction hexToRgb(hex) {\n    // Remove # if present\n    hex = hex.replace('#', '');\n\n    // Parse the hex values\n    const r = parseInt(hex.substring(0, 2), 16) / 255;\n    const g = parseInt(hex.substring(2, 4), 16) / 255;\n    const b = parseInt(hex.substring(4, 6), 16) / 255;\n\n    return { r, g, b };\n}\n\n/**\n * Calculate relative luminance according to WCAG 2.1\n * https://www.w3.org/TR/WCAG21/#dfn-relative-luminance\n */\nfunction getLuminance(hex) {\n    const { r, g, b } = hexToRgb(hex);\n\n    // Convert RGB to luminance using the formula\n    const R = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);\n    const G = g <= 0.03928 ? g / 12.92 : Math.pow((g + 0.055) / 1.055, 2.4);\n    const B = b <= 0.03928 ? b / 12.92 : Math.pow((b + 0.055) / 1.055, 2.4);\n\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n}\n\n/**\n * Calculate contrast ratio according to WCAG 2.1\n * https://www.w3.org/TR/WCAG21/#dfn-contrast-ratio\n */\nfunction getContrastRatio(color1, color2) {\n    const luminance1 = getLuminance(color1);\n    const luminance2 = getLuminance(color2);\n\n    // Return the contrast ratio\n    const lighter = Math.max(luminance1, luminance2);\n    const darker = Math.min(luminance1, luminance2);\n\n    return (lighter + 0.05) / (darker + 0.05);\n}\n\n/**\n * Check if contrast meets WCAG AA standards\n * 4.5:1 for normal text, 3:1 for large text\n */\nfunction passesWCAGAA(contrast, isLargeText = false) {\n    return isLargeText ? contrast >= 3 : contrast >= 4.5;\n}\n\n/**\n * Check if contrast meets WCAG AAA standards\n * 7:1 for normal text, 4.5:1 for large text\n */\nfunction passesWCAGAAA(contrast, isLargeText = false) {\n    return isLargeText ? contrast >= 4.5 : contrast >= 7;\n}\n\n// Validate and output results\ndesignLogger.debug('Color System Validation Results');\ndesignLogger.debug('===============================');\ndesignLogger.debug('');\n\n// Test each combination\ncombinations.forEach(combo => {\n    const contrast = getContrastRatio(combo.fg, combo.bg);\n    const passesAA = passesWCAGAA(contrast);\n    const passesAALarge = passesWCAGAA(contrast, true);\n    const passesAAA = passesWCAGAAA(contrast);\n    const passesAAALarge = passesWCAGAAA(contrast, true);\n\n    designLogger.debug(`${combo.name}:`);\n    designLogger.debug(`  Foreground: ${combo.fg}`);\n    designLogger.debug(`  Background: ${combo.bg}`);\n    designLogger.debug(`  Contrast Ratio: ${contrast.toFixed(2)}:1`);\n    designLogger.debug(`  WCAG AA (Normal Text): ${passesAA ? '✅ PASS' : '❌ FAIL'}`);\n    designLogger.debug(`  WCAG AA (Large Text): ${passesAALarge ? '✅ PASS' : '❌ FAIL'}`);\n    designLogger.debug(`  WCAG AAA (Normal Text): ${passesAAA ? '✅ PASS' : '❌ FAIL'}`);\n    designLogger.debug(`  WCAG AAA (Large Text): ${passesAAALarge ? '✅ PASS' : '❌ FAIL'}`);\n    designLogger.debug('');\n});\n\n// Summary\ndesignLogger.debug('Summary');\ndesignLogger.debug('=======');\nconst passedCount = combinations.filter(combo =>\n    passesWCAGAA(getContrastRatio(combo.fg, combo.bg))\n).length;\n\ndesignLogger.debug(`${passedCount}/${combinations.length} combinations pass WCAG AA standards`);\ndesignLogger.debug(`${Math.round((passedCount / combinations.length) * 100)}% compliance rate`); ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/styles/design-system/tailwind-color-plugin.js","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'theme' is defined but never used. Allowed unused args must match /^_/u.","line":4,"column":59,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":64},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used. Allowed unused args must match /^_/u.","line":4,"column":66,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":67}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Tailwind CSS plugin to integrate the FitCopilot enhanced color system\n */\nmodule.exports = function ({ addUtilities, addComponents, theme, e }) {\n    /**\n     * Add utilities for background colors\n     */\n    const backgroundUtilities = {\n        '.bg-background-primary': {\n            backgroundColor: 'var(--color-background-primary)'\n        },\n        '.bg-background-secondary': {\n            backgroundColor: 'var(--color-background-secondary)'\n        },\n        '.bg-background-tertiary': {\n            backgroundColor: 'var(--color-background-tertiary)'\n        },\n        '.bg-surface-primary': {\n            backgroundColor: 'var(--color-surface-primary)'\n        },\n        '.bg-surface-secondary': {\n            backgroundColor: 'var(--color-surface-secondary)'\n        }\n    };\n\n    /**\n     * Add utilities for text colors\n     */\n    const textUtilities = {\n        '.text-text-primary': {\n            color: 'var(--color-text-primary)'\n        },\n        '.text-text-secondary': {\n            color: 'var(--color-text-secondary)'\n        },\n        '.text-text-accent': {\n            color: 'var(--color-text-accent)'\n        }\n    };\n\n    /**\n     * Add utilities for border colors\n     */\n    const borderUtilities = {\n        '.border-border-light': {\n            borderColor: 'var(--color-border-light)'\n        },\n        '.border-border-medium': {\n            borderColor: 'var(--color-border-medium)'\n        }\n    };\n\n    /**\n     * Add utilities for applying theme variants\n     */\n    const themeUtilities = {\n        '.theme-default': {\n            'data-theme': 'default'\n        },\n        '.theme-gym': {\n            'data-theme': 'gym'\n        },\n        '.theme-sports': {\n            'data-theme': 'sports'\n        },\n        '.theme-wellness': {\n            'data-theme': 'wellness'\n        },\n        '.theme-modern': {\n            'data-theme': 'modern'\n        },\n        '.theme-classic': {\n            'data-theme': 'classic'\n        },\n        '.theme-minimalist': {\n            'data-theme': 'minimalist'\n        }\n    };\n\n    /**\n     * Add utilities for background patterns\n     */\n    const patternUtilities = {\n        '.bg-pattern-grid': {\n            position: 'relative',\n            '&::before': {\n                content: '\"\"',\n                position: 'absolute',\n                inset: '0',\n                backgroundImage: `\n          linear-gradient(var(--color-grid-pattern) 1px, transparent 1px),\n          linear-gradient(90deg, var(--color-grid-pattern) 1px, transparent 1px)\n        `,\n                backgroundSize: '30px 30px',\n                zIndex: '1',\n                pointerEvents: 'none',\n                opacity: '0.05'\n            }\n        },\n        '.bg-pattern-dots': {\n            position: 'relative',\n            '&::before': {\n                content: '\"\"',\n                position: 'absolute',\n                inset: '0',\n                backgroundImage: 'radial-gradient(var(--color-grid-pattern) 1px, transparent 1px)',\n                backgroundSize: '20px 20px',\n                zIndex: '1',\n                pointerEvents: 'none',\n                opacity: '0.05'\n            }\n        }\n    };\n\n    // Add all utilities\n    addUtilities(backgroundUtilities);\n    addUtilities(textUtilities);\n    addUtilities(borderUtilities);\n    addUtilities(themeUtilities);\n    addUtilities(patternUtilities);\n\n    // Add base components\n    addComponents({\n        '.section-component': {\n            position: 'relative',\n            backgroundColor: 'var(--color-background-primary)',\n            color: 'var(--color-text-primary)',\n            overflow: 'hidden'\n        }\n    });\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/types/event-types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/types/events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/types/global.d.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1122,1125],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1122,1125],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Global TypeScript declarations\n */\ndeclare global {\n    interface Window {\n        /**\n         * WordPress localized data for theme variants and other settings\n         */\n        athleteDashboardData?: {\n            wpData: {\n                /**\n                 * Theme variants configuration\n                 * Maps component keys to variant names\n                 */\n                themeVariants?: Record<string, string>;\n\n                /**\n                 * Demo mode flag\n                 * When true, shows navigation and variant switchers\n                 */\n                demoMode?: boolean;\n\n                /**\n                 * Site links for navigation\n                 */\n                siteLinks?: {\n                    registration?: string;\n                    login?: string;\n                };\n\n                /**\n                 * Site assets like logo\n                 */\n                assets?: {\n                    logo?: string;\n                };\n\n                /**\n                 * Other WordPress data can be added here\n                 */\n                [key: string]: any;\n            };\n        };\n\n        /**\n         * Animation on scroll library\n         */\n        AOS?: {\n            init: (options: object) => void;\n            refresh: () => void;\n        };\n\n        /**\n         * Global logger utility\n         * Available as fallback when imports fail\n         */\n        logger: {\n            debug: (message: string, ...data: unknown[]) => void;\n            info: (message: string, ...data: unknown[]) => void;\n            warn: (message: string, ...data: unknown[]) => void;\n            error: (message: string, ...data: unknown[]) => void;\n            captureError: (err: unknown, context?: Record<string, unknown>) => void;\n            group: (label: string, callback: () => void) => void;\n            time: (label: string) => string;\n            timeEnd: (timerId: string) => void;\n            addContext: (component: string) => {\n                debug: (msg: string, ...args: unknown[]) => void;\n                info: (msg: string, ...args: unknown[]) => void;\n                warn: (msg: string, ...args: unknown[]) => void;\n                error: (msg: string, ...args: unknown[]) => void;\n                captureError: (err: unknown, context?: Record<string, unknown>) => void;\n                time: (label: string) => string;\n                timeEnd: (timerId: string) => void;\n                group: (label: string, callback: () => void) => void;\n            };\n            setLogLevel: (level: number) => void;\n            LogLevel: {\n                DEBUG: number;\n                INFO: number;\n                WARN: number;\n                ERROR: number;\n            };\n        };\n    }\n}\n\nexport { };\n","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/types/wordpress.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/debug.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'styles' is assigned a value but never used.","line":34,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":34,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":121,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3699,3702],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3699,3702],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":121,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":121,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3708,3711],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3708,3711],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":193,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":193,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6057,6060],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6057,6060],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":194,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":194,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6119,6122],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6119,6122],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useRef } from 'react';\nimport logger from './logger';\n\ndeclare global {\n    interface Window {\n        fitcopilotDebugTools?: {\n            logRender: (componentName: string, renderTime: number) => void;\n            getComponentStats: () => {\n                total: number;\n                rendered: number;\n                times: Record<string, number>;\n            };\n        };\n    }\n}\n\n/**\n * Function to check if debug mode is active\n */\nexport const isDebugMode = (): boolean => {\n    const urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get('show_react_debug') === 'true';\n};\n\n/**\n * Log a message to the debug console\n * \n * @param message The message to log\n * @param type The type of message (log, warn, error)\n */\nexport const debugLog = (message: string, type: 'log' | 'warn' | 'error' = 'log'): void => {\n    if (!isDebugMode()) return;\n\n    const styles = {\n        log: 'background: #1f2937; color: #a3e635; padding: 2px 4px;',\n        warn: 'background: #fbbf24; color: #1f2937; padding: 2px 4px;',\n        error: 'background: #ef4444; color: white; padding: 2px 4px;'\n    };\n\n    // Use the logger utility based on the type\n    if (type === 'log') {\n        logger.debug(`FitCopilot Debug: ${message}`);\n    } else if (type === 'warn') {\n        logger.warn(`FitCopilot Debug: ${message}`);\n    } else if (type === 'error') {\n        logger.error(`FitCopilot Debug: ${message}`);\n    }\n};\n\n/**\n * Measure component render time\n * \n * @param componentName The name of the component to measure\n */\nexport const useRenderTime = (componentName: string): void => {\n    const startTime = useRef<number>(performance.now());\n\n    useEffect(() => {\n        if (!isDebugMode()) return;\n\n        const endTime = performance.now();\n        const renderTime = Math.round(endTime - startTime.current);\n\n        if (window.fitcopilotDebugTools?.logRender) {\n            window.fitcopilotDebugTools.logRender(componentName, renderTime);\n        } else {\n            debugLog(`${componentName} rendered in ${renderTime}ms`, 'log');\n        }\n\n        return () => {\n            debugLog(`${componentName} unmounted`, 'log');\n        };\n    }, [componentName]);\n};\n\n/**\n * Component wrapper for adding debugging functionality to a component\n */\nexport const withDebug = <P extends object>(\n    WrappedComponent: React.ComponentType<P>,\n    componentName?: string\n): React.FC<P> => {\n    const name = componentName || WrappedComponent.displayName || WrappedComponent.name || 'UnknownComponent';\n\n    const ComponentWithDebug: React.FC<P> = (props) => {\n        useRenderTime(name);\n\n        if (!isDebugMode()) {\n            return <WrappedComponent {...props} />;\n        }\n\n        return (\n            <>\n                <div className=\"react-debug-component\" data-component={name} id={`react-debug-${name.toLowerCase().replace(/[^a-z0-9]/g, '-')}`}>\n                    <span className=\"react-debug-component-name\">{name}</span>\n                    <span className=\"react-debug-render-time\"></span>\n                </div>\n                <WrappedComponent {...props} />\n            </>\n        );\n    };\n\n    ComponentWithDebug.displayName = `Debug(${name})`;\n\n    return ComponentWithDebug;\n};\n\n/**\n * React hook for debugging prop changes in a component\n * \n * @param props The props object to monitor\n * @param componentName The name of the component\n */\nexport const useDebugProps = <P extends object>(props: P, componentName: string): void => {\n    const prevProps = useRef<P | null>(null);\n\n    useEffect(() => {\n        if (!isDebugMode()) return;\n\n        if (prevProps.current) {\n            const changes: Record<string, { from: any, to: any }> = {};\n            let hasChanges = false;\n\n            Object.keys(props).forEach((key) => {\n                const propKey = key as keyof P;\n                if (props[propKey] !== prevProps.current![propKey]) {\n                    changes[key] = {\n                        from: prevProps.current![propKey],\n                        to: props[propKey]\n                    };\n                    hasChanges = true;\n                }\n            });\n\n            if (hasChanges) {\n                debugLog(`${componentName} props changed:`, 'log');\n                logger.group('Prop Changes', () => {\n                    logger.debug('Changed props:', changes);\n                });\n            }\n        }\n\n        prevProps.current = { ...props };\n    }, [props, componentName]);\n};\n\n/**\n * Performance monitor component\n */\nexport const PerformanceMonitor: React.FC = () => {\n    const frameRef = useRef<number>(0);\n    const fpsRef = useRef<number[]>([]);\n    const memoryRef = useRef<HTMLDivElement>(null);\n    const fpsCounterRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (!isDebugMode()) return;\n\n        let lastTime = performance.now();\n        let frames = 0;\n\n        const loop = () => {\n            const now = performance.now();\n            frames++;\n\n            if (now >= lastTime + 1000) {\n                const fps = Math.round((frames * 1000) / (now - lastTime));\n                fpsRef.current.push(fps);\n\n                if (fpsRef.current.length > 60) {\n                    fpsRef.current.shift();\n                }\n\n                const avgFps = Math.round(fpsRef.current.reduce((sum, val) => sum + val, 0) / fpsRef.current.length);\n\n                if (fpsCounterRef.current) {\n                    fpsCounterRef.current.textContent = `${avgFps} FPS`;\n\n                    if (avgFps < 30) {\n                        fpsCounterRef.current.style.color = '#ef4444';\n                    } else if (avgFps < 50) {\n                        fpsCounterRef.current.style.color = '#fbbf24';\n                    } else {\n                        fpsCounterRef.current.style.color = '#a3e635';\n                    }\n                }\n\n                frames = 0;\n                lastTime = now;\n            }\n\n            // Update memory usage if available\n            if (memoryRef.current && (performance as any).memory) {\n                const memory = (performance as any).memory;\n                const usedMemory = Math.round(memory.usedJSHeapSize / (1024 * 1024));\n                const totalMemory = Math.round(memory.jsHeapSizeLimit / (1024 * 1024));\n\n                memoryRef.current.textContent = `Memory: ${usedMemory}MB / ${totalMemory}MB`;\n\n                const memoryUsage = usedMemory / totalMemory;\n                if (memoryUsage > 0.8) {\n                    memoryRef.current.style.color = '#ef4444';\n                } else if (memoryUsage > 0.5) {\n                    memoryRef.current.style.color = '#fbbf24';\n                } else {\n                    memoryRef.current.style.color = '#a3e635';\n                }\n            }\n\n            frameRef.current = requestAnimationFrame(loop);\n        };\n\n        frameRef.current = requestAnimationFrame(loop);\n\n        return () => {\n            cancelAnimationFrame(frameRef.current);\n        };\n    }, []);\n\n    if (!isDebugMode()) {\n        return null;\n    }\n\n    return (\n        <div\n            style={{\n                position: 'fixed',\n                top: '0',\n                right: '0',\n                background: 'rgba(0, 0, 0, 0.7)',\n                color: '#fff',\n                padding: '5px 10px',\n                fontSize: '12px',\n                fontFamily: 'monospace',\n                zIndex: 9999,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '4px'\n            }}\n        >\n            <div ref={fpsCounterRef}>-- FPS</div>\n            <div ref={memoryRef}>Memory: --MB / --MB</div>\n        </div>\n    );\n};\n\nexport default {\n    isDebugMode,\n    debugLog,\n    useRenderTime,\n    withDebug,\n    useDebugProps,\n    PerformanceMonitor\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/lazyLoad.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":113,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":113,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3068,3071],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3068,3071],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { lazy, Suspense } from 'react';\n\ninterface LazyLoadOptions {\n    /**\n     * Custom fallback component to show while loading\n     * @default default skeleton loader\n     */\n    fallback?: React.ReactNode;\n\n    /**\n     * Error boundary fallback to show on error\n     * @default generic error UI\n     */\n    errorFallback?: React.ComponentType<{ error: Error; retry: () => void }>;\n\n    /**\n     * Minimum delay before showing component (prevents flash)\n     * @default 0\n     */\n    delay?: number;\n\n    /**\n     * Whether to prefetch the component\n     * @default false\n     */\n    prefetch?: boolean;\n}\n\n/**\n * Default skeleton loader for lazy loaded components\n */\nconst DefaultSkeleton: React.FC<{ className?: string }> = ({ className = '' }) => (\n    <div\n        className={`lazy-loading-skeleton ${className}`}\n        role=\"status\"\n        aria-busy=\"true\"\n        aria-live=\"polite\"\n    >\n        <div className=\"skeleton-animation\"></div>\n        <span className=\"visually-hidden\">Loading...</span>\n    </div>\n);\n\n/**\n * Default error fallback for lazy loaded components\n */\nconst DefaultErrorFallback: React.FC<{ error: Error; retry: () => void }> = ({ error, retry }) => (\n    <div className=\"lazy-loading-error\" role=\"alert\">\n        <h3>Something went wrong</h3>\n        <p>{error.message || 'Failed to load component'}</p>\n        <button onClick={retry} className=\"retry-button\">\n            Try Again\n        </button>\n    </div>\n);\n\n/**\n * Error boundary component for handling lazy loading errors\n */\nclass ErrorBoundary extends React.Component<\n    {\n        children: React.ReactNode;\n        fallback: React.ComponentType<{ error: Error; retry: () => void }>;\n    },\n    { hasError: boolean; error: Error | null }\n> {\n    constructor(props: { children: React.ReactNode; fallback: React.ComponentType<{ error: Error; retry: () => void }> }) {\n        super(props);\n        this.state = { hasError: false, error: null };\n    }\n\n    static getDerivedStateFromError(error: Error) {\n        return { hasError: true, error };\n    }\n\n    handleRetry = () => {\n        this.setState({ hasError: false, error: null });\n    };\n\n    render() {\n        const { hasError, error } = this.state;\n        const { children, fallback: Fallback } = this.props;\n\n        if (hasError && error) {\n            return <Fallback error={error} retry={this.handleRetry} />;\n        }\n\n        return children;\n    }\n}\n\n/**\n * Creates a lazy-loaded component with error boundary and custom fallback\n * \n * @param factory Function that imports the component\n * @param options Configuration options for lazy loading\n * @returns Lazy-loaded component with error handling\n * \n * @example\n * // Basic usage\n * const LazyHero = lazyLoad(() => import('../features/Homepage/Hero/Hero'));\n * \n * @example\n * // With custom fallback\n * const LazyTraining = lazyLoad(\n *   () => import('../features/Homepage/Training/Training'),\n *   { \n *     fallback: <TrainingSkeleton />,\n *     prefetch: true\n *   }\n * );\n */\nexport function lazyLoad<T extends React.ComponentType<any>>(\n    factory: () => Promise<{ default: T }>,\n    options: LazyLoadOptions = {}\n): React.ComponentType<React.ComponentProps<T>> {\n    const {\n        fallback = <DefaultSkeleton />,\n        errorFallback = DefaultErrorFallback,\n        delay = 0,\n        prefetch = false\n    } = options;\n\n    // Create the lazy component\n    const LazyComponent = lazy(() => {\n        if (delay > 0) {\n            return new Promise(resolve => {\n                setTimeout(() => {\n                    resolve(factory());\n                }, delay);\n            });\n        }\n        return factory();\n    });\n\n    // Handle prefetching\n    if (prefetch) {\n        // Prefetch in the next idle period\n        window.requestIdleCallback?.(() => {\n            factory().catch(() => {\n                // Silent prefetch error\n            });\n        }, { timeout: 2000 });\n    }\n\n    // Return wrapped component\n    const WrappedLazyComponent = (props: React.ComponentProps<T>) => (\n        <ErrorBoundary fallback={errorFallback}>\n            <Suspense fallback={fallback}>\n                <LazyComponent {...props} />\n            </Suspense>\n        </ErrorBoundary>\n    );\n\n    // Add display name to fix the linting error\n    WrappedLazyComponent.displayName = `LazyLoaded(${factory.toString().split('(')[0].split(' ').pop() || 'Component'})`;\n\n    return WrappedLazyComponent;\n}\n\n/**\n * Creates a variant-aware lazy loaded component that only loads the selected variant\n * \n * @param variantMap Map of variant keys to component import factories\n * @param options Configuration options for lazy loading\n * @returns A component that will dynamically load the selected variant\n * \n * @example\n * const LazyFeatures = lazyLoadVariant({\n *   default: () => import('../features/Homepage/Features/variants/default'),\n *   sports: () => import('../features/Homepage/Features/variants/sports'),\n *   wellness: () => import('../features/Homepage/Features/variants/wellness')\n * });\n * \n * // Later in JSX:\n * <LazyFeatures variant=\"sports\" />\n */\nexport function lazyLoadVariant<V extends string, P extends { variant?: V }>(\n    variantMap: Record<string, () => Promise<{ default: React.ComponentType<P> }>>,\n    options: LazyLoadOptions = {}\n): React.ComponentType<P> {\n    const lazyVariants: Record<string, React.ComponentType<P>> = {};\n\n    // Create lazy component for each variant\n    Object.entries(variantMap).forEach(([variant, factory]) => {\n        lazyVariants[variant] = lazyLoad(factory, options);\n    });\n\n    // Return component that renders the appropriate variant\n    const VariantComponent = function (props: P) {\n        const variant = (props.variant || 'default') as string;\n        const Component = lazyVariants[variant] || lazyVariants['default'];\n\n        return <Component {...props} />;\n    };\n\n    // Add display name to fix the linting error\n    VariantComponent.displayName = 'LazyLoadedVariant';\n\n    return VariantComponent;\n}\n\nexport default lazyLoad; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/logLevels.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":27,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":16}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Log level definitions\n * Separated to avoid circular dependencies and initialization issues\n */\n\n// Log levels enum - IMPORTANT: This must be first in the file\nexport enum LogLevel {\n    DEBUG = 0,\n    INFO = 1,\n    WARN = 2,\n    ERROR = 3,\n}\n\n// Safe fallback values in case enum isn't initialized\nexport const LOG_LEVEL_VALUES = {\n    DEBUG: 0,\n    INFO: 1,\n    WARN: 2,\n    ERROR: 3\n};\n\n// Helper function for safely accessing log levels even if enum initialization fails\nexport const getLogLevelValue = (level: keyof typeof LogLevel): number => {\n    try {\n        // Try to access through the enum first\n        return LogLevel[level];\n    } catch (_e) {\n        // Fallback to hardcoded values if enum access fails\n        return LOG_LEVEL_VALUES[level] || LOG_LEVEL_VALUES.INFO;\n    }\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/logger.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":26,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":15},{"ruleId":"fitcopilot/use-logger","severity":1,"message":"Use logger.log instead of console.log","line":84,"column":13,"nodeType":"MemberExpression","messageId":"useLogger","endLine":84,"endColumn":24,"fix":{"range":[2502,2513],"text":"logger.debug"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":85,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":85,"endColumn":20},{"ruleId":"fitcopilot/use-logger","severity":1,"message":"Use logger.info instead of console.info","line":92,"column":13,"nodeType":"MemberExpression","messageId":"useLogger","endLine":92,"endColumn":25,"fix":{"range":[2736,2743],"text":"logger"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":93,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":93,"endColumn":20},{"ruleId":"fitcopilot/use-logger","severity":1,"message":"Use logger.warn instead of console.warn","line":100,"column":13,"nodeType":"MemberExpression","messageId":"useLogger","endLine":100,"endColumn":25,"fix":{"range":[2971,2978],"text":"logger"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":101,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":101,"endColumn":20},{"ruleId":"fitcopilot/use-logger","severity":1,"message":"Use logger.error instead of console.error","line":108,"column":13,"nodeType":"MemberExpression","messageId":"useLogger","endLine":108,"endColumn":26,"fix":{"range":[3207,3214],"text":"logger"}},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":109,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":109,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":117,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":117,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":125,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":125,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":133,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":133,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":141,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":141,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'_e' is defined but never used.","line":181,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":181,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":261,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":261,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":280,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":280,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":287,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":287,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":302,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":302,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":317,"column":22,"nodeType":null,"messageId":"unusedVar","endLine":317,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":326,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":326,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":329,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":329,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'e' is defined but never used.","line":379,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":379,"endColumn":15}],"suppressedMessages":[{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":84,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":84,"endColumn":24,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2502,2523],"text":""},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":92,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":92,"endColumn":25,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"info"},"fix":{"range":[2736,2758],"text":""},"desc":"Remove the console.info()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":116,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":116,"endColumn":26,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"group"},"fix":{"range":[3439,3460],"text":""},"desc":"Remove the console.group()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":124,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":124,"endColumn":29,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"groupEnd"},"fix":{"range":[3659,3678],"text":""},"desc":"Remove the console.groupEnd()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":132,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":132,"endColumn":25,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"time"},"fix":{"range":[3886,3906],"text":""},"desc":"Remove the console.time()."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"no-console","severity":2,"message":"Unexpected console statement.","line":140,"column":13,"nodeType":"MemberExpression","messageId":"unexpected","endLine":140,"endColumn":28,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"timeEnd"},"fix":{"range":[4117,4140],"text":""},"desc":"Remove the console.timeEnd()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":18,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"/**\n * Logger utility for consistent logging across the application\n * Provides environment-aware logging and support for different log levels\n */\n\nimport { LOG_LEVEL_VALUES, LogLevel } from './logLevels';\n\n// Determine environment\nconst isProduction = process.env.NODE_ENV === 'production';\n// const isDevelopment = process.env.NODE_ENV === 'development'; // Removed unused variable\nconst isTest = process.env.NODE_ENV === 'test';\n\n// Advanced configuration with environment-specific settings\ninterface LoggerConfig {\n    minLevel: number; // Changed from LogLevel to number for safety\n    enableConsole: boolean;\n    enableRemoteLogging?: boolean;\n    enableGrouping: boolean;\n    enableTimers: boolean;\n}\n\n// Safely access log level values\nconst safeLogLevel = (level: keyof typeof LogLevel): number => {\n    try {\n        return LogLevel[level];\n    } catch (e) {\n        // Fallback to hardcoded values if enum access fails\n        return LOG_LEVEL_VALUES[level];\n    }\n};\n\n// Default configurations based on environment - use safe access\nconst DEFAULT_CONFIGS: Record<string, LoggerConfig> = {\n    production: {\n        minLevel: safeLogLevel('WARN'),\n        enableConsole: true,\n        enableRemoteLogging: true,\n        enableGrouping: false,\n        enableTimers: false\n    },\n    development: {\n        minLevel: safeLogLevel('DEBUG'),\n        enableConsole: true,\n        enableRemoteLogging: false,\n        enableGrouping: true,\n        enableTimers: true\n    },\n    test: {\n        minLevel: safeLogLevel('ERROR'),\n        enableConsole: false,\n        enableRemoteLogging: false,\n        enableGrouping: false,\n        enableTimers: false\n    }\n};\n\n// Re-export LogLevel\nexport { LogLevel };\n\n// Get environment-specific default config\nconst getDefaultConfig = (): LoggerConfig => {\n    if (isProduction) return DEFAULT_CONFIGS.production;\n    if (isTest) return DEFAULT_CONFIGS.test;\n    return DEFAULT_CONFIGS.development;\n};\n\n// Active configuration (starts with environment default)\nlet activeConfig = getDefaultConfig();\n\n// Function to set or update logger configuration\nexport const configureLogger = (config: Partial<LoggerConfig>): void => {\n    activeConfig = { ...activeConfig, ...config };\n};\n\n// Timer IDs for performance measurement\nconst timers: Record<string, number> = {};\nlet timerCounter = 0;\n\n// Safe console methods with fallbacks\nconst safeConsole = {\n    log: (...args: unknown[]) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.log(...args);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    info: (...args: unknown[]) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.info(...args);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    warn: (...args: unknown[]) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.warn(...args);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    error: (...args: unknown[]) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.error(...args);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    group: (label: string) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.group(label);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    groupEnd: () => {\n        try {\n            // eslint-disable-next-line no-console\n            console.groupEnd();\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    time: (label: string) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.time(label);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    },\n    timeEnd: (label: string) => {\n        try {\n            // eslint-disable-next-line no-console\n            console.timeEnd(label);\n        } catch (_e) {\n            // Silent fallback if console is not available\n        }\n    }\n};\n\n/**\n * Base logging function\n * @param level Log level\n * @param message Main message to log\n * @param data Additional data to log\n */\nconst logMessage = (level: number, message: string, ...data: unknown[]): void => {\n    // Skip logging if the level is below the configured minimum level\n    if (level < activeConfig.minLevel) return;\n\n    // Format the message with a timestamp\n    const timestamp = new Date().toISOString();\n    const formattedMessage = `[${timestamp}] ${message}`;\n\n    // Skip console output if disabled in config\n    if (!activeConfig.enableConsole) return;\n\n    // Use direct console access with safety checks\n    try {\n        // Log to console based on level\n        switch (level) {\n            case safeLogLevel('DEBUG'):\n                safeConsole.log(formattedMessage, ...data);\n                break;\n            case safeLogLevel('INFO'):\n                safeConsole.info(formattedMessage, ...data);\n                break;\n            case safeLogLevel('WARN'):\n                safeConsole.warn(formattedMessage, ...data);\n                break;\n            case safeLogLevel('ERROR'):\n                safeConsole.error(formattedMessage, ...data);\n                break;\n        }\n    } catch (_e) {\n        // Silent fallback if console access fails\n    }\n\n    // In production with remote logging enabled, send logs to remote service\n    if (isProduction && activeConfig.enableRemoteLogging) {\n        // TODO: Implement remote logging service integration\n        // Example: sendLogToRemoteService(level, message, data);\n    }\n};\n\n/**\n * Log debug message\n * Only visible in development mode or when log level is set to DEBUG\n */\nexport const debug = (message: string, ...data: unknown[]): void => {\n    logMessage(safeLogLevel('DEBUG'), message, ...data);\n};\n\n/**\n * Log info message\n * General information about application flow\n */\nexport const info = (message: string, ...data: unknown[]): void => {\n    logMessage(safeLogLevel('INFO'), message, ...data);\n};\n\n/**\n * Log warning message\n * For issues that don't prevent the application from functioning\n */\nexport const warn = (message: string, ...data: unknown[]): void => {\n    logMessage(safeLogLevel('WARN'), message, ...data);\n};\n\n/**\n * Log error message\n * For issues that affect functionality\n */\nexport const error = (message: string, ...data: unknown[]): void => {\n    logMessage(safeLogLevel('ERROR'), message, ...data);\n};\n\n/**\n * Capture and log error objects\n * Useful for try/catch blocks\n */\nexport const captureError = (err: unknown, context: Record<string, unknown> = {}): void => {\n    const errorMessage = err instanceof Error\n        ? err.message\n        : (typeof err === 'string' ? err : 'Unknown error');\n\n    const component = context.component ? `[${String(context.component)}] ` : '';\n    const contextMessage = `${component}${errorMessage}`;\n\n    error(contextMessage, { ...context, error: err });\n\n    // In production, we might want to send errors to an error tracking service\n    if (isProduction) {\n        // TODO: Implement error tracking service integration\n        // Example: Sentry, LogRocket, etc.\n    }\n};\n\n/**\n * Group related logs together\n */\nexport const group = (label: string, callback: () => void): void => {\n    if (!activeConfig.enableGrouping) {\n        // Just execute the callback without grouping if grouping is disabled\n        callback();\n        return;\n    }\n\n    try {\n        // eslint-disable-next-line no-console\n        safeConsole.group(label);\n        callback();\n        // eslint-disable-next-line no-console\n        safeConsole.groupEnd();\n    } catch (e) {\n        // If grouping fails, just run the callback\n        callback();\n    }\n};\n\n/**\n * Start timing a performance measurement\n * @param label Label for the timer\n * @returns Timer ID to use with timeEnd\n */\nexport const time = (label: string): string => {\n    const timerId = `${label}-${timerCounter++}`;\n    if (!activeConfig.enableTimers) return timerId;\n\n    if (!isProduction) {\n        try {\n            // eslint-disable-next-line no-console\n            safeConsole.time(timerId);\n        } catch (e) {\n            // Silent fallback if console.time is not available\n        }\n    }\n\n    try {\n        timers[timerId] = performance.now();\n    } catch (e) {\n        // Silent fallback if performance API is not available\n    }\n\n    return timerId;\n};\n\n/**\n * End timing a performance measurement\n * @param timerId Timer ID from time()\n */\nexport const timeEnd = (timerId: string): void => {\n    if (!timers[timerId]) {\n        try {\n            warn(`Timer '${timerId}' does not exist`);\n        } catch (e) {\n            // Silent fallback\n        }\n        return;\n    }\n\n    try {\n        const elapsed = performance.now() - timers[timerId];\n\n        if (!activeConfig.enableTimers) return;\n\n        if (!isProduction) {\n            try {\n                // eslint-disable-next-line no-console\n                safeConsole.timeEnd(timerId);\n            } catch (e) {\n                // Silent fallback if console.timeEnd is not available\n            }\n        }\n\n        delete timers[timerId];\n\n        try {\n            debug(`Operation took ${elapsed.toFixed(2)}ms`, { timerId, duration: elapsed });\n        } catch (e) {\n            // Silent fallback\n        }\n    } catch (e) {\n        // Silent fallback if performance API is not available\n    }\n};\n\n/**\n * Create a component-specific logger\n * @param component Component name or identifier\n * @returns Logger with component context\n */\nexport const addContext = (component: string) => {\n    return {\n        debug: (msg: string, ...args: unknown[]) => debug(`[${component}] ${msg}`, ...args),\n        info: (msg: string, ...args: unknown[]) => info(`[${component}] ${msg}`, ...args),\n        warn: (msg: string, ...args: unknown[]) => warn(`[${component}] ${msg}`, ...args),\n        error: (msg: string, ...args: unknown[]) => error(`[${component}] ${msg}`, ...args),\n        captureError: (err: unknown, context: Record<string, unknown> = {}) =>\n            captureError(err, { ...context, component }),\n        time: (label: string) => time(`${component}:${label}`),\n        timeEnd,\n        group: (label: string, callback: () => void) => group(`${component}: ${label}`, callback),\n    };\n};\n\n// Function to set the current log level (maintained for backwards compatibility)\nexport const setLogLevel = (level: number): void => {\n    configureLogger({ minLevel: level });\n};\n\n// Create the logger object\nconst logger = {\n    debug,\n    info,\n    warn,\n    error,\n    captureError,\n    group,\n    time,\n    timeEnd,\n    addContext,\n    setLogLevel,\n    configureLogger,\n    LogLevel // Re-export for compatibility\n};\n\n// Make logger globally available as a fallback\nif (typeof window !== 'undefined') {\n    try {\n        // @ts-expect-error - Explicitly adding to window\n        window.logger = logger;\n    } catch (e) {\n        // Silent fallback if window is not available or cannot be modified\n    }\n}\n\n// Default export for normal import usage\nexport default logger; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/mountVerification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/performance/LazyLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]},{"filePath":"/Users/justinfassio/Local Sites/fitcopilot-theme/app/public/wp-content/themes/fitcopilot/src/utils/variantLoader.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":28,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[937,940],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[937,940],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":70,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":70,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2479,2482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2479,2482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":71,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2526,2529],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2526,2529],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":72,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2554,2557],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2554,2557],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":93,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3301,3304],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3301,3304],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'variant' is assigned a value but never used.","line":95,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":95,"endColumn":23},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3558,3561],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3558,3561],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4668,4671],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4668,4671],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport logger from './logger';\n\n/**\n * Enhanced Variant Loader Utility\n * \n * This utility provides dynamic loading of component variants based on the theme\n * setting or user preferences. It uses React's lazy loading to reduce initial\n * bundle size by dynamically importing variant components when needed.\n */\n\n// Type definitions for variant components\nexport type VariantKey = 'default' | 'modern' | 'wellness' | 'sports' | 'boutique' | 'classic' | 'minimalist' | 'registration';\n\n// Map of variant to component path (for dynamic imports)\nconst variantPaths: Record<string, string> = {\n    'default': 'default',\n    'modern': 'modern',\n    'wellness': 'wellness',\n    'sports': 'sports',\n    'boutique': 'boutique',\n    'classic': 'classic',\n    'minimalist': 'minimalist',\n    'registration': 'registration'\n};\n\n// Cache for loaded variant components\nconst variantCache: Record<string, Record<VariantKey, any>> = {};\n\n/**\n * Dynamic variant importer function\n * \n * @param featurePath Path to the feature (e.g., 'Homepage/Hero')\n * @param variant Variant key to load\n * @returns Promise that resolves to the variant component\n */\nexport const importVariant = async (featurePath: string, variant: VariantKey = 'default') => {\n    try {\n        // Use actual variant path or fallback to default\n        const variantPathKey = variantPaths[variant] || 'default';\n\n        // Dynamic import based on feature path and variant\n        // Use a more specific path to avoid webpack trying to load all files\n        const module = await import(`../features/${featurePath}/variants/${variantPathKey}/index.ts`);\n\n        // Return the component or fallback to default export\n        return module.default || module;\n    } catch (err) {\n        logger.error(`Error loading variant ${variant} for ${featurePath}:`, err);\n\n        // Fallback to default variant\n        if (variant !== 'default') {\n            logger.info(`Falling back to default variant for ${featurePath}`);\n            return importVariant(featurePath, 'default');\n        }\n\n        // If even the default fails, throw the error\n        throw err;\n    }\n};\n\n/**\n * Gets the appropriate component variant based on the current theme\n * \n * @param variantMap Map of available variants\n * @param defaultVariant Default variant to use if none matches\n * @returns The appropriate variant component\n */\nexport const getComponentVariant = (\n    variantMap: Record<VariantKey, React.ComponentType<any>>,\n    defaultVariant: React.ComponentType<any>\n): React.ComponentType<any> => {\n    // Determine which variant to use from data-theme attribute or default\n    const bodyTheme = document.body.getAttribute('data-theme') as VariantKey;\n\n    // Check if variant exists in map\n    if (bodyTheme && variantMap[bodyTheme]) {\n        return variantMap[bodyTheme];\n    }\n\n    // Return default variant\n    return defaultVariant || variantMap.default || variantMap.modern;\n};\n\n/**\n * Creates a React component that dynamically loads the appropriate variant\n * \n * @param featurePath Path to the feature (e.g., 'Homepage/Hero')\n * @returns A component that will render the appropriate variant\n */\nexport const createVariantComponent = (featurePath: string) => {\n    // Create a React component\n    const VariantLoader = (props: any) => {\n        // Determine which variant to use (from data-theme attribute or props)\n        const [variant, setVariant] = React.useState<VariantKey>('default');\n        const [VariantComponent, setVariantComponent] = React.useState<React.ComponentType<any> | null>(null);\n        const [isLoading, setIsLoading] = React.useState(true);\n        const [error, setError] = React.useState<Error | null>(null);\n\n        // Effect to determine and load the variant\n        React.useEffect(() => {\n            const determineVariant = () => {\n                // First check props for variant\n                if (props.variant && variantPaths[props.variant]) {\n                    return props.variant as VariantKey;\n                }\n\n                // Then check for body data-theme attribute\n                const bodyTheme = document.body.getAttribute('data-theme');\n                if (bodyTheme && variantPaths[bodyTheme]) {\n                    return bodyTheme as VariantKey;\n                }\n\n                // Default fallback\n                return 'default' as VariantKey;\n            };\n\n            const selectedVariant = determineVariant();\n            setVariant(selectedVariant);\n\n            // Load the variant if not already cached\n            if (!variantCache[featurePath]) {\n                variantCache[featurePath] = {} as Record<VariantKey, any>;\n            }\n\n            // If we have the component in cache, use it\n            if (variantCache[featurePath][selectedVariant]) {\n                setVariantComponent(variantCache[featurePath][selectedVariant]);\n                setIsLoading(false);\n                return;\n            }\n\n            // Otherwise, dynamically import it\n            setIsLoading(true);\n            importVariant(featurePath, selectedVariant)\n                .then(module => {\n                    // Cache the component\n                    const Component = module.default || module;\n                    variantCache[featurePath][selectedVariant] = Component;\n                    setVariantComponent(() => Component);\n                    setIsLoading(false);\n                })\n                .catch(err => {\n                    logger.error(`Failed to load variant ${selectedVariant} for ${featurePath}:`, err);\n                    setError(err);\n                    setIsLoading(false);\n                });\n        }, [props.variant]);  // Remove featurePath dependency as it doesn't change\n\n        // Show loading state\n        if (isLoading) {\n            return props.fallback || React.createElement('div', { className: \"lazy-loading-skeleton\" });\n        }\n\n        // Show error state\n        if (error || !VariantComponent) {\n            return React.createElement('div', { className: \"variant-error\" },\n                React.createElement('p', null, 'Failed to load component'),\n                process.env.NODE_ENV !== 'production' && error &&\n                React.createElement('pre', null, error.message)\n            );\n        }\n\n        // Render the variant component with props\n        return React.createElement(VariantComponent, props);\n    };\n\n    // Add display name to fix linting error\n    VariantLoader.displayName = `VariantLoader(${featurePath.split('/').pop() || 'Component'})`;\n\n    return VariantLoader;\n};\n\n/**\n * Creates a lazy-loaded variant component using React.lazy\n * \n * @param featurePath Path to the feature (e.g., 'Homepage/Hero')\n * @returns A lazy-loaded component that will render the appropriate variant\n */\nexport const createLazyVariantComponent = (featurePath: string) => {\n    return React.lazy(() => {\n        // Determine variant from data-theme attribute\n        const bodyTheme = document.body.getAttribute('data-theme');\n        const variant = (bodyTheme && variantPaths[bodyTheme]) ?\n            bodyTheme as VariantKey : 'default';\n\n        return importVariant(featurePath, variant)\n            .then(module => {\n                // Return in the format expected by React.lazy\n                return { default: module.default || module };\n            });\n    });\n};\n\n/**\n * Utility to preload specific variants\n * \n * @param featurePath Path to the feature\n * @param variants Array of variants to preload\n */\nexport const preloadVariants = (featurePath: string, variants: VariantKey[] = ['default']) => {\n    variants.forEach(variant => {\n        // Create a prefetch link element\n        const link = document.createElement('link');\n        link.rel = 'prefetch';\n        link.href = `/wp-content/themes/fitcopilot/dist/chunks/variant-${variant.toLowerCase()}.js`;\n        link.as = 'script';\n        document.head.appendChild(link);\n\n        // Also start the actual import (but don't wait for it)\n        importVariant(featurePath, variant).catch(() => {\n            // Silently catch any errors during preloading\n        });\n    });\n};\n\nexport default {\n    importVariant,\n    createVariantComponent,\n    createLazyVariantComponent,\n    preloadVariants,\n    getComponentVariant\n}; ","usedDeprecatedRules":[{"ruleId":"no-extra-semi","replacedBy":[]},{"ruleId":"no-mixed-spaces-and-tabs","replacedBy":[]}]}]
