window.fitcopilotDebug&&window.fitcopilotDebug.isDebugMode&&(console.log("%c FitCopilot React Debug Tools Activated ","background: #a3e635; color: #111827; font-weight: bold; padding: 3px 5px;"),{init:function(){document.addEventListener("DOMContentLoaded",(()=>{this.checkMountPoint(),this.fetchManifest(),this.setupMutationObserver(),this.addToggleButton()})),window.fitcopilotDebugTools={logRender:this.logComponentRender.bind(this),getComponentStats:this.getComponentStats.bind(this)}},checkMountPoint:function(){const e=window.fitcopilotDebug.mountPointId||"athlete-dashboard-root",t=document.getElementById(e),n=document.getElementById("mount-point-status");n&&(t?(n.textContent="Found",n.style.color="#a3e635"):(n.textContent="Missing",n.style.color="#ef4444",console.error(`%c React mount point #${e} not found! `,"background: #ef4444; color: white;")))},fetchManifest:function(){const e=window.fitcopilotDebug.manifestPath,t=document.getElementById("asset-list");e&&t&&fetch(e).then((e=>{if(!e.ok)throw new Error("Failed to load manifest.json");return e.json()})).then((e=>{t.innerHTML="",Object.entries(e).forEach((([e,n])=>{const o=document.createElement("li");fetch(`${window.fitcopilotDebug.themePath}/dist/${n}`).then((t=>{const d=t.ok;o.innerHTML=`\n                                    <span style="color: ${d?"#a3e635":"#ef4444"}">\n                                        ${e}: ${n} ${d?"✓":"✗"}\n                                    </span>\n                                `})).catch((()=>{o.innerHTML=`\n                                    <span style="color: #ef4444">\n                                        ${e}: ${n} ✗\n                                    </span>\n                                `})),t.appendChild(o)}))})).catch((e=>{console.error("Error loading manifest:",e),t.innerHTML=`<li style="color: #ef4444">Error loading manifest: ${e.message}</li>`}))},setupMutationObserver:function(){new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.length>0&&document.querySelectorAll(".react-debug-component").length>0&&this.updateComponentList()}))})).observe(document.body,{childList:!0,subtree:!0})},updateComponentList:function(){const e=document.getElementById("component-timing");if(!e)return;const t=document.querySelectorAll(".react-debug-component");if(0===t.length)return void(e.innerHTML="<p>No components detected yet.</p>");e.innerHTML="";const n=document.createElement("table");n.style.width="100%",n.style.borderCollapse="collapse";const o=document.createElement("thead");o.innerHTML='\n                <tr>\n                    <th style="text-align: left; padding: 3px;">Component</th>\n                    <th style="text-align: left; padding: 3px;">Render Time</th>\n                </tr>\n            ',n.appendChild(o);const d=document.createElement("tbody");t.forEach((e=>{const t=document.createElement("tr"),n=document.createElement("td");n.style.padding="3px",n.textContent=e.getAttribute("data-component");const o=document.createElement("td");o.style.padding="3px";const i=e.querySelector(".react-debug-render-time");o.textContent=i?i.textContent:"Not rendered",t.appendChild(n),t.appendChild(o),d.appendChild(t)})),n.appendChild(d),e.appendChild(n)},logComponentRender:function(e,t){const n="react-debug-"+e.toLowerCase().replace(/[^a-z0-9]/g,"-"),o=document.getElementById(n);if(o){const e=o.querySelector(".react-debug-render-time");e&&(e.textContent=t+"ms"),this.updateComponentList()}console.log(`%c Component ${e} rendered in ${t}ms `,"background: #a3e635; color: #111827; padding: 2px 4px;")},getComponentStats:function(){const e=document.querySelectorAll(".react-debug-component"),t={total:e.length,rendered:0,times:{}};return e.forEach((e=>{const n=e.getAttribute("data-component"),o=e.querySelector(".react-debug-render-time");o&&o.textContent&&(t.rendered++,t.times[n]=parseFloat(o.textContent))})),t},addToggleButton:function(){const e=document.createElement("button");e.textContent="Toggle Debug Panel",e.style.position="fixed",e.style.bottom="10px",e.style.right="10px",e.style.zIndex="9998",e.style.background="#a3e635",e.style.color="#111827",e.style.border="none",e.style.borderRadius="3px",e.style.padding="5px 10px",e.style.cursor="pointer",e.style.fontSize="12px",e.addEventListener("click",(()=>{const e=document.getElementById("react-debug-panel");e&&(e.style.display="none"===e.style.display?"block":"none")})),document.body.appendChild(e)}}.init());